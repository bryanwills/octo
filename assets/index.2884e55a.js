const Ax=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};Ax();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},xx=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},B1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,c=s+2<e.length,l=c?e[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(U1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):xx(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const l=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw Error();const f=i<<2|a>>4;if(r.push(f),l!==64){const p=a<<4&240|l>>2;if(r.push(p),h!==64){const v=l<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Rx=function(e){const t=U1(e);return B1.encodeByteArray(t,!0)},Lu=function(e){return Rx(e).replace(/\./g,"")},Dx=function(e){try{return B1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Lu(JSON.stringify(n)),Lu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V1(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function W1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function z1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Px(){return Lt().indexOf("Electron/")>=0}function H1(){const e=Lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Nx(){return Lt().indexOf("MSAppHost/")>=0}function $x(){return typeof indexedDB=="object"}function Lx(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="FirebaseError";class Cs extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Fx,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?Ux(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Cs(s,a,r)}}function Ux(e,t){return e.replace(Bx,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const Bx=/\{\$([^}]+)}/g;function jx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(Zy(i)&&Zy(o)){if(!Qa(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Zy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Vx(e,t){const n=new Wx(e,t);return n.subscribe.bind(n)}class Wx{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zx(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Zf),s.error===void 0&&(s.error=Zf),s.complete===void 0&&(s.complete=Zf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zx(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Zf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e){return e&&e._delegate?e._delegate:e}class _s{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Mx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Kx(t))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Us){return this.instances.has(t)}getOptions(t=Us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yx(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Us){return this.component?this.component.multipleInstances?t:Us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yx(e){return e===Us?void 0:e}function Kx(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Hx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ye||(Ye={}));const qx={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},Xx=Ye.INFO,Qx={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},Jx=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Qx[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tg{constructor(t){this.name=t,this._logLevel=Xx,this._logHandler=Jx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...t),this._logHandler(this,Ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...t),this._logHandler(this,Ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...t),this._logHandler(this,Ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...t),this._logHandler(this,Ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...t),this._logHandler(this,Ye.ERROR,...t)}}const Zx=(e,t)=>t.some(n=>e instanceof n);let e_,t_;function eR(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tR(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y1=new WeakMap,xp=new WeakMap,K1=new WeakMap,ed=new WeakMap,ng=new WeakMap;function nR(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(hs(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Y1.set(n,e)}).catch(()=>{}),ng.set(t,e),t}function rR(e){if(xp.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});xp.set(e,t)}let Rp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||K1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sR(e){Rp=e(Rp)}function iR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(td(this),t,...n);return K1.set(r,t.sort?t.sort():[t]),hs(r)}:tR().includes(e)?function(...t){return e.apply(td(this),t),hs(Y1.get(this))}:function(...t){return hs(e.apply(td(this),t))}}function oR(e){return typeof e=="function"?iR(e):(e instanceof IDBTransaction&&rR(e),Zx(e,eR())?new Proxy(e,Rp):e)}function hs(e){if(e instanceof IDBRequest)return nR(e);if(ed.has(e))return ed.get(e);const t=oR(e);return t!==e&&(ed.set(e,t),ng.set(t,e)),t}const td=e=>ng.get(e);function aR(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=hs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(hs(o.result),c.oldVersion,c.newVersion,hs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const cR=["get","getKey","getAll","getAllKeys","count"],lR=["put","add","delete","clear"],nd=new Map;function n_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(nd.get(t))return nd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=lR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||cR.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return nd.set(t,i),i}sR(e=>({...e,get:(t,n,r)=>n_(t,n)||e.get(t,n,r),has:(t,n)=>!!n_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dp="@firebase/app",r_="0.7.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=new tg("@firebase/app"),fR="@firebase/app-compat",dR="@firebase/analytics-compat",pR="@firebase/analytics",mR="@firebase/app-check-compat",gR="@firebase/app-check",vR="@firebase/auth",yR="@firebase/auth-compat",_R="@firebase/database",wR="@firebase/database-compat",bR="@firebase/functions",ER="@firebase/functions-compat",SR="@firebase/installations",TR="@firebase/installations-compat",IR="@firebase/messaging",OR="@firebase/messaging-compat",CR="@firebase/performance",kR="@firebase/performance-compat",AR="@firebase/remote-config",xR="@firebase/remote-config-compat",RR="@firebase/storage",DR="@firebase/storage-compat",MR="@firebase/firestore",PR="@firebase/firestore-compat",NR="firebase",$R="9.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="[DEFAULT]",LR={[Dp]:"fire-core",[fR]:"fire-core-compat",[pR]:"fire-analytics",[dR]:"fire-analytics-compat",[gR]:"fire-app-check",[mR]:"fire-app-check-compat",[vR]:"fire-auth",[yR]:"fire-auth-compat",[_R]:"fire-rtdb",[wR]:"fire-rtdb-compat",[bR]:"fire-fn",[ER]:"fire-fn-compat",[SR]:"fire-iid",[TR]:"fire-iid-compat",[IR]:"fire-fcm",[OR]:"fire-fcm-compat",[CR]:"fire-perf",[kR]:"fire-perf-compat",[AR]:"fire-rc",[xR]:"fire-rc-compat",[RR]:"fire-gcs",[DR]:"fire-gcs-compat",[MR]:"fire-fst",[PR]:"fire-fst-compat","fire-js":"fire-js",[NR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,Mp=new Map;function FR(e,t){try{e.container.addComponent(t)}catch(n){rg.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function si(e){const t=e.name;if(Mp.has(t))return rg.debug(`There were multiple attempts to register component ${t}.`),!1;Mp.set(t,e);for(const n of Fu.values())FR(n,e);return!0}function Mc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ii=new Rc("app","Firebase",UR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=$R;function jR(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:G1,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw ii.create("bad-app-name",{appName:String(r)});const s=Fu.get(r);if(s){if(Qa(e,s.options)&&Qa(n,s.config))return s;throw ii.create("duplicate-app",{appName:r})}const i=new Gx(r);for(const a of Mp.values())i.addComponent(a);const o=new BR(e,n,i);return Fu.set(r,o),o}function sg(e=G1){const t=Fu.get(e);if(!t)throw ii.create("no-app",{appName:e});return t}function hr(e,t,n){var r;let s=(r=LR[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rg.warn(a.join(" "));return}si(new _s(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="firebase-heartbeat-database",WR=1,Ja="firebase-heartbeat-store";let rd=null;function q1(){return rd||(rd=aR(VR,WR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ja)}}}).catch(e=>{throw ii.create("storage-open",{originalErrorMessage:e.message})})),rd}async function zR(e){var t;try{return(await q1()).transaction(Ja).objectStore(Ja).get(X1(e))}catch(n){throw ii.create("storage-get",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message})}}async function s_(e,t){var n;try{const s=(await q1()).transaction(Ja,"readwrite");return await s.objectStore(Ja).put(t,X1(e)),s.done}catch(r){throw ii.create("storage-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message})}}function X1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1024,YR=30*24*60*60*1e3;class KR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=i_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=YR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=i_(),{heartbeatsToSend:n,unsentEntries:r}=GR(this._heartbeatsCache.heartbeats),s=Lu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function i_(){return new Date().toISOString().substring(0,10)}function GR(e,t=HR){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),o_(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),o_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $x()?Lx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await zR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return s_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return s_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function o_(e){return Lu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(e){si(new _s("platform-logger",t=>new uR(t),"PRIVATE")),si(new _s("heartbeat",t=>new KR(t),"PRIVATE")),hr(Dp,r_,e),hr(Dp,r_,"esm2017"),hr("fire-js","")}XR("");function ig(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Q1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QR=Q1,J1=new Rc("auth","Firebase",Q1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new tg("@firebase/auth");function iu(e,...t){a_.logLevel<=Ye.ERROR&&a_.error(`Auth (${Mo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(e,...t){throw og(e,...t)}function fr(e,...t){return og(e,...t)}function Z1(e,t,n){const r=Object.assign(Object.assign({},QR()),{[t]:n});return new Rc("auth","Firebase",r).create(t,{appName:e.name})}function JR(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&mr(e,"argument-error"),Z1(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function og(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return J1.create(e,...t)}function ve(e,t,...n){if(!e)throw og(t,...n)}function Rr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw iu(t),new Error(t)}function Br(e,t){e||Rr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;function Dr(e){Br(e instanceof Function,"Expected a class definition");let t=c_.get(e);return t?(Br(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,c_.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(e,t){const n=Mc(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qa(i,t!=null?t:{}))return s;mr(s,"already-initialized")}return n.initialize({options:t})}function e2(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function t2(){return l_()==="http:"||l_()==="https:"}function l_(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t2()||W1()||"connection"in navigator)?navigator.onLine:!0}function r2(){if(typeof navigator=="undefined")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Br(n>t,"Short delay should be less than long delay!"),this.isMobile=V1()||z1()}get(){return n2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(e,t){Br(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new Pc(3e4,6e4);function o2(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ch(e,t,n,r,s={}){return tE(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const a=Dc(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),eE.fetch()(nE(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},i))})}async function tE(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},s2),t);try{const s=new c2(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw gl(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gl(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw gl(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw gl(e,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Z1(e,u,l);mr(e,u)}}catch(s){if(s instanceof Cs)throw s;mr(e,"network-request-failed")}}async function a2(e,t,n,r,s={}){const i=await Ch(e,t,n,r,s);return"mfaPendingCredential"in i&&mr(e,"multi-factor-auth-required",{_serverResponse:i}),i}function nE(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?ag(e.config,s):`${e.config.apiScheme}://${s}`}class c2{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),i2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gl(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=fr(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(e,t){return Ch(e,"POST","/v1/accounts:delete",t)}async function u2(e,t){return Ch(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(e){if(!!e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function h2(e,t=!1){const n=zt(e),r=await n.getIdToken(t),s=cg(r);ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ea(sd(s.auth_time)),issuedAtTime:Ea(sd(s.iat)),expirationTime:Ea(sd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function sd(e){return Number(e)*1e3}function cg(e){var t;const[n,r,s]=e.split(".");if(n===void 0||r===void 0||s===void 0)return iu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Dx(r);return i?JSON.parse(i):(iu("Failed to decode base64 JWT payload"),null)}catch(i){return iu("Caught error parsing JWT payload as JSON",(t=i)===null||t===void 0?void 0:t.toString()),null}}function f2(e){const t=cg(e);return ve(t,"internal-error"),ve(typeof t.exp!="undefined","internal-error"),ve(typeof t.iat!="undefined","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Cs&&d2(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function d2({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var t;try{await this.user.getIdToken(!0)}catch(n){((t=n)===null||t===void 0?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(e){var t;const n=e.auth,r=await e.getIdToken(),s=await Za(e,u2(n,{idToken:r}));ve(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?v2(i.providerUserInfo):[],a=g2(e.providerData,o),c=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new rE(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function m2(e){const t=zt(e);await Uu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function g2(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function v2(e){return e.map(t=>{var{providerId:n}=t,r=ig(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(e,t){const n=await tE(e,{},async()=>{const r=Dc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=nE(e,s,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ve(t.idToken,"internal-error"),ve(typeof t.idToken!="undefined","internal-error"),ve(typeof t.refreshToken!="undefined","internal-error");const n="expiresIn"in t&&typeof t.expiresIn!="undefined"?Number(t.expiresIn):f2(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ve(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await y2(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ec;return r&&(ve(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(ve(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(ve(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ec,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e,t){ve(typeof e=="string"||typeof e=="undefined","internal-error",{appName:t})}class Ks{constructor(t){var{uid:n,auth:r,stsTokenManager:s}=t,i=ig(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Za(this,this.stsTokenManager.getToken(this.auth,t));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return h2(this,t)}reload(){return m2(this)}_assign(t){this!==t&&(ve(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Ks(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Uu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Za(this,l2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,s,i,o,a,c,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,R=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:H,emailVerified:V,isAnonymous:D,providerData:M,stsTokenManager:w}=n;ve(H&&w,t,"internal-error");const C=ec.fromJSON(this.name,w);ve(typeof H=="string",t,"internal-error"),Xr(h,t.name),Xr(f,t.name),ve(typeof V=="boolean",t,"internal-error"),ve(typeof D=="boolean",t,"internal-error"),Xr(p,t.name),Xr(v,t.name),Xr(k,t.name),Xr(E,t.name),Xr(O,t.name),Xr(R,t.name);const X=new Ks({uid:H,auth:t,email:f,emailVerified:V,displayName:h,isAnonymous:D,photoURL:v,phoneNumber:p,tenantId:k,stsTokenManager:C,createdAt:O,lastLoginAt:R});return M&&Array.isArray(M)&&(X.providerData=M.map(de=>Object.assign({},de))),E&&(X._redirectEventId=E),X}static async _fromIdTokenResponse(t,n,r=!1){const s=new ec;s.updateFromServerResponse(n);const i=new Ks({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Uu(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}sE.type="NONE";const u_=sE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(e,t,n){return`firebase:${e}:${t}:${n}`}class eo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ou(this.userKey,s.apiKey,i),this.fullPersistenceKey=ou("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ks._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new eo(Dr(u_),t,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||Dr(u_);const o=ou(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const h=Ks._fromJSON(t,u);l!==i&&(a=h),i=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new eo(i,t,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new eo(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lE(t))return"Blackberry";if(uE(t))return"Webos";if(lg(t))return"Safari";if((t.includes("chrome/")||oE(t))&&!t.includes("edge/"))return"Chrome";if(cE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iE(e=Lt()){return/firefox\//i.test(e)}function lg(e=Lt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oE(e=Lt()){return/crios\//i.test(e)}function aE(e=Lt()){return/iemobile/i.test(e)}function cE(e=Lt()){return/android/i.test(e)}function lE(e=Lt()){return/blackberry/i.test(e)}function uE(e=Lt()){return/webos/i.test(e)}function kh(e=Lt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _2(e=Lt()){var t;return kh(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function w2(){return H1()&&document.documentMode===10}function hE(e=Lt()){return kh(e)||cE(e)||uE(e)||lE(e)||/windows phone/i.test(e)||aE(e)}function b2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(e,t=[]){let n;switch(e){case"Browser":n=h_(Lt());break;case"Worker":n=`${h_(Lt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((o,a)=>{try{const c=t(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){var n;if(this.auth.currentUser===t)return;const r=[];try{for(const s of this.queue)await s(t),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=s)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,n,r){this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f_(this),this.idTokenSubscription=new f_(this),this.beforeStateQueue=new E2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await eo.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===a)&&(c==null?void 0:c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){var n;try{await Uu(t)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=r2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?zt(t):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ve(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Rc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Dr(t)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?t.addObserver(n,r,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=fE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Nc(e){return zt(e)}class f_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Vx(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function T2(e,t,n){const r=Nc(e);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=dE(t),{host:o,port:a}=I2(t),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||O2()}function dE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function I2(e){const t=dE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:d_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:d_(o)}}}function d_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function O2(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(t){return Rr("not implemented")}_linkToIdToken(t,n){return Rr("not implemented")}_getReauthenticationResolver(t){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(e,t){return a2(e,"POST","/v1/accounts:signInWithIdp",o2(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="http://localhost";class oi extends pE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new oi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=n,i=ig(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new oi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return to(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,to(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,to(t,n)}buildRequest(){const t={requestUri:C2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Dc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends ug{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends $c{constructor(){super("facebook.com")}static credential(t){return oi._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return is.credential(t.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return oi._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends $c{constructor(){super("github.com")}static credential(t){return oi._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends $c{constructor(){super("twitter.com")}static credential(t,n){return oi._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await Ks._fromIdTokenResponse(t,r,s),o=p_(r);return new po({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=p_(r);return new po({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function p_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends Cs{constructor(t,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Bu.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new Bu(t,n,r,s)}}function mE(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Bu._fromErrorAndOperation(e,i,t,r):i})}async function k2(e,t,n=!1){const r=await Za(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return po._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(e,t,n=!1){var r;const{auth:s}=e,i="reauthenticate";try{const o=await Za(e,mE(s,i,t,e),n);ve(o.idToken,s,"internal-error");const a=cg(o.idToken);ve(a,s,"internal-error");const{sub:c}=a;return ve(e.uid===c,s,"user-mismatch"),po._forOperation(e,i,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&mr(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(e,t,n=!1){const r="signIn",s=await mE(e,r,t),i=await po._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}const ju="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){const e=Lt();return lg(e)||kh(e)}const D2=1e3,M2=10;class vE extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=R2()&&b2(),this.fallbackToPolling=hE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);w2()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,M2):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}vE.type="LOCAL";const P2=vE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yE.type="SESSION";const _E=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(e){return Promise.all(e.map(async t=>{try{const n=await t;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Ah(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await N2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=hg("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function L2(e){dr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(){return typeof dr().WorkerGlobalScope!="undefined"&&typeof dr().importScripts=="function"}async function F2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U2(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function B2(){return wE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="firebaseLocalStorageDb",j2=1,Vu="firebaseLocalStorage",EE="fbase_key";class Lc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(e,t){return e.transaction([Vu],t?"readwrite":"readonly").objectStore(Vu)}function V2(){const e=indexedDB.deleteDatabase(bE);return new Lc(e).toPromise()}function Np(){const e=indexedDB.open(bE,j2);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Vu,{keyPath:EE})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Vu)?t(r):(r.close(),await V2(),t(await Np()))})})}async function m_(e,t,n){const r=xh(e,!0).put({[EE]:t,value:n});return new Lc(r).toPromise()}async function W2(e,t){const n=xh(e,!1).get(t),r=await new Lc(n).toPromise();return r===void 0?null:r.value}function g_(e,t){const n=xh(e,!0).delete(t);return new Lc(n).toPromise()}const z2=800,H2=3;class SE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>H2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(B2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await F2(),!this.activeServiceWorker)return;this.sender=new $2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((t=r[0])===null||t===void 0?void 0:t.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||U2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Np();return await m_(t,ju,"1"),await g_(t,ju),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>m_(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>W2(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>g_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=xh(s,!1).getAll();return new Lc(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SE.type="LOCAL";const Y2=SE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function G2(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=fr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",K2().appendChild(r)})}function q2(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new Pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(e,t){return t?Dr(t):(ve(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends pE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,n){return to(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function X2(e){return x2(e.auth,new fg(e),e.bypassAuthState)}function Q2(e){const{auth:t,user:n}=e;return ve(n,t,"internal-error"),A2(n,new fg(e),e.bypassAuthState)}async function J2(e){const{auth:t,user:n}=e;return ve(n,t,"internal-error"),k2(n,new fg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return X2;case"linkViaPopup":case"linkViaRedirect":return J2;case"reauthViaPopup":case"reauthViaRedirect":return Q2;default:mr(this.auth,"internal-error")}}resolve(t){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Pc(2e3,1e4);class Hi extends IE{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ve(t,this.auth,"internal-error"),t}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const t=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,Z2.get())};t()}}Hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="pendingRedirect",au=new Map;class tD extends IE{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=au.get(this.auth._key());if(!t){try{const r=await nD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}au.set(this.auth._key(),t)}return this.bypassAuthState||au.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nD(e,t){const n=CE(t),r=OE(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function rD(e,t){return OE(e)._set(CE(t),"true")}function sD(e,t){au.set(e._key(),t)}function OE(e){return Dr(e._redirectPersistence)}function CE(e){return ou(eD,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(e,t,n){return iD(e,t,n)}async function iD(e,t,n){const r=Nc(e);JR(e,t,ug);const s=TE(r,n);return await rD(s,r),s._openRedirect(r,t,"signInViaRedirect")}async function oD(e,t){return await Nc(e)._initializationPromise,kE(e,t,!1)}async function kE(e,t,n=!1){const r=Nc(e),s=TE(r,t),o=await new tD(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=10*60*1e3;class cD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!AE(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aD&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(t))}saveEventToCache(t){this.cachedEventUids.add(v_(t)),this.lastProcessedEventTime=Date.now()}}function v_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function AE({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function lD(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AE(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(e,t={}){return Ch(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fD=/^https?/;async function dD(e){if(e.config.emulator)return;const{authorizedDomains:t}=await uD(e);for(const n of t)try{if(pD(n))return}catch{}mr(e,"unauthorized-domain")}function pD(e){const t=Pp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!fD.test(n))return!1;if(hD.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new Pc(3e4,6e4);function y_(){const e=dr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function gD(e){return new Promise((t,n)=>{var r,s,i;function o(){y_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{y_(),n(fr(e,"network-request-failed"))},timeout:mD.get()})}if(!((s=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=dr().gapi)===null||i===void 0)&&i.load)o();else{const a=q2("iframefcb");return dr()[a]=()=>{gapi.load?o():n(fr(e,"network-request-failed"))},G2(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(t=>{throw cu=null,t})}let cu=null;function vD(e){return cu=cu||gD(e),cu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new Pc(5e3,15e3),_D="__/auth/iframe",wD="emulator/auth/iframe",bD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ED=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SD(e){const t=e.config;ve(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ag(t,wD):`https://${e.config.authDomain}/${_D}`,r={apiKey:t.apiKey,appName:e.name,v:Mo},s=ED.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Dc(r).slice(1)}`}async function TD(e){const t=await vD(e),n=dr().gapi;return ve(n,e,"internal-error"),t.open({where:document.body,url:SD(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bD,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=fr(e,"network-request-failed"),a=dr().setTimeout(()=>{i(o)},yD.get());function c(){dr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OD=500,CD=600,kD="_blank",AD="http://localhost";class __{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xD(e,t,n,r=OD,s=CD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},ID),{width:r.toString(),height:s.toString(),top:i,left:o}),l=Lt().toLowerCase();n&&(a=oE(l)?kD:n),iE(l)&&(t=t||AD,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(_2(l)&&a!=="_self")return RD(t||"",a),new __(null);const h=window.open(t||"",a,u);ve(h,e,"popup-blocked");try{h.focus()}catch{}return new __(h)}function RD(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="__/auth/handler",MD="emulator/auth/handler";function w_(e,t,n,r,s,i){ve(e.config.authDomain,e,"auth-domain-config-required"),ve(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Mo,eventId:s};if(t instanceof ug){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",jx(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,l]of Object.entries(i||{}))o[c]=l}if(t instanceof $c){const c=t.getScopes().filter(l=>l!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];return`${PD(e)}?${Dc(a).slice(1)}`}function PD({config:e}){return e.emulator?ag(e,MD):`https://${e.authDomain}/${DD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="webStorageSupport";class ND{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_E,this._completeRedirectFn=kE,this._overrideRedirectResult=sD}async _openPopup(t,n,r,s){var i;Br((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=w_(t,n,r,Pp(),s);return xD(t,o,hg())}async _openRedirect(t,n,r,s){return await this._originValidation(t),L2(w_(t,n,r,Pp(),s)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Br(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await TD(t),r=new cD(t);return n.register("authEvent",s=>(ve(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(od,{type:od},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[od];o!==void 0&&n(!!o),mr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return hE()||lg()||kh()}}const $D=ND;var b_="@firebase/auth",E_="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{var s;t(((s=r)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);!n||(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function UD(e){si(new _s("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),{apiKey:i,authDomain:o}=r.options;return((a,c)=>{ve(i&&!i.includes(":"),"invalid-api-key",{appName:a.name}),ve(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:i,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fE(e)},u=new S2(a,c,l);return e2(u,n),u})(r,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),si(new _s("auth-internal",t=>{const n=Nc(t.getProvider("auth").getImmediate());return(r=>new LD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(b_,E_,FD(e)),hr(b_,E_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(e=sg()){const t=Mc(e,"auth");return t.isInitialized()?t.getImmediate():ZR(e,{popupRedirectResolver:$D,persistence:[Y2,P2,_E]})}UD("Browser");function dg(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const BD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jD=dg(BD);function xE(e){return!!e||e===""}function pg(e){if(me(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Rt(r)?zD(r):pg(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Rt(e))return e;if(Et(e))return e}}const VD=/;(?![^(]*\))/g,WD=/:(.+)/;function zD(e){const t={};return e.split(VD).forEach(n=>{if(n){const r=n.split(WD);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Rh(e){let t="";if(Rt(e))t=e;else if(me(e))for(let n=0;n<e.length;n++){const r=Rh(e[n]);r&&(t+=r+" ")}else if(Et(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function HD(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=mo(e[r],t[r]);return n}function mo(e,t){if(e===t)return!0;let n=T_(e),r=T_(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=tc(e),r=tc(t),n||r)return e===t;if(n=me(e),r=me(t),n||r)return n&&r?HD(e,t):!1;if(n=Et(e),r=Et(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),c=t.hasOwnProperty(o);if(a&&!c||!a&&c||!mo(e[o],t[o]))return!1}}return String(e)===String(t)}function RE(e,t){return e.findIndex(n=>mo(n,t))}const S_=e=>Rt(e)?e:e==null?"":me(e)||Et(e)&&(e.toString===PE||!Ie(e.toString))?JSON.stringify(e,DE,2):String(e),DE=(e,t)=>t&&t.__v_isRef?DE(e,t.value):ro(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Mh(t)?{[`Set(${t.size})`]:[...t.values()]}:Et(t)&&!me(t)&&!NE(t)?String(t):t,it={},no=[],zn=()=>{},YD=()=>!1,KD=/^on[^a-z]/,Dh=e=>KD.test(e),mg=e=>e.startsWith("onUpdate:"),hn=Object.assign,gg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},GD=Object.prototype.hasOwnProperty,je=(e,t)=>GD.call(e,t),me=Array.isArray,ro=e=>Fc(e)==="[object Map]",Mh=e=>Fc(e)==="[object Set]",T_=e=>Fc(e)==="[object Date]",Ie=e=>typeof e=="function",Rt=e=>typeof e=="string",tc=e=>typeof e=="symbol",Et=e=>e!==null&&typeof e=="object",ME=e=>Et(e)&&Ie(e.then)&&Ie(e.catch),PE=Object.prototype.toString,Fc=e=>PE.call(e),qD=e=>Fc(e).slice(8,-1),NE=e=>Fc(e)==="[object Object]",vg=e=>Rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,lu=dg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ph=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},XD=/-(\w)/g,gr=Ph(e=>e.replace(XD,(t,n)=>n?n.toUpperCase():"")),QD=/\B([A-Z])/g,pi=Ph(e=>e.replace(QD,"-$1").toLowerCase()),Nh=Ph(e=>e.charAt(0).toUpperCase()+e.slice(1)),ad=Ph(e=>e?`on${Nh(e)}`:""),nc=(e,t)=>!Object.is(e,t),uu=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Wu=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},$p=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let I_;const JD=()=>I_||(I_=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let rr;class $E{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&rr&&(this.parent=rr,this.index=(rr.scopes||(rr.scopes=[])).push(this)-1)}run(t){if(this.active){const n=rr;try{return rr=this,t()}finally{rr=n}}}on(){rr=this}off(){rr=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function LE(e){return new $E(e)}function ZD(e,t=rr){t&&t.active&&t.effects.push(e)}const yg=e=>{const t=new Set(e);return t.w=0,t.n=0,t},FE=e=>(e.w&ws)>0,UE=e=>(e.n&ws)>0,eM=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ws},tM=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];FE(s)&&!UE(s)?s.delete(e):t[n++]=s,s.w&=~ws,s.n&=~ws}t.length=n}},Lp=new WeakMap;let ga=0,ws=1;const Fp=30;let Bn;const Gs=Symbol(""),Up=Symbol("");class _g{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ZD(this,r)}run(){if(!this.active)return this.fn();let t=Bn,n=fs;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Bn,Bn=this,fs=!0,ws=1<<++ga,ga<=Fp?eM(this):O_(this),this.fn()}finally{ga<=Fp&&tM(this),ws=1<<--ga,Bn=this.parent,fs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Bn===this?this.deferStop=!0:this.active&&(O_(this),this.onStop&&this.onStop(),this.active=!1)}}function O_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let fs=!0;const BE=[];function Po(){BE.push(fs),fs=!1}function No(){const e=BE.pop();fs=e===void 0?!0:e}function In(e,t,n){if(fs&&Bn){let r=Lp.get(e);r||Lp.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=yg()),jE(s)}}function jE(e,t){let n=!1;ga<=Fp?UE(e)||(e.n|=ws,n=!FE(e)):n=!e.has(Bn),n&&(e.add(Bn),Bn.deps.push(e))}function jr(e,t,n,r,s,i){const o=Lp.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&me(e))o.forEach((c,l)=>{(l==="length"||l>=r)&&a.push(c)});else switch(n!==void 0&&a.push(o.get(n)),t){case"add":me(e)?vg(n)&&a.push(o.get("length")):(a.push(o.get(Gs)),ro(e)&&a.push(o.get(Up)));break;case"delete":me(e)||(a.push(o.get(Gs)),ro(e)&&a.push(o.get(Up)));break;case"set":ro(e)&&a.push(o.get(Gs));break}if(a.length===1)a[0]&&Bp(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Bp(yg(c))}}function Bp(e,t){const n=me(e)?e:[...e];for(const r of n)r.computed&&C_(r);for(const r of n)r.computed||C_(r)}function C_(e,t){(e!==Bn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const nM=dg("__proto__,__v_isRef,__isVue"),VE=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(tc)),rM=wg(),sM=wg(!1,!0),iM=wg(!0),k_=oM();function oM(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Ke(this);for(let i=0,o=this.length;i<o;i++)In(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(Ke)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Po();const r=Ke(this)[t].apply(this,n);return No(),r}}),e}function wg(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?EM:KE:t?YE:HE).get(r))return r;const o=me(r);if(!e&&o&&je(k_,s))return Reflect.get(k_,s,i);const a=Reflect.get(r,s,i);return(tc(s)?VE.has(s):nM(s))||(e||In(r,"get",s),t)?a:yt(a)?o&&vg(s)?a:a.value:Et(a)?e?As(a):ks(a):a}}const aM=WE(),cM=WE(!0);function WE(e=!1){return function(n,r,s,i){let o=n[r];if(rc(o)&&yt(o)&&!yt(s))return!1;if(!e&&!rc(s)&&(jp(s)||(s=Ke(s),o=Ke(o)),!me(n)&&yt(o)&&!yt(s)))return o.value=s,!0;const a=me(n)&&vg(r)?Number(r)<n.length:je(n,r),c=Reflect.set(n,r,s,i);return n===Ke(i)&&(a?nc(s,o)&&jr(n,"set",r,s):jr(n,"add",r,s)),c}}function lM(e,t){const n=je(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&jr(e,"delete",t,void 0),r}function uM(e,t){const n=Reflect.has(e,t);return(!tc(t)||!VE.has(t))&&In(e,"has",t),n}function hM(e){return In(e,"iterate",me(e)?"length":Gs),Reflect.ownKeys(e)}const zE={get:rM,set:aM,deleteProperty:lM,has:uM,ownKeys:hM},fM={get:iM,set(e,t){return!0},deleteProperty(e,t){return!0}},dM=hn({},zE,{get:sM,set:cM}),bg=e=>e,$h=e=>Reflect.getPrototypeOf(e);function vl(e,t,n=!1,r=!1){e=e.__v_raw;const s=Ke(e),i=Ke(t);n||(t!==i&&In(s,"get",t),In(s,"get",i));const{has:o}=$h(s),a=r?bg:n?Tg:sc;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function yl(e,t=!1){const n=this.__v_raw,r=Ke(n),s=Ke(e);return t||(e!==s&&In(r,"has",e),In(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function _l(e,t=!1){return e=e.__v_raw,!t&&In(Ke(e),"iterate",Gs),Reflect.get(e,"size",e)}function A_(e){e=Ke(e);const t=Ke(this);return $h(t).has.call(t,e)||(t.add(e),jr(t,"add",e,e)),this}function x_(e,t){t=Ke(t);const n=Ke(this),{has:r,get:s}=$h(n);let i=r.call(n,e);i||(e=Ke(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?nc(t,o)&&jr(n,"set",e,t):jr(n,"add",e,t),this}function R_(e){const t=Ke(this),{has:n,get:r}=$h(t);let s=n.call(t,e);s||(e=Ke(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&jr(t,"delete",e,void 0),i}function D_(){const e=Ke(this),t=e.size!==0,n=e.clear();return t&&jr(e,"clear",void 0,void 0),n}function wl(e,t){return function(r,s){const i=this,o=i.__v_raw,a=Ke(o),c=t?bg:e?Tg:sc;return!e&&In(a,"iterate",Gs),o.forEach((l,u)=>r.call(s,c(l),c(u),i))}}function bl(e,t,n){return function(...r){const s=this.__v_raw,i=Ke(s),o=ro(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=s[e](...r),u=n?bg:t?Tg:sc;return!t&&In(i,"iterate",c?Up:Gs),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Qr(e){return function(...t){return e==="delete"?!1:this}}function pM(){const e={get(i){return vl(this,i)},get size(){return _l(this)},has:yl,add:A_,set:x_,delete:R_,clear:D_,forEach:wl(!1,!1)},t={get(i){return vl(this,i,!1,!0)},get size(){return _l(this)},has:yl,add:A_,set:x_,delete:R_,clear:D_,forEach:wl(!1,!0)},n={get(i){return vl(this,i,!0)},get size(){return _l(this,!0)},has(i){return yl.call(this,i,!0)},add:Qr("add"),set:Qr("set"),delete:Qr("delete"),clear:Qr("clear"),forEach:wl(!0,!1)},r={get(i){return vl(this,i,!0,!0)},get size(){return _l(this,!0)},has(i){return yl.call(this,i,!0)},add:Qr("add"),set:Qr("set"),delete:Qr("delete"),clear:Qr("clear"),forEach:wl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=bl(i,!1,!1),n[i]=bl(i,!0,!1),t[i]=bl(i,!1,!0),r[i]=bl(i,!0,!0)}),[e,n,t,r]}const[mM,gM,vM,yM]=pM();function Eg(e,t){const n=t?e?yM:vM:e?gM:mM;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(je(n,s)&&s in r?n:r,s,i)}const _M={get:Eg(!1,!1)},wM={get:Eg(!1,!0)},bM={get:Eg(!0,!1)},HE=new WeakMap,YE=new WeakMap,KE=new WeakMap,EM=new WeakMap;function SM(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function TM(e){return e.__v_skip||!Object.isExtensible(e)?0:SM(qD(e))}function ks(e){return rc(e)?e:Sg(e,!1,zE,_M,HE)}function IM(e){return Sg(e,!1,dM,wM,YE)}function As(e){return Sg(e,!0,fM,bM,KE)}function Sg(e,t,n,r,s){if(!Et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=TM(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function ds(e){return rc(e)?ds(e.__v_raw):!!(e&&e.__v_isReactive)}function rc(e){return!!(e&&e.__v_isReadonly)}function jp(e){return!!(e&&e.__v_isShallow)}function GE(e){return ds(e)||rc(e)}function Ke(e){const t=e&&e.__v_raw;return t?Ke(t):e}function go(e){return Wu(e,"__v_skip",!0),e}const sc=e=>Et(e)?ks(e):e,Tg=e=>Et(e)?As(e):e;function qE(e){fs&&Bn&&(e=Ke(e),jE(e.dep||(e.dep=yg())))}function XE(e,t){e=Ke(e),e.dep&&Bp(e.dep)}function yt(e){return!!(e&&e.__v_isRef===!0)}function Yn(e){return QE(e,!1)}function OM(e){return QE(e,!0)}function QE(e,t){return yt(e)?e:new CM(e,t)}class CM{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ke(t),this._value=n?t:sc(t)}get value(){return qE(this),this._value}set value(t){t=this.__v_isShallow?t:Ke(t),nc(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:sc(t),XE(this))}}function qs(e){return yt(e)?e.value:e}const kM={get:(e,t,n)=>qs(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return yt(s)&&!yt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function JE(e){return ds(e)?e:new Proxy(e,kM)}function AM(e){const t=me(e)?new Array(e.length):{};for(const n in e)t[n]=RM(e,n);return t}class xM{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function RM(e,t,n){const r=e[t];return yt(r)?r:new xM(e,t,n)}class DM{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new _g(t,()=>{this._dirty||(this._dirty=!0,XE(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=Ke(this);return qE(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function MM(e,t,n=!1){let r,s;const i=Ie(e);return i?(r=e,s=zn):(r=e.get,s=e.set),new DM(r,s,i||!s,n)}function ps(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Lh(i,t,n)}return s}function Hn(e,t,n,r){if(Ie(e)){const i=ps(e,t,n,r);return i&&ME(i)&&i.catch(o=>{Lh(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Hn(e[i],t,n,r));return s}function Lh(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](e,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){ps(c,null,10,[e,o,a]);return}}PM(e,n,s,r)}function PM(e,t,n,r=!0){console.error(e)}let zu=!1,Vp=!1;const En=[];let Ar=0;const Sa=[];let va=null,Bi=0;const Ta=[];let ns=null,ji=0;const ZE=Promise.resolve();let Ig=null,Wp=null;function Og(e){const t=Ig||ZE;return e?t.then(this?e.bind(this):e):t}function NM(e){let t=Ar+1,n=En.length;for(;t<n;){const r=t+n>>>1;ic(En[r])<e?t=r+1:n=r}return t}function eS(e){(!En.length||!En.includes(e,zu&&e.allowRecurse?Ar+1:Ar))&&e!==Wp&&(e.id==null?En.push(e):En.splice(NM(e.id),0,e),tS())}function tS(){!zu&&!Vp&&(Vp=!0,Ig=ZE.then(sS))}function $M(e){const t=En.indexOf(e);t>Ar&&En.splice(t,1)}function nS(e,t,n,r){me(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),tS()}function LM(e){nS(e,va,Sa,Bi)}function FM(e){nS(e,ns,Ta,ji)}function Fh(e,t=null){if(Sa.length){for(Wp=t,va=[...new Set(Sa)],Sa.length=0,Bi=0;Bi<va.length;Bi++)va[Bi]();va=null,Bi=0,Wp=null,Fh(e,t)}}function rS(e){if(Fh(),Ta.length){const t=[...new Set(Ta)];if(Ta.length=0,ns){ns.push(...t);return}for(ns=t,ns.sort((n,r)=>ic(n)-ic(r)),ji=0;ji<ns.length;ji++)ns[ji]();ns=null,ji=0}}const ic=e=>e.id==null?1/0:e.id;function sS(e){Vp=!1,zu=!0,Fh(e),En.sort((n,r)=>ic(n)-ic(r));const t=zn;try{for(Ar=0;Ar<En.length;Ar++){const n=En[Ar];n&&n.active!==!1&&ps(n,null,14)}}finally{Ar=0,En.length=0,rS(),zu=!1,Ig=null,(En.length||Sa.length||Ta.length)&&sS(e)}}function UM(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||it;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||it;f&&(s=n.map(p=>p.trim())),h&&(s=n.map($p))}let a,c=r[a=ad(t)]||r[a=ad(gr(t))];!c&&i&&(c=r[a=ad(pi(t))]),c&&Hn(c,e,6,s);const l=r[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Hn(l,e,6,s)}}function iS(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!Ie(e)){const c=l=>{const u=iS(l,t,!0);u&&(a=!0,hn(o,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(r.set(e,null),null):(me(i)?i.forEach(c=>o[c]=null):hn(o,i),r.set(e,o),o)}function Uh(e,t){return!e||!Dh(t)?!1:(t=t.slice(2).replace(/Once$/,""),je(e,t[0].toLowerCase()+t.slice(1))||je(e,pi(t))||je(e,t))}let Xt=null,Bh=null;function Hu(e){const t=Xt;return Xt=e,Bh=e&&e.type.__scopeId||null,t}function BM(e){Bh=e}function jM(){Bh=null}function xr(e,t=Xt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&W_(-1);const i=Hu(t),o=e(...s);return Hu(i),r._d&&W_(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function cd(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:p,ctx:v,inheritAttrs:k}=e;let E,O;const R=Hu(e);try{if(n.shapeFlag&4){const V=s||r;E=ir(u.call(V,V,h,i,p,f,v)),O=c}else{const V=t;E=ir(V.length>1?V(i,{attrs:c,slots:a,emit:l}):V(i,null)),O=t.props?c:VM(c)}}catch(V){Ca.length=0,Lh(V,e,1),E=et(bs)}let H=E;if(O&&k!==!1){const V=Object.keys(O),{shapeFlag:D}=H;V.length&&D&7&&(o&&V.some(mg)&&(O=WM(O,o)),H=vo(H,O))}return n.dirs&&(H=vo(H),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&(H.transition=n.transition),E=H,Hu(R),E}const VM=e=>{let t;for(const n in e)(n==="class"||n==="style"||Dh(n))&&((t||(t={}))[n]=e[n]);return t},WM=(e,t)=>{const n={};for(const r in e)(!mg(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function zM(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?M_(r,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!Uh(l,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?M_(r,o,l):!0:!!o;return!1}function M_(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Uh(n,i))return!0}return!1}function HM({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const YM=e=>e.__isSuspense;function KM(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):FM(e)}function hu(e,t){if(Nt){let n=Nt.provides;const r=Nt.parent&&Nt.parent.provides;r===n&&(n=Nt.provides=Object.create(r)),n[e]=t}}function Rn(e,t,n=!1){const r=Nt||Xt;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Ie(t)?t.call(r.proxy):t}}function fne(e,t){return Cg(e,null,t)}const P_={};function Xs(e,t,n){return Cg(e,t,n)}function Cg(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=it){const a=Nt;let c,l=!1,u=!1;if(yt(e)?(c=()=>e.value,l=jp(e)):ds(e)?(c=()=>e,r=!0):me(e)?(u=!0,l=e.some(O=>ds(O)||jp(O)),c=()=>e.map(O=>{if(yt(O))return O.value;if(ds(O))return Vs(O);if(Ie(O))return ps(O,a,2)})):Ie(e)?t?c=()=>ps(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),Hn(e,a,3,[f])}:c=zn,t&&r){const O=c;c=()=>Vs(O())}let h,f=O=>{h=E.onStop=()=>{ps(O,a,4)}};if(ac)return f=zn,t?n&&Hn(t,a,3,[c(),u?[]:void 0,f]):c(),zn;let p=u?[]:P_;const v=()=>{if(!!E.active)if(t){const O=E.run();(r||l||(u?O.some((R,H)=>nc(R,p[H])):nc(O,p)))&&(h&&h(),Hn(t,a,3,[O,p===P_?void 0:p,f]),p=O)}else E.run()};v.allowRecurse=!!t;let k;s==="sync"?k=v:s==="post"?k=()=>mn(v,a&&a.suspense):k=()=>LM(v);const E=new _g(c,k);return t?n?v():p=E.run():s==="post"?mn(E.run.bind(E),a&&a.suspense):E.run(),()=>{E.stop(),a&&a.scope&&gg(a.scope.effects,E)}}function GM(e,t,n){const r=this.proxy,s=Rt(e)?e.includes(".")?oS(r,e):()=>r[e]:e.bind(r,r);let i;Ie(t)?i=t:(i=t.handler,n=t);const o=Nt;yo(this);const a=Cg(s,i.bind(r),n);return o?yo(o):Qs(),a}function oS(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Vs(e,t){if(!Et(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),yt(e))Vs(e.value,t);else if(me(e))for(let n=0;n<e.length;n++)Vs(e[n],t);else if(Mh(e)||ro(e))e.forEach(n=>{Vs(n,t)});else if(NE(e))for(const n in e)Vs(e[n],t);return e}function Uc(e){return Ie(e)?{setup:e,name:e.name}:e}const Ia=e=>!!e.type.__asyncLoader,aS=e=>e.type.__isKeepAlive;function qM(e,t){cS(e,"a",t)}function XM(e,t){cS(e,"da",t)}function cS(e,t,n=Nt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(jh(t,r,n),n){let s=n.parent;for(;s&&s.parent;)aS(s.parent.vnode)&&QM(r,t,n,s),s=s.parent}}function QM(e,t,n,r){const s=jh(t,e,r,!0);kg(()=>{gg(r[t],s)},n)}function jh(e,t,n=Nt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Po(),yo(n);const a=Hn(t,n,e,o);return Qs(),No(),a});return r?s.unshift(i):s.push(i),i}}const Yr=e=>(t,n=Nt)=>(!ac||e==="sp")&&jh(e,t,n),JM=Yr("bm"),lS=Yr("m"),ZM=Yr("bu"),eP=Yr("u"),tP=Yr("bum"),kg=Yr("um"),nP=Yr("sp"),rP=Yr("rtg"),sP=Yr("rtc");function iP(e,t=Nt){jh("ec",e,t)}function dne(e,t){const n=Xt;if(n===null)return e;const r=Wh(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,c,l=it]=t[i];Ie(o)&&(o={mounted:o,updated:o}),o.deep&&Vs(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:l})}return e}function Ns(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Po(),Hn(c,n,8,[e.el,a,e,t]),No())}}const Ag="components";function jn(e,t){return hS(Ag,e,!0,t)||e}const uS=Symbol();function N_(e){return Rt(e)?hS(Ag,e,!1)||e:e||uS}function hS(e,t,n=!0,r=!1){const s=Xt||Nt;if(s){const i=s.type;if(e===Ag){const a=MP(i);if(a&&(a===t||a===gr(t)||a===Nh(gr(t))))return i}const o=$_(s[e]||i[e],t)||$_(s.appContext[e],t);return!o&&r?i:o}}function $_(e,t){return e&&(e[t]||e[gr(t)]||e[Nh(gr(t))])}function Yu(e,t,n,r){let s;const i=n&&n[r];if(me(e)||Rt(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Et(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=t(e[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function Oa(e,t,n={},r,s){if(Xt.isCE||Xt.parent&&Ia(Xt.parent)&&Xt.parent.isCE)return et("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),Fe();const o=i&&fS(i(n)),a=Mr(on,{key:n.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function fS(e){return e.some(t=>qu(t)?!(t.type===bs||t.type===on&&!fS(t.children)):!0)?e:null}const zp=e=>e?TS(e)?Wh(e)||e.proxy:zp(e.parent):null,Ku=hn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zp(e.parent),$root:e=>zp(e.root),$emit:e=>e.emit,$options:e=>pS(e),$forceUpdate:e=>e.f||(e.f=()=>eS(e.update)),$nextTick:e=>e.n||(e.n=Og.bind(e.proxy)),$watch:e=>GM.bind(e)}),oP={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(r!==it&&je(r,t))return o[t]=1,r[t];if(s!==it&&je(s,t))return o[t]=2,s[t];if((l=e.propsOptions[0])&&je(l,t))return o[t]=3,i[t];if(n!==it&&je(n,t))return o[t]=4,n[t];Hp&&(o[t]=0)}}const u=Ku[t];let h,f;if(u)return t==="$attrs"&&In(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==it&&je(n,t))return o[t]=4,n[t];if(f=c.config.globalProperties,je(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return s!==it&&je(s,t)?(s[t]=n,!0):r!==it&&je(r,t)?(r[t]=n,!0):je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==it&&je(e,o)||t!==it&&je(t,o)||(a=i[0])&&je(a,o)||je(r,o)||je(Ku,o)||je(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Hp=!0;function aP(e){const t=pS(e),n=e.proxy,r=e.ctx;Hp=!1,t.beforeCreate&&L_(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:v,activated:k,deactivated:E,beforeDestroy:O,beforeUnmount:R,destroyed:H,unmounted:V,render:D,renderTracked:M,renderTriggered:w,errorCaptured:C,serverPrefetch:X,expose:de,inheritAttrs:Ce,components:De,directives:gt,filters:vt}=t;if(l&&cP(l,r,null,e.appContext.config.unwrapInjectedRef),o)for(const Me in o){const We=o[Me];Ie(We)&&(r[Me]=We.bind(n))}if(s){const Me=s.call(n,n);Et(Me)&&(e.data=ks(Me))}if(Hp=!0,i)for(const Me in i){const We=i[Me],Ut=Ie(We)?We.bind(n,n):Ie(We.get)?We.get.bind(n,n):zn,Ln=!Ie(We)&&Ie(We.set)?We.set.bind(n):zn,ae=Sn({get:Ut,set:Ln});Object.defineProperty(r,Me,{enumerable:!0,configurable:!0,get:()=>ae.value,set:we=>ae.value=we})}if(a)for(const Me in a)dS(a[Me],r,n,Me);if(c){const Me=Ie(c)?c.call(n):c;Reflect.ownKeys(Me).forEach(We=>{hu(We,Me[We])})}u&&L_(u,e,"c");function rt(Me,We){me(We)?We.forEach(Ut=>Me(Ut.bind(n))):We&&Me(We.bind(n))}if(rt(JM,h),rt(lS,f),rt(ZM,p),rt(eP,v),rt(qM,k),rt(XM,E),rt(iP,C),rt(sP,M),rt(rP,w),rt(tP,R),rt(kg,V),rt(nP,X),me(de))if(de.length){const Me=e.exposed||(e.exposed={});de.forEach(We=>{Object.defineProperty(Me,We,{get:()=>n[We],set:Ut=>n[We]=Ut})})}else e.exposed||(e.exposed={});D&&e.render===zn&&(e.render=D),Ce!=null&&(e.inheritAttrs=Ce),De&&(e.components=De),gt&&(e.directives=gt)}function cP(e,t,n=zn,r=!1){me(e)&&(e=Yp(e));for(const s in e){const i=e[s];let o;Et(i)?"default"in i?o=Rn(i.from||s,i.default,!0):o=Rn(i.from||s):o=Rn(i),yt(o)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function L_(e,t,n){Hn(me(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function dS(e,t,n,r){const s=r.includes(".")?oS(n,r):()=>n[r];if(Rt(e)){const i=t[e];Ie(i)&&Xs(s,i)}else if(Ie(e))Xs(s,e.bind(n));else if(Et(e))if(me(e))e.forEach(i=>dS(i,t,n,r));else{const i=Ie(e.handler)?e.handler.bind(n):t[e.handler];Ie(i)&&Xs(s,i,e)}}function pS(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(l=>Gu(c,l,o,!0)),Gu(c,t,o)),i.set(t,c),c}function Gu(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Gu(e,i,n,!0),s&&s.forEach(o=>Gu(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=lP[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const lP={data:F_,props:Bs,emits:Bs,methods:Bs,computed:Bs,beforeCreate:sn,created:sn,beforeMount:sn,mounted:sn,beforeUpdate:sn,updated:sn,beforeDestroy:sn,beforeUnmount:sn,destroyed:sn,unmounted:sn,activated:sn,deactivated:sn,errorCaptured:sn,serverPrefetch:sn,components:Bs,directives:Bs,watch:hP,provide:F_,inject:uP};function F_(e,t){return t?e?function(){return hn(Ie(e)?e.call(this,this):e,Ie(t)?t.call(this,this):t)}:t:e}function uP(e,t){return Bs(Yp(e),Yp(t))}function Yp(e){if(me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function sn(e,t){return e?[...new Set([].concat(e,t))]:t}function Bs(e,t){return e?hn(hn(Object.create(null),e),t):t}function hP(e,t){if(!e)return t;if(!t)return e;const n=hn(Object.create(null),e);for(const r in t)n[r]=sn(e[r],t[r]);return n}function fP(e,t,n,r=!1){const s={},i={};Wu(i,Vh,1),e.propsDefaults=Object.create(null),mS(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:IM(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function dP(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=Ke(s),[c]=e.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Uh(e.emitsOptions,f))continue;const p=t[f];if(c)if(je(i,f))p!==i[f]&&(i[f]=p,l=!0);else{const v=gr(f);s[v]=Kp(c,a,v,p,e,!1)}else p!==i[f]&&(i[f]=p,l=!0)}}}else{mS(e,t,s,i)&&(l=!0);let u;for(const h in a)(!t||!je(t,h)&&((u=pi(h))===h||!je(t,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Kp(c,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!je(t,h)&&!0)&&(delete i[h],l=!0)}l&&jr(e,"set","$attrs")}function mS(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(lu(c))continue;const l=t[c];let u;s&&je(s,u=gr(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Uh(e.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=Ke(n),l=a||it;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Kp(s,c,h,l[h],e,!je(l,h))}}return o}function Kp(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=je(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&Ie(c)){const{propsDefaults:l}=s;n in l?r=l[n]:(yo(s),r=l[n]=c.call(null,t),Qs())}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===pi(n))&&(r=!0))}return r}function gS(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let c=!1;if(!Ie(e)){const u=h=>{c=!0;const[f,p]=gS(h,t,!0);hn(o,f),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return r.set(e,no),no;if(me(i))for(let u=0;u<i.length;u++){const h=gr(i[u]);U_(h)&&(o[h]=it)}else if(i)for(const u in i){const h=gr(u);if(U_(h)){const f=i[u],p=o[h]=me(f)||Ie(f)?{type:f}:f;if(p){const v=V_(Boolean,p.type),k=V_(String,p.type);p[0]=v>-1,p[1]=k<0||v<k,(v>-1||je(p,"default"))&&a.push(h)}}}const l=[o,a];return r.set(e,l),l}function U_(e){return e[0]!=="$"}function B_(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function j_(e,t){return B_(e)===B_(t)}function V_(e,t){return me(t)?t.findIndex(n=>j_(n,e)):Ie(t)&&j_(t,e)?0:-1}const vS=e=>e[0]==="_"||e==="$stable",xg=e=>me(e)?e.map(ir):[ir(e)],pP=(e,t,n)=>{if(t._n)return t;const r=xr((...s)=>xg(t(...s)),n);return r._c=!1,r},yS=(e,t,n)=>{const r=e._ctx;for(const s in e){if(vS(s))continue;const i=e[s];if(Ie(i))t[s]=pP(s,i,r);else if(i!=null){const o=xg(i);t[s]=()=>o}}},_S=(e,t)=>{const n=xg(t);e.slots.default=()=>n},mP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ke(t),Wu(t,"_",n)):yS(t,e.slots={})}else e.slots={},t&&_S(e,t);Wu(e.slots,Vh,1)},gP=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=it;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(hn(s,t),!n&&a===1&&delete s._):(i=!t.$stable,yS(t,s)),o=t}else t&&(_S(e,t),o={default:1});if(i)for(const a in s)!vS(a)&&!(a in o)&&delete s[a]};function wS(){return{app:null,config:{isNativeTag:YD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vP=0;function yP(e,t){return function(r,s=null){Ie(r)||(r=Object.assign({},r)),s!=null&&!Et(s)&&(s=null);const i=wS(),o=new Set;let a=!1;const c=i.app={_uid:vP++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:$P,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&Ie(l.install)?(o.add(l),l.install(c,...u)):Ie(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=et(r,s);return f.appContext=i,u&&t?t(f,l):e(f,l,h),a=!0,c._container=l,l.__vue_app__=c,Wh(f.component)||f.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}function Gp(e,t,n,r,s=!1){if(me(e)){e.forEach((f,p)=>Gp(f,t&&(me(t)?t[p]:t),n,r,s));return}if(Ia(r)&&!s)return;const i=r.shapeFlag&4?Wh(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=e,l=t&&t.r,u=a.refs===it?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(Rt(l)?(u[l]=null,je(h,l)&&(h[l]=null)):yt(l)&&(l.value=null)),Ie(c))ps(c,a,12,[o,u]);else{const f=Rt(c),p=yt(c);if(f||p){const v=()=>{if(e.f){const k=f?u[c]:c.value;s?me(k)&&gg(k,i):me(k)?k.includes(i)||k.push(i):f?(u[c]=[i],je(h,c)&&(h[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else f?(u[c]=o,je(h,c)&&(h[c]=o)):yt(c)&&(c.value=o,e.k&&(u[e.k]=o))};o?(v.id=-1,mn(v,n)):v()}}}const mn=KM;function _P(e){return wP(e)}function wP(e,t){const n=JD();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=zn,cloneNode:v,insertStaticContent:k}=e,E=(g,S,A,U=null,L=null,q=null,ee=!1,G=null,J=!!S.dynamicChildren)=>{if(g===S)return;g&&!sa(g,S)&&(U=Z(g),Oe(g,L,q,!0),g=null),S.patchFlag===-2&&(J=!1,S.dynamicChildren=null);const{type:j,ref:le,shapeFlag:oe}=S;switch(j){case Rg:O(g,S,A,U);break;case bs:R(g,S,A,U);break;case fu:g==null&&H(S,A,U,ee);break;case on:gt(g,S,A,U,L,q,ee,G,J);break;default:oe&1?M(g,S,A,U,L,q,ee,G,J):oe&6?vt(g,S,A,U,L,q,ee,G,J):(oe&64||oe&128)&&j.process(g,S,A,U,L,q,ee,G,J,Ne)}le!=null&&L&&Gp(le,g&&g.ref,q,S||g,!S)},O=(g,S,A,U)=>{if(g==null)r(S.el=a(S.children),A,U);else{const L=S.el=g.el;S.children!==g.children&&l(L,S.children)}},R=(g,S,A,U)=>{g==null?r(S.el=c(S.children||""),A,U):S.el=g.el},H=(g,S,A,U)=>{[g.el,g.anchor]=k(g.children,S,A,U,g.el,g.anchor)},V=({el:g,anchor:S},A,U)=>{let L;for(;g&&g!==S;)L=f(g),r(g,A,U),g=L;r(S,A,U)},D=({el:g,anchor:S})=>{let A;for(;g&&g!==S;)A=f(g),s(g),g=A;s(S)},M=(g,S,A,U,L,q,ee,G,J)=>{ee=ee||S.type==="svg",g==null?w(S,A,U,L,q,ee,G,J):de(g,S,L,q,ee,G,J)},w=(g,S,A,U,L,q,ee,G)=>{let J,j;const{type:le,props:oe,shapeFlag:ue,transition:ge,patchFlag:Le,dirs:Ge}=g;if(g.el&&v!==void 0&&Le===-1)J=g.el=v(g.el);else{if(J=g.el=o(g.type,q,oe&&oe.is,oe),ue&8?u(J,g.children):ue&16&&X(g.children,J,null,U,L,q&&le!=="foreignObject",ee,G),Ge&&Ns(g,null,U,"created"),oe){for(const Ze in oe)Ze!=="value"&&!lu(Ze)&&i(J,Ze,null,oe[Ze],q,g.children,U,L,N);"value"in oe&&i(J,"value",null,oe.value),(j=oe.onVnodeBeforeMount)&&er(j,U,g)}C(J,g,g.scopeId,ee,U)}Ge&&Ns(g,null,U,"beforeMount");const qe=(!L||L&&!L.pendingBranch)&&ge&&!ge.persisted;qe&&ge.beforeEnter(J),r(J,S,A),((j=oe&&oe.onVnodeMounted)||qe||Ge)&&mn(()=>{j&&er(j,U,g),qe&&ge.enter(J),Ge&&Ns(g,null,U,"mounted")},L)},C=(g,S,A,U,L)=>{if(A&&p(g,A),U)for(let q=0;q<U.length;q++)p(g,U[q]);if(L){let q=L.subTree;if(S===q){const ee=L.vnode;C(g,ee,ee.scopeId,ee.slotScopeIds,L.parent)}}},X=(g,S,A,U,L,q,ee,G,J=0)=>{for(let j=J;j<g.length;j++){const le=g[j]=G?rs(g[j]):ir(g[j]);E(null,le,S,A,U,L,q,ee,G)}},de=(g,S,A,U,L,q,ee)=>{const G=S.el=g.el;let{patchFlag:J,dynamicChildren:j,dirs:le}=S;J|=g.patchFlag&16;const oe=g.props||it,ue=S.props||it;let ge;A&&$s(A,!1),(ge=ue.onVnodeBeforeUpdate)&&er(ge,A,S,g),le&&Ns(S,g,A,"beforeUpdate"),A&&$s(A,!0);const Le=L&&S.type!=="foreignObject";if(j?Ce(g.dynamicChildren,j,G,A,U,Le,q):ee||Ut(g,S,G,null,A,U,Le,q,!1),J>0){if(J&16)De(G,S,oe,ue,A,U,L);else if(J&2&&oe.class!==ue.class&&i(G,"class",null,ue.class,L),J&4&&i(G,"style",oe.style,ue.style,L),J&8){const Ge=S.dynamicProps;for(let qe=0;qe<Ge.length;qe++){const Ze=Ge[qe],dn=oe[Ze],Er=ue[Ze];(Er!==dn||Ze==="value")&&i(G,Ze,dn,Er,L,g.children,A,U,N)}}J&1&&g.children!==S.children&&u(G,S.children)}else!ee&&j==null&&De(G,S,oe,ue,A,U,L);((ge=ue.onVnodeUpdated)||le)&&mn(()=>{ge&&er(ge,A,S,g),le&&Ns(S,g,A,"updated")},U)},Ce=(g,S,A,U,L,q,ee)=>{for(let G=0;G<S.length;G++){const J=g[G],j=S[G],le=J.el&&(J.type===on||!sa(J,j)||J.shapeFlag&70)?h(J.el):A;E(J,j,le,null,U,L,q,ee,!0)}},De=(g,S,A,U,L,q,ee)=>{if(A!==U){for(const G in U){if(lu(G))continue;const J=U[G],j=A[G];J!==j&&G!=="value"&&i(g,G,j,J,ee,S.children,L,q,N)}if(A!==it)for(const G in A)!lu(G)&&!(G in U)&&i(g,G,A[G],null,ee,S.children,L,q,N);"value"in U&&i(g,"value",A.value,U.value)}},gt=(g,S,A,U,L,q,ee,G,J)=>{const j=S.el=g?g.el:a(""),le=S.anchor=g?g.anchor:a("");let{patchFlag:oe,dynamicChildren:ue,slotScopeIds:ge}=S;ge&&(G=G?G.concat(ge):ge),g==null?(r(j,A,U),r(le,A,U),X(S.children,A,le,L,q,ee,G,J)):oe>0&&oe&64&&ue&&g.dynamicChildren?(Ce(g.dynamicChildren,ue,A,L,q,ee,G),(S.key!=null||L&&S===L.subTree)&&bS(g,S,!0)):Ut(g,S,A,le,L,q,ee,G,J)},vt=(g,S,A,U,L,q,ee,G,J)=>{S.slotScopeIds=G,g==null?S.shapeFlag&512?L.ctx.activate(S,A,U,ee,J):nt(S,A,U,L,q,ee,J):rt(g,S,J)},nt=(g,S,A,U,L,q,ee)=>{const G=g.component=AP(g,U,L);if(aS(g)&&(G.ctx.renderer=Ne),xP(G),G.asyncDep){if(L&&L.registerDep(G,Me),!g.el){const J=G.subTree=et(bs);R(null,J,S,A)}return}Me(G,g,S,A,L,q,ee)},rt=(g,S,A)=>{const U=S.component=g.component;if(zM(g,S,A))if(U.asyncDep&&!U.asyncResolved){We(U,S,A);return}else U.next=S,$M(U.update),U.update();else S.el=g.el,U.vnode=S},Me=(g,S,A,U,L,q,ee)=>{const G=()=>{if(g.isMounted){let{next:le,bu:oe,u:ue,parent:ge,vnode:Le}=g,Ge=le,qe;$s(g,!1),le?(le.el=Le.el,We(g,le,ee)):le=Le,oe&&uu(oe),(qe=le.props&&le.props.onVnodeBeforeUpdate)&&er(qe,ge,le,Le),$s(g,!0);const Ze=cd(g),dn=g.subTree;g.subTree=Ze,E(dn,Ze,h(dn.el),Z(dn),g,L,q),le.el=Ze.el,Ge===null&&HM(g,Ze.el),ue&&mn(ue,L),(qe=le.props&&le.props.onVnodeUpdated)&&mn(()=>er(qe,ge,le,Le),L)}else{let le;const{el:oe,props:ue}=S,{bm:ge,m:Le,parent:Ge}=g,qe=Ia(S);if($s(g,!1),ge&&uu(ge),!qe&&(le=ue&&ue.onVnodeBeforeMount)&&er(le,Ge,S),$s(g,!0),oe&&_e){const Ze=()=>{g.subTree=cd(g),_e(oe,g.subTree,g,L,null)};qe?S.type.__asyncLoader().then(()=>!g.isUnmounted&&Ze()):Ze()}else{const Ze=g.subTree=cd(g);E(null,Ze,A,U,g,L,q),S.el=Ze.el}if(Le&&mn(Le,L),!qe&&(le=ue&&ue.onVnodeMounted)){const Ze=S;mn(()=>er(le,Ge,Ze),L)}(S.shapeFlag&256||Ge&&Ia(Ge.vnode)&&Ge.vnode.shapeFlag&256)&&g.a&&mn(g.a,L),g.isMounted=!0,S=A=U=null}},J=g.effect=new _g(G,()=>eS(j),g.scope),j=g.update=()=>J.run();j.id=g.uid,$s(g,!0),j()},We=(g,S,A)=>{S.component=g;const U=g.vnode.props;g.vnode=S,g.next=null,dP(g,S.props,U,A),gP(g,S.children,A),Po(),Fh(void 0,g.update),No()},Ut=(g,S,A,U,L,q,ee,G,J=!1)=>{const j=g&&g.children,le=g?g.shapeFlag:0,oe=S.children,{patchFlag:ue,shapeFlag:ge}=S;if(ue>0){if(ue&128){ae(j,oe,A,U,L,q,ee,G,J);return}else if(ue&256){Ln(j,oe,A,U,L,q,ee,G,J);return}}ge&8?(le&16&&N(j,L,q),oe!==j&&u(A,oe)):le&16?ge&16?ae(j,oe,A,U,L,q,ee,G,J):N(j,L,q,!0):(le&8&&u(A,""),ge&16&&X(oe,A,U,L,q,ee,G,J))},Ln=(g,S,A,U,L,q,ee,G,J)=>{g=g||no,S=S||no;const j=g.length,le=S.length,oe=Math.min(j,le);let ue;for(ue=0;ue<oe;ue++){const ge=S[ue]=J?rs(S[ue]):ir(S[ue]);E(g[ue],ge,A,null,L,q,ee,G,J)}j>le?N(g,L,q,!0,!1,oe):X(S,A,U,L,q,ee,G,J,oe)},ae=(g,S,A,U,L,q,ee,G,J)=>{let j=0;const le=S.length;let oe=g.length-1,ue=le-1;for(;j<=oe&&j<=ue;){const ge=g[j],Le=S[j]=J?rs(S[j]):ir(S[j]);if(sa(ge,Le))E(ge,Le,A,null,L,q,ee,G,J);else break;j++}for(;j<=oe&&j<=ue;){const ge=g[oe],Le=S[ue]=J?rs(S[ue]):ir(S[ue]);if(sa(ge,Le))E(ge,Le,A,null,L,q,ee,G,J);else break;oe--,ue--}if(j>oe){if(j<=ue){const ge=ue+1,Le=ge<le?S[ge].el:U;for(;j<=ue;)E(null,S[j]=J?rs(S[j]):ir(S[j]),A,Le,L,q,ee,G,J),j++}}else if(j>ue)for(;j<=oe;)Oe(g[j],L,q,!0),j++;else{const ge=j,Le=j,Ge=new Map;for(j=Le;j<=ue;j++){const nn=S[j]=J?rs(S[j]):ir(S[j]);nn.key!=null&&Ge.set(nn.key,j)}let qe,Ze=0;const dn=ue-Le+1;let Er=!1,ea=0;const Sr=new Array(dn);for(j=0;j<dn;j++)Sr[j]=0;for(j=ge;j<=oe;j++){const nn=g[j];if(Ze>=dn){Oe(nn,L,q,!0);continue}let pn;if(nn.key!=null)pn=Ge.get(nn.key);else for(qe=Le;qe<=ue;qe++)if(Sr[qe-Le]===0&&sa(nn,S[qe])){pn=qe;break}pn===void 0?Oe(nn,L,q,!0):(Sr[pn-Le]=j+1,pn>=ea?ea=pn:Er=!0,E(nn,S[pn],A,null,L,q,ee,G,J),Ze++)}const pl=Er?bP(Sr):no;for(qe=pl.length-1,j=dn-1;j>=0;j--){const nn=Le+j,pn=S[nn],ta=nn+1<le?S[nn+1].el:U;Sr[j]===0?E(null,pn,A,ta,L,q,ee,G,J):Er&&(qe<0||j!==pl[qe]?we(pn,A,ta,2):qe--)}}},we=(g,S,A,U,L=null)=>{const{el:q,type:ee,transition:G,children:J,shapeFlag:j}=g;if(j&6){we(g.component.subTree,S,A,U);return}if(j&128){g.suspense.move(S,A,U);return}if(j&64){ee.move(g,S,A,Ne);return}if(ee===on){r(q,S,A);for(let oe=0;oe<J.length;oe++)we(J[oe],S,A,U);r(g.anchor,S,A);return}if(ee===fu){V(g,S,A);return}if(U!==2&&j&1&&G)if(U===0)G.beforeEnter(q),r(q,S,A),mn(()=>G.enter(q),L);else{const{leave:oe,delayLeave:ue,afterLeave:ge}=G,Le=()=>r(q,S,A),Ge=()=>{oe(q,()=>{Le(),ge&&ge()})};ue?ue(q,Le,Ge):Ge()}else r(q,S,A)},Oe=(g,S,A,U=!1,L=!1)=>{const{type:q,props:ee,ref:G,children:J,dynamicChildren:j,shapeFlag:le,patchFlag:oe,dirs:ue}=g;if(G!=null&&Gp(G,null,A,g,!0),le&256){S.ctx.deactivate(g);return}const ge=le&1&&ue,Le=!Ia(g);let Ge;if(Le&&(Ge=ee&&ee.onVnodeBeforeUnmount)&&er(Ge,S,g),le&6)ne(g.component,A,U);else{if(le&128){g.suspense.unmount(A,U);return}ge&&Ns(g,null,S,"beforeUnmount"),le&64?g.type.remove(g,S,A,L,Ne,U):j&&(q!==on||oe>0&&oe&64)?N(j,S,A,!1,!0):(q===on&&oe&384||!L&&le&16)&&N(J,S,A),U&&Pe(g)}(Le&&(Ge=ee&&ee.onVnodeUnmounted)||ge)&&mn(()=>{Ge&&er(Ge,S,g),ge&&Ns(g,null,S,"unmounted")},A)},Pe=g=>{const{type:S,el:A,anchor:U,transition:L}=g;if(S===on){x(A,U);return}if(S===fu){D(g);return}const q=()=>{s(A),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(g.shapeFlag&1&&L&&!L.persisted){const{leave:ee,delayLeave:G}=L,J=()=>ee(A,q);G?G(g.el,q,J):J()}else q()},x=(g,S)=>{let A;for(;g!==S;)A=f(g),s(g),g=A;s(S)},ne=(g,S,A)=>{const{bum:U,scope:L,update:q,subTree:ee,um:G}=g;U&&uu(U),L.stop(),q&&(q.active=!1,Oe(ee,g,S,A)),G&&mn(G,S),mn(()=>{g.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},N=(g,S,A,U=!1,L=!1,q=0)=>{for(let ee=q;ee<g.length;ee++)Oe(g[ee],S,A,U,L)},Z=g=>g.shapeFlag&6?Z(g.component.subTree):g.shapeFlag&128?g.suspense.next():f(g.anchor||g.el),$e=(g,S,A)=>{g==null?S._vnode&&Oe(S._vnode,null,null,!0):E(S._vnode||null,g,S,null,null,null,A),rS(),S._vnode=g},Ne={p:E,um:Oe,m:we,r:Pe,mt:nt,mc:X,pc:Ut,pbc:Ce,n:Z,o:e};let Se,_e;return t&&([Se,_e]=t(Ne)),{render:$e,hydrate:Se,createApp:yP($e,Se)}}function $s({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function bS(e,t,n=!1){const r=e.children,s=t.children;if(me(r)&&me(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=rs(s[i]),a.el=o.el),n||bS(o,a))}}function bP(e){const t=e.slice(),n=[0];let r,s,i,o,a;const c=e.length;for(r=0;r<c;r++){const l=e[r];if(l!==0){if(s=n[n.length-1],e[s]<l){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<l?i=a+1:o=a;l<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const EP=e=>e.__isTeleport,on=Symbol(void 0),Rg=Symbol(void 0),bs=Symbol(void 0),fu=Symbol(void 0),Ca=[];let Vn=null;function Fe(e=!1){Ca.push(Vn=e?null:[])}function SP(){Ca.pop(),Vn=Ca[Ca.length-1]||null}let oc=1;function W_(e){oc+=e}function ES(e){return e.dynamicChildren=oc>0?Vn||no:null,SP(),oc>0&&Vn&&Vn.push(e),e}function ot(e,t,n,r,s,i){return ES(F(e,t,n,r,s,i,!0))}function Mr(e,t,n,r,s){return ES(et(e,t,n,r,s,!0))}function qu(e){return e?e.__v_isVNode===!0:!1}function sa(e,t){return e.type===t.type&&e.key===t.key}const Vh="__vInternal",SS=({key:e})=>e!=null?e:null,du=({ref:e,ref_key:t,ref_for:n})=>e!=null?Rt(e)||yt(e)||Ie(e)?{i:Xt,r:e,k:t,f:!!n}:e:null;function F(e,t=null,n=null,r=0,s=null,i=e===on?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&SS(t),ref:t&&du(t),scopeId:Bh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(Dg(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Rt(n)?8:16),oc>0&&!o&&Vn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Vn.push(c),c}const et=TP;function TP(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===uS)&&(e=bs),qu(e)){const a=vo(e,t,!0);return n&&Dg(a,n),oc>0&&!i&&Vn&&(a.shapeFlag&6?Vn[Vn.indexOf(e)]=a:Vn.push(a)),a.patchFlag|=-2,a}if(PP(e)&&(e=e.__vccOpts),t){t=IP(t);let{class:a,style:c}=t;a&&!Rt(a)&&(t.class=Rh(a)),Et(c)&&(GE(c)&&!me(c)&&(c=hn({},c)),t.style=pg(c))}const o=Rt(e)?1:YM(e)?128:EP(e)?64:Et(e)?4:Ie(e)?2:0;return F(e,t,n,r,s,o,i,!0)}function IP(e){return e?GE(e)||Vh in e?hn({},e):e:null}function vo(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?OP(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&SS(a),ref:t&&t.ref?n&&s?me(s)?s.concat(du(t)):[s,du(t)]:du(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==on?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vo(e.ssContent),ssFallback:e.ssFallback&&vo(e.ssFallback),el:e.el,anchor:e.anchor}}function mi(e=" ",t=0){return et(Rg,null,e,t)}function gi(e,t){const n=et(fu,null,e);return n.staticCount=t,n}function wn(e="",t=!1){return t?(Fe(),Mr(bs,null,e)):et(bs,null,e)}function ir(e){return e==null||typeof e=="boolean"?et(bs):me(e)?et(on,null,e.slice()):typeof e=="object"?rs(e):et(Rg,null,String(e))}function rs(e){return e.el===null||e.memo?e:vo(e)}function Dg(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(me(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Dg(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Vh in t)?t._ctx=Xt:s===3&&Xt&&(Xt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ie(t)?(t={default:t,_ctx:Xt},n=32):(t=String(t),r&64?(n=16,t=[mi(t)]):n=8);e.children=t,e.shapeFlag|=n}function OP(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Rh([t.class,r.class]));else if(s==="style")t.style=pg([t.style,r.style]);else if(Dh(s)){const i=t[s],o=r[s];o&&i!==o&&!(me(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function er(e,t,n,r=null){Hn(e,t,7,[n,r])}const CP=wS();let kP=0;function AP(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||CP,i={uid:kP++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new $E(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gS(r,s),emitsOptions:iS(r,s),emit:null,emitted:null,propsDefaults:it,inheritAttrs:r.inheritAttrs,ctx:it,data:it,props:it,attrs:it,slots:it,refs:it,setupState:it,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=UM.bind(null,i),e.ce&&e.ce(i),i}let Nt=null;const Mg=()=>Nt||Xt,yo=e=>{Nt=e,e.scope.on()},Qs=()=>{Nt&&Nt.scope.off(),Nt=null};function TS(e){return e.vnode.shapeFlag&4}let ac=!1;function xP(e,t=!1){ac=t;const{props:n,children:r}=e.vnode,s=TS(e);fP(e,n,s,t),mP(e,r);const i=s?RP(e,t):void 0;return ac=!1,i}function RP(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=go(new Proxy(e.ctx,oP));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?OS(e):null;yo(e),Po();const i=ps(r,e,0,[e.props,s]);if(No(),Qs(),ME(i)){if(i.then(Qs,Qs),t)return i.then(o=>{z_(e,o,t)}).catch(o=>{Lh(o,e,0)});e.asyncDep=i}else z_(e,i,t)}else IS(e,t)}function z_(e,t,n){Ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Et(t)&&(e.setupState=JE(t)),IS(e,n)}let H_;function IS(e,t,n){const r=e.type;if(!e.render){if(!t&&H_&&!r.render){const s=r.template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=r,l=hn(hn({isCustomElement:i,delimiters:a},o),c);r.render=H_(s,l)}}e.render=r.render||zn}yo(e),Po(),aP(e),No(),Qs()}function DP(e){return new Proxy(e.attrs,{get(t,n){return In(e,"get","$attrs"),t[n]}})}function OS(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=DP(e))},slots:e.slots,emit:e.emit,expose:t}}function Wh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(JE(go(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ku)return Ku[n](e)}}))}function MP(e){return Ie(e)&&e.displayName||e.name}function PP(e){return Ie(e)&&"__vccOpts"in e}const Sn=(e,t)=>MM(e,t,ac);function pne(){return NP().slots}function NP(){const e=Mg();return e.setupContext||(e.setupContext=OS(e))}function CS(e,t,n){const r=arguments.length;return r===2?Et(t)&&!me(t)?qu(t)?et(e,null,[t]):et(e,t):et(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&qu(n)&&(n=[n]),et(e,t,n))}const $P="3.2.36",LP="http://www.w3.org/2000/svg",js=typeof document!="undefined"?document:null,Y_=js&&js.createElement("template"),FP={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?js.createElementNS(LP,e):js.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>js.createTextNode(e),createComment:e=>js.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>js.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Y_.innerHTML=r?`<svg>${e}</svg>`:e;const a=Y_.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function UP(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function BP(e,t,n){const r=e.style,s=Rt(n);if(n&&!s){for(const i in n)qp(r,i,n[i]);if(t&&!Rt(t))for(const i in t)n[i]==null&&qp(r,i,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const K_=/\s*!important$/;function qp(e,t,n){if(me(n))n.forEach(r=>qp(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=jP(e,t);K_.test(n)?e.setProperty(pi(r),n.replace(K_,""),"important"):e[r]=n}}const G_=["Webkit","Moz","ms"],ld={};function jP(e,t){const n=ld[t];if(n)return n;let r=gr(t);if(r!=="filter"&&r in e)return ld[t]=r;r=Nh(r);for(let s=0;s<G_.length;s++){const i=G_[s]+r;if(i in e)return ld[t]=i}return t}const q_="http://www.w3.org/1999/xlink";function VP(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(q_,t.slice(6,t.length)):e.setAttributeNS(q_,t,n);else{const i=jD(t);n==null||i&&!xE(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function WP(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n==null?"":n;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=xE(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}const[kS,zP]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Xp=0;const HP=Promise.resolve(),YP=()=>{Xp=0},KP=()=>Xp||(HP.then(YP),Xp=kS());function os(e,t,n,r){e.addEventListener(t,n,r)}function GP(e,t,n,r){e.removeEventListener(t,n,r)}function qP(e,t,n,r,s=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[a,c]=XP(t);if(r){const l=i[t]=QP(r,s);os(e,a,l,c)}else o&&(GP(e,a,o,c),i[t]=void 0)}}const X_=/(?:Once|Passive|Capture)$/;function XP(e){let t;if(X_.test(e)){t={};let n;for(;n=e.match(X_);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[pi(e.slice(2)),t]}function QP(e,t){const n=r=>{const s=r.timeStamp||kS();(zP||s>=n.attached-1)&&Hn(JP(r,n.value),t,5,[r])};return n.value=e,n.attached=KP(),n}function JP(e,t){if(me(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Q_=/^on[a-z]/,ZP=(e,t,n,r,s=!1,i,o,a,c)=>{t==="class"?UP(e,r,s):t==="style"?BP(e,n,r):Dh(t)?mg(t)||qP(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):eN(e,t,r,s))?WP(e,t,r,i,o,a,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),VP(e,t,r,s))};function eN(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Q_.test(t)&&Ie(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Q_.test(t)&&Rt(n)?!1:t in e}const _o=e=>{const t=e.props["onUpdate:modelValue"]||!1;return me(t)?n=>uu(t,n):t};function tN(e){e.target.composing=!0}function J_(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const mne={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=_o(s);const i=r||s.props&&s.props.type==="number";os(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=$p(a)),e._assign(a)}),n&&os(e,"change",()=>{e.value=e.value.trim()}),t||(os(e,"compositionstart",tN),os(e,"compositionend",J_),os(e,"change",J_))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e._assign=_o(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&$p(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},gne={deep:!0,created(e,t,n){e._assign=_o(n),os(e,"change",()=>{const r=e._modelValue,s=AS(e),i=e.checked,o=e._assign;if(me(r)){const a=RE(r,s),c=a!==-1;if(i&&!c)o(r.concat(s));else if(!i&&c){const l=[...r];l.splice(a,1),o(l)}}else if(Mh(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(xS(e,i))})},mounted:Z_,beforeUpdate(e,t,n){e._assign=_o(n),Z_(e,t,n)}};function Z_(e,{value:t,oldValue:n},r){e._modelValue=t,me(t)?e.checked=RE(t,r.props.value)>-1:Mh(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=mo(t,xS(e,!0)))}const vne={created(e,{value:t},n){e.checked=mo(t,n.props.value),e._assign=_o(n),os(e,"change",()=>{e._assign(AS(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=_o(r),t!==n&&(e.checked=mo(t,r.props.value))}};function AS(e){return"_value"in e?e._value:e.value}function xS(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const nN=["ctrl","shift","alt","meta"],rN={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>nN.some(n=>e[`${n}Key`]&&!t.includes(n))},yne=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const i=rN[t[s]];if(i&&i(n,t))return}return e(n,...r)},sN={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_ne=(e,t)=>n=>{if(!("key"in n))return;const r=pi(n.key);if(t.some(s=>s===r||sN[s]===r))return e(n)},iN=hn({patchProp:ZP},FP);let e0;function oN(){return e0||(e0=_P(iN))}const aN=(...e)=>{const t=oN().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=cN(r);if(!s)return;const i=t._component;!Ie(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function cN(e){return Rt(e)?document.querySelector(e):e}var lN=!1;function uN(){return RS().__VUE_DEVTOOLS_GLOBAL_HOOK__}function RS(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const hN=typeof Proxy=="function",fN="devtools-plugin:setup",dN="plugin:settings:set";let xi,Qp;function pN(){var e;return xi!==void 0||(typeof window!="undefined"&&window.performance?(xi=!0,Qp=window.performance):typeof global!="undefined"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(xi=!0,Qp=global.perf_hooks.performance):xi=!1),xi}function mN(){return pN()?Qp.now():Date.now()}class gN{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const a=t.settings[o];r[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return mN()}},n&&n.on(dN,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(l=>{this.targetQueue.push({method:a,args:c,resolve:l})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function vN(e,t){const n=e,r=RS(),s=uN(),i=hN&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(fN,e,t);else{const o=i?new gN(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let DS;const zh=e=>DS=e,MS=Symbol();function Jp(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ka;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ka||(ka={}));function yN(){const e=LE(!0),t=e.run(()=>Yn({}));let n=[],r=[];const s=go({install(i){zh(s),s._a=i,i.provide(MS,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!lN?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const PS=()=>{};function t0(e,t,n,r=PS){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&Mg()&&kg(s),s}function Ri(e,...t){e.slice().forEach(n=>{n(...t)})}function Zp(e,t){for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];Jp(s)&&Jp(r)&&e.hasOwnProperty(n)&&!yt(r)&&!ds(r)?e[n]=Zp(s,r):e[n]=r}return e}const _N=Symbol();function wN(e){return!Jp(e)||!e.hasOwnProperty(_N)}const{assign:Cr}=Object;function bN(e){return!!(yt(e)&&e.effect)}function EN(e,t,n,r){const{state:s,actions:i,getters:o}=t,a=n.state.value[e];let c;function l(){a||(n.state.value[e]=s?s():{});const u=AM(n.state.value[e]);return Cr(u,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=go(Sn(()=>{zh(n);const p=n._s.get(e);return o[f].call(p,p)})),h),{}))}return c=NS(e,l,t,n,r,!0),c.$reset=function(){const h=s?s():{};this.$patch(f=>{Cr(f,h)})},c}function NS(e,t,n={},r,s,i){let o;const a=Cr({actions:{}},n),c={deep:!0};let l,u,h=go([]),f=go([]),p;const v=r.state.value[e];!i&&!v&&(r.state.value[e]={}),Yn({});let k;function E(w){let C;l=u=!1,typeof w=="function"?(w(r.state.value[e]),C={type:ka.patchFunction,storeId:e,events:p}):(Zp(r.state.value[e],w),C={type:ka.patchObject,payload:w,storeId:e,events:p});const X=k=Symbol();Og().then(()=>{k===X&&(l=!0)}),u=!0,Ri(h,C,r.state.value[e])}const O=PS;function R(){o.stop(),h=[],f=[],r._s.delete(e)}function H(w,C){return function(){zh(r);const X=Array.from(arguments),de=[],Ce=[];function De(nt){de.push(nt)}function gt(nt){Ce.push(nt)}Ri(f,{args:X,name:w,store:D,after:De,onError:gt});let vt;try{vt=C.apply(this&&this.$id===e?this:D,X)}catch(nt){throw Ri(Ce,nt),nt}return vt instanceof Promise?vt.then(nt=>(Ri(de,nt),nt)).catch(nt=>(Ri(Ce,nt),Promise.reject(nt))):(Ri(de,vt),vt)}}const V={_p:r,$id:e,$onAction:t0.bind(null,f),$patch:E,$reset:O,$subscribe(w,C={}){const X=t0(h,w,C.detached,()=>de()),de=o.run(()=>Xs(()=>r.state.value[e],Ce=>{(C.flush==="sync"?u:l)&&w({storeId:e,type:ka.direct,events:p},Ce)},Cr({},c,C)));return X},$dispose:R},D=ks(Cr({},V));r._s.set(e,D);const M=r._e.run(()=>(o=LE(),o.run(()=>t())));for(const w in M){const C=M[w];if(yt(C)&&!bN(C)||ds(C))i||(v&&wN(C)&&(yt(C)?C.value=v[w]:Zp(C,v[w])),r.state.value[e][w]=C);else if(typeof C=="function"){const X=H(w,C);M[w]=X,a.actions[w]=C}}return Cr(D,M),Cr(Ke(D),M),Object.defineProperty(D,"$state",{get:()=>r.state.value[e],set:w=>{E(C=>{Cr(C,w)})}}),r._p.forEach(w=>{Cr(D,o.run(()=>w({store:D,app:r._a,pinia:r,options:a})))}),v&&i&&n.hydrate&&n.hydrate(D.$state,v),l=!0,u=!0,D}function wne(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function o(a,c){const l=Mg();return a=a||l&&Rn(MS),a&&zh(a),a=DS,a._s.has(r)||(i?NS(r,t,s,a):EN(r,s,a)),a._s.get(r)}return o.$id=r,o}const $S=Yn([]),LS=Yn(null),FS=Yn(null),US=Yn(null),BS=Yn(null),Qt=ks({current:""}),em=[],SN=Yn(!1),tm=As($S),TN=As(LS),IN=As(FS),ON=As(US),CN=As(BS),kN=As(Qt),AN=e=>{$S.value=e},xN=e=>{LS.value=e},RN=e=>{FS.value=e},DN=e=>{US.value=e},MN=e=>{BS.value=e},jS=(e=TN.value)=>{Qt.current=e;const t=tm.value.findIndex(r=>r.name===e),n=tm.value.map(r=>r.name);for(let r=0;r<n.length;r++){if(r>0&&r<n.length-1){const s=n[r]+"Minus",i=n[r]+"Plus";Qt[s]=t<=r,Qt[i]=t>=r}Qt[n[r]]=n[r]===e}},PN=()=>{const e=Object.keys(Qt);for(let t of e)delete Qt[t];jS(),VS(),WS(),zS()},VS=(e=IN.value)=>{Qt.orientation=e,Qt.isLandscape=e==="landscape",Qt.isPortrait=e==="portrait"},WS=(e=ON.value||"light")=>{Qt.theme=e,Qt.isDark=e==="dark",Qt.isLight=e==="light"},zS=(e=CN.value||"no-preference")=>{Qt.motionPreference=e,Qt.isMotion=e==="no-preference",Qt.isInert=e==="reduce"};function NN(){for(;em.length>0;){const e=em.shift();if(e&&typeof e=="object"){const{mql:t,cb:n}=e;t.addEventListener&&typeof t.addEventListener=="function"?t.removeEventListener("change",n):t.removeListener(n)}}}function $N(){return tm.value.reduce((t,n,r,s)=>{const i=`(min-width: ${n.min}px)`,o=r<s.length-1?`(max-width: ${s[r+1].min-1}px)`:null,a=i+(o?" and "+o:"");return Object.assign(t,{[n.name]:a})},{})}function El(e,t){if(typeof window=="undefined"||!window.matchMedia)return!1;if(typeof window!="undefined"&&!window.matchMedia)return console.error("Vue3 Mq: No MatchMedia support detected in this browser. Responsive breakpoints not available."),!1;{SN.value=!0;const n=window.matchMedia(e),r=({matches:i})=>{i&&t()};em.push({mql:n,cb:r}),n.addEventListener&&typeof n.addEventListener=="function"?n.addEventListener("change",r):n.addListener(r),r(n)}}const LN={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},FN={xs:0,sm:576,md:768,lg:992,xl:1200},UN={xs:0,sm:768,md:992,lg:1200},BN={xs:0,sm:600,md:960,lg:1264,xl:1904},jN={xs:0,sm:640,md:768,lg:1024,xl:1280,xxl:1536},VN={phone:0,tablet:768,laptop:1370,desktop:1906},WN={mobile:0,small:600,medium:782,large:960,xlarge:1080,wide:1280,huge:1440};var ud=Object.freeze(Object.defineProperty({__proto__:null,bootstrap5:LN,bootstrap4:FN,bootstrap3:UN,vuetify:BN,tailwind:jN,devices:VN,wordpress:WN},Symbol.toStringTag,{value:"Module"}));const zN=e=>{if(typeof e=="string"&&ud[e])return ud[e];{const t=Object.keys(ud);return console.error(`Vue3 Mq: "${e}" is not a valid preset. Available options are: ${t.join(", ")}`),!1}},HN=e=>["landscape","portrait"].includes(e)===!1?(console.error(`Vue3 Mq: "${e}" is not a valid default orientation. Reverting to unset value.`),null):e,YN=(e=null)=>["dark","light"].includes(e)===!1&&e!==null?(console.error(`Vue3 Mq: "${e}" is not a valid default theme. Reverting to unset value.`),null):e,KN=(e=null)=>["no-preference","reduce"].includes(e)===!1&&e!==null?(console.error(`Vue3 Mq: "${e}" is not a valid default motion preference. Reverting to unset value.`),null):e,n0=e=>{if(!e||typeof e!="object")return!1;const t=[];for(let s in e){const i=parseFloat(e[s]);if(!s||typeof s!="string"){console.warn(`Vue3 Mq: Invalid or missing breakpoint key (${JSON.stringify(s)}). Skipping.`);continue}else if(/^[^a-z]/i.test(s)||/[^a-zA-Z0-9_]/.test(s)){console.warn(`Vue3 Mq: "${s}" is an invalid breakpoint key. Breakpoint keys must start with a letter and contain only alphanumeric characters and underscores. Skipping.`);continue}else if(!i&&i!==0||isNaN(i)||i<0){console.warn(`Vue3 Mq: "${s}: ${e[s]}" is not a valid breakpoint. Breakpoints should be a number of zero or above. Skipping.`);continue}t.push({name:s,min:i})}return t.some(s=>s.min===0)||console.warn("Vue3 Mq: You have not declared a breakpoint with a minimum value of 0. There may be screen sizes to which Vue3Mq does not respond."),new Set(t.map(s=>s.min)).size<t.length&&console.warn("Vue3 Mq: Your breakpoint configuration contains duplicate values. Behaviour may be unpredictable."),t.length===0?!1:t.sort((s,i)=>s.min-i.min)};function r0({breakpoints:e,preset:t}){const n=zN(t),r=n0(e);if(n===!1&&!r)throw new TypeError("Vue3 Mq: You must provide a valid preset, or valid breakpoint settings.");AN(r||n0(n)),NN(),PN();const s=$N();for(const i in s){const o=s[i];El(o,()=>{jS(i)})}["portrait","landscape"].forEach(i=>{const o=()=>{VS(i)};El(`(orientation: ${i})`,o)}),["light","dark"].forEach(i=>{const o=()=>{WS(i)};El(`(prefers-color-scheme: ${i})`,o)}),["reduce","no-preference"].forEach(i=>{const o=()=>{zS(i)};El(`(prefers-reduced-motion: ${i})`,o)})}const GN=(e,{preset:t="bootstrap5",breakpoints:n,defaultBreakpoint:r,defaultOrientation:s="landscape",defaultMotion:i="no-preference",defaultTheme:o}={})=>{try{const a=HN(s),c=YN(o),l=KN(i);xN(r),RN(a),DN(c),MN(l),e.provide("mq",kN),e.provide("updateBreakpoints",r0),r0({breakpoints:n,preset:t})}catch(a){console.error(a)}};var qN={install:GN};const XN="modulepreload",s0={},QN="/",mt=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${QN}${r}`,r in s0)return;s0[r]=!0;const s=r.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":XN,s||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),s)return new Promise((a,c)=>{o.addEventListener("load",a),o.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var HS;function te(){return HS.apply(null,arguments)}function JN(e){HS=e}function Kn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Js(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Pg(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ze(e,t))return!1;return!0}function gn(e){return e===void 0}function Vr(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Bc(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function YS(e,t){var n=[],r,s=e.length;for(r=0;r<s;++r)n.push(t(e[r],r));return n}function ls(e,t){for(var n in t)ze(t,n)&&(e[n]=t[n]);return ze(t,"toString")&&(e.toString=t.toString),ze(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _r(e,t,n,r){return gT(e,t,n,r,!0).utc()}function ZN(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Te(e){return e._pf==null&&(e._pf=ZN()),e._pf}var nm;Array.prototype.some?nm=Array.prototype.some:nm=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Ng(e){if(e._isValid==null){var t=Te(e),n=nm.call(t.parsedDateParts,function(s){return s!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Hh(e){var t=_r(NaN);return e!=null?ls(Te(t),e):Te(t).userInvalidated=!0,t}var i0=te.momentProperties=[],hd=!1;function $g(e,t){var n,r,s,i=i0.length;if(gn(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),gn(t._i)||(e._i=t._i),gn(t._f)||(e._f=t._f),gn(t._l)||(e._l=t._l),gn(t._strict)||(e._strict=t._strict),gn(t._tzm)||(e._tzm=t._tzm),gn(t._isUTC)||(e._isUTC=t._isUTC),gn(t._offset)||(e._offset=t._offset),gn(t._pf)||(e._pf=Te(t)),gn(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=i0[n],s=t[r],gn(s)||(e[r]=s);return e}function jc(e){$g(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),hd===!1&&(hd=!0,te.updateOffset(this),hd=!1)}function Gn(e){return e instanceof jc||e!=null&&e._isAMomentObject!=null}function KS(e){te.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function Mn(e,t){var n=!0;return ls(function(){if(te.deprecationHandler!=null&&te.deprecationHandler(null,e),n){var r=[],s,i,o,a=arguments.length;for(i=0;i<a;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])ze(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}KS(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var o0={};function GS(e,t){te.deprecationHandler!=null&&te.deprecationHandler(e,t),o0[e]||(KS(t),o0[e]=!0)}te.suppressDeprecationWarnings=!1;te.deprecationHandler=null;function wr(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function e3(e){var t,n;for(n in e)ze(e,n)&&(t=e[n],wr(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function rm(e,t){var n=ls({},e),r;for(r in t)ze(t,r)&&(Js(e[r])&&Js(t[r])?(n[r]={},ls(n[r],e[r]),ls(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ze(e,r)&&!ze(t,r)&&Js(e[r])&&(n[r]=ls({},n[r]));return n}function Lg(e){e!=null&&this.set(e)}var sm;Object.keys?sm=Object.keys:sm=function(e){var t,n=[];for(t in e)ze(e,t)&&n.push(t);return n};var t3={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function n3(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return wr(r)?r.call(t,n):r}function vr(e,t,n){var r=""+Math.abs(e),s=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Fg=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Sl=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fd={},so={};function fe(e,t,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),e&&(so[e]=s),t&&(so[t[0]]=function(){return vr(s.apply(this,arguments),t[1],t[2])}),n&&(so[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function r3(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function s3(e){var t=e.match(Fg),n,r;for(n=0,r=t.length;n<r;n++)so[t[n]]?t[n]=so[t[n]]:t[n]=r3(t[n]);return function(s){var i="",o;for(o=0;o<r;o++)i+=wr(t[o])?t[o].call(s,e):t[o];return i}}function pu(e,t){return e.isValid()?(t=qS(t,e.localeData()),fd[t]=fd[t]||s3(t),fd[t](e)):e.localeData().invalidDate()}function qS(e,t){var n=5;function r(s){return t.longDateFormat(s)||s}for(Sl.lastIndex=0;n>=0&&Sl.test(e);)e=e.replace(Sl,r),Sl.lastIndex=0,n-=1;return e}var i3={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function o3(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Fg).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var a3="Invalid date";function c3(){return this._invalidDate}var l3="%d",u3=/\d{1,2}/;function h3(e){return this._ordinal.replace("%d",e)}var f3={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d3(e,t,n,r){var s=this._relativeTime[n];return wr(s)?s(e,t,n,r):s.replace(/%d/i,e)}function p3(e,t){var n=this._relativeTime[e>0?"future":"past"];return wr(n)?n(t):n.replace(/%s/i,t)}var Aa={};function en(e,t){var n=e.toLowerCase();Aa[n]=Aa[n+"s"]=Aa[t]=e}function Pn(e){return typeof e=="string"?Aa[e]||Aa[e.toLowerCase()]:void 0}function Ug(e){var t={},n,r;for(r in e)ze(e,r)&&(n=Pn(r),n&&(t[n]=e[r]));return t}var XS={};function tn(e,t){XS[e]=t}function m3(e){var t=[],n;for(n in e)ze(e,n)&&t.push({unit:n,priority:XS[n]});return t.sort(function(r,s){return r.priority-s.priority}),t}function Yh(e){return e%4===0&&e%100!==0||e%400===0}function xn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Re(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=xn(t)),n}function $o(e,t){return function(n){return n!=null?(QS(this,e,n),te.updateOffset(this,t),this):Xu(this,e)}}function Xu(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function QS(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Yh(e.year())&&e.month()===1&&e.date()===29?(n=Re(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Jh(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function g3(e){return e=Pn(e),wr(this[e])?this[e]():this}function v3(e,t){if(typeof e=="object"){e=Ug(e);var n=m3(e),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](e[n[r].unit])}else if(e=Pn(e),wr(this[e]))return this[e](t);return this}var JS=/\d/,Cn=/\d\d/,ZS=/\d{3}/,Bg=/\d{4}/,Kh=/[+-]?\d{6}/,ht=/\d\d?/,eT=/\d\d\d\d?/,tT=/\d\d\d\d\d\d?/,Gh=/\d{1,3}/,jg=/\d{1,4}/,qh=/[+-]?\d{1,6}/,Lo=/\d+/,Xh=/[+-]?\d+/,y3=/Z|[+-]\d\d:?\d\d/gi,Qh=/Z|[+-]\d\d(?::?\d\d)?/gi,_3=/[+-]?\d+(\.\d{1,3})?/,Vc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Qu;Qu={};function re(e,t,n){Qu[e]=wr(t)?t:function(r,s){return r&&n?n:t}}function w3(e,t){return ze(Qu,e)?Qu[e](t._strict,t._locale):new RegExp(b3(e))}function b3(e){return bn(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,s,i){return n||r||s||i}))}function bn(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var im={};function tt(e,t){var n,r=t,s;for(typeof e=="string"&&(e=[e]),Vr(t)&&(r=function(i,o){o[t]=Re(i)}),s=e.length,n=0;n<s;n++)im[e[n]]=r}function Wc(e,t){tt(e,function(n,r,s,i){s._w=s._w||{},t(n,s._w,s,i)})}function E3(e,t,n){t!=null&&ze(im,e)&&im[e](t,n._a,n,e)}var Jt=0,Pr=1,lr=2,kt=3,Wn=4,Nr=5,Ws=6,S3=7,T3=8;function I3(e,t){return(e%t+t)%t}var wt;Array.prototype.indexOf?wt=Array.prototype.indexOf:wt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Jh(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=I3(t,12);return e+=(t-n)/12,n===1?Yh(e)?29:28:31-n%7%2}fe("M",["MM",2],"Mo",function(){return this.month()+1});fe("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});fe("MMMM",0,0,function(e){return this.localeData().months(this,e)});en("month","M");tn("month",8);re("M",ht);re("MM",ht,Cn);re("MMM",function(e,t){return t.monthsShortRegex(e)});re("MMMM",function(e,t){return t.monthsRegex(e)});tt(["M","MM"],function(e,t){t[Pr]=Re(e)-1});tt(["MMM","MMMM"],function(e,t,n,r){var s=n._locale.monthsParse(e,r,n._strict);s!=null?t[Pr]=s:Te(n).invalidMonth=e});var O3="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nT="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,C3=Vc,k3=Vc;function A3(e,t){return e?Kn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rT).test(t)?"format":"standalone"][e.month()]:Kn(this._months)?this._months:this._months.standalone}function x3(e,t){return e?Kn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rT.test(t)?"format":"standalone"][e.month()]:Kn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function R3(e,t,n){var r,s,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=_r([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(s=wt.call(this._shortMonthsParse,o),s!==-1?s:null):(s=wt.call(this._longMonthsParse,o),s!==-1?s:null):t==="MMM"?(s=wt.call(this._shortMonthsParse,o),s!==-1?s:(s=wt.call(this._longMonthsParse,o),s!==-1?s:null)):(s=wt.call(this._longMonthsParse,o),s!==-1?s:(s=wt.call(this._shortMonthsParse,o),s!==-1?s:null))}function D3(e,t,n){var r,s,i;if(this._monthsParseExact)return R3.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=_r([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function sT(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Re(t);else if(t=e.localeData().monthsParse(t),!Vr(t))return e}return n=Math.min(e.date(),Jh(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function iT(e){return e!=null?(sT(this,e),te.updateOffset(this,!0),this):Xu(this,"Month")}function M3(){return Jh(this.year(),this.month())}function P3(e){return this._monthsParseExact?(ze(this,"_monthsRegex")||oT.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ze(this,"_monthsShortRegex")||(this._monthsShortRegex=C3),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function N3(e){return this._monthsParseExact?(ze(this,"_monthsRegex")||oT.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ze(this,"_monthsRegex")||(this._monthsRegex=k3),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function oT(){function e(o,a){return a.length-o.length}var t=[],n=[],r=[],s,i;for(s=0;s<12;s++)i=_r([2e3,s]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),s=0;s<12;s++)t[s]=bn(t[s]),n[s]=bn(n[s]);for(s=0;s<24;s++)r[s]=bn(r[s]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}fe("Y",0,0,function(){var e=this.year();return e<=9999?vr(e,4):"+"+e});fe(0,["YY",2],0,function(){return this.year()%100});fe(0,["YYYY",4],0,"year");fe(0,["YYYYY",5],0,"year");fe(0,["YYYYYY",6,!0],0,"year");en("year","y");tn("year",1);re("Y",Xh);re("YY",ht,Cn);re("YYYY",jg,Bg);re("YYYYY",qh,Kh);re("YYYYYY",qh,Kh);tt(["YYYYY","YYYYYY"],Jt);tt("YYYY",function(e,t){t[Jt]=e.length===2?te.parseTwoDigitYear(e):Re(e)});tt("YY",function(e,t){t[Jt]=te.parseTwoDigitYear(e)});tt("Y",function(e,t){t[Jt]=parseInt(e,10)});function xa(e){return Yh(e)?366:365}te.parseTwoDigitYear=function(e){return Re(e)+(Re(e)>68?1900:2e3)};var aT=$o("FullYear",!0);function $3(){return Yh(this.year())}function L3(e,t,n,r,s,i,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,s,i,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,s,i,o),a}function cc(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ju(e,t,n){var r=7+t-n,s=(7+cc(e,0,r).getUTCDay()-t)%7;return-s+r-1}function cT(e,t,n,r,s){var i=(7+n-r)%7,o=Ju(e,r,s),a=1+7*(t-1)+i+o,c,l;return a<=0?(c=e-1,l=xa(c)+a):a>xa(e)?(c=e+1,l=a-xa(e)):(c=e,l=a),{year:c,dayOfYear:l}}function lc(e,t,n){var r=Ju(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1,i,o;return s<1?(o=e.year()-1,i=s+Lr(o,t,n)):s>Lr(e.year(),t,n)?(i=s-Lr(e.year(),t,n),o=e.year()+1):(o=e.year(),i=s),{week:i,year:o}}function Lr(e,t,n){var r=Ju(e,t,n),s=Ju(e+1,t,n);return(xa(e)-r+s)/7}fe("w",["ww",2],"wo","week");fe("W",["WW",2],"Wo","isoWeek");en("week","w");en("isoWeek","W");tn("week",5);tn("isoWeek",5);re("w",ht);re("ww",ht,Cn);re("W",ht);re("WW",ht,Cn);Wc(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Re(e)});function F3(e){return lc(e,this._week.dow,this._week.doy).week}var U3={dow:0,doy:6};function B3(){return this._week.dow}function j3(){return this._week.doy}function V3(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function W3(e){var t=lc(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}fe("d",0,"do","day");fe("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});fe("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});fe("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});fe("e",0,0,"weekday");fe("E",0,0,"isoWeekday");en("day","d");en("weekday","e");en("isoWeekday","E");tn("day",11);tn("weekday",11);tn("isoWeekday",11);re("d",ht);re("e",ht);re("E",ht);re("dd",function(e,t){return t.weekdaysMinRegex(e)});re("ddd",function(e,t){return t.weekdaysShortRegex(e)});re("dddd",function(e,t){return t.weekdaysRegex(e)});Wc(["dd","ddd","dddd"],function(e,t,n,r){var s=n._locale.weekdaysParse(e,r,n._strict);s!=null?t.d=s:Te(n).invalidWeekday=e});Wc(["d","e","E"],function(e,t,n,r){t[r]=Re(e)});function z3(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function H3(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Vg(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Y3="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),lT="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),K3="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),G3=Vc,q3=Vc,X3=Vc;function Q3(e,t){var n=Kn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Vg(n,this._week.dow):e?n[e.day()]:n}function J3(e){return e===!0?Vg(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Z3(e){return e===!0?Vg(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function e$(e,t,n){var r,s,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=_r([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(s=wt.call(this._weekdaysParse,o),s!==-1?s:null):t==="ddd"?(s=wt.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=wt.call(this._minWeekdaysParse,o),s!==-1?s:null):t==="dddd"?(s=wt.call(this._weekdaysParse,o),s!==-1||(s=wt.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=wt.call(this._minWeekdaysParse,o),s!==-1?s:null)):t==="ddd"?(s=wt.call(this._shortWeekdaysParse,o),s!==-1||(s=wt.call(this._weekdaysParse,o),s!==-1)?s:(s=wt.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=wt.call(this._minWeekdaysParse,o),s!==-1||(s=wt.call(this._weekdaysParse,o),s!==-1)?s:(s=wt.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function t$(e,t,n){var r,s,i;if(this._weekdaysParseExact)return e$.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=_r([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function n$(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=z3(e,this.localeData()),this.add(e-t,"d")):t}function r$(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function s$(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=H3(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function i$(e){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Wg.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ze(this,"_weekdaysRegex")||(this._weekdaysRegex=G3),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function o$(e){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Wg.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ze(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=q3),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function a$(e){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Wg.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ze(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=X3),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Wg(){function e(u,h){return h.length-u.length}var t=[],n=[],r=[],s=[],i,o,a,c,l;for(i=0;i<7;i++)o=_r([2e3,1]).day(i),a=bn(this.weekdaysMin(o,"")),c=bn(this.weekdaysShort(o,"")),l=bn(this.weekdays(o,"")),t.push(a),n.push(c),r.push(l),s.push(a),s.push(c),s.push(l);t.sort(e),n.sort(e),r.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function zg(){return this.hours()%12||12}function c$(){return this.hours()||24}fe("H",["HH",2],0,"hour");fe("h",["hh",2],0,zg);fe("k",["kk",2],0,c$);fe("hmm",0,0,function(){return""+zg.apply(this)+vr(this.minutes(),2)});fe("hmmss",0,0,function(){return""+zg.apply(this)+vr(this.minutes(),2)+vr(this.seconds(),2)});fe("Hmm",0,0,function(){return""+this.hours()+vr(this.minutes(),2)});fe("Hmmss",0,0,function(){return""+this.hours()+vr(this.minutes(),2)+vr(this.seconds(),2)});function uT(e,t){fe(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}uT("a",!0);uT("A",!1);en("hour","h");tn("hour",13);function hT(e,t){return t._meridiemParse}re("a",hT);re("A",hT);re("H",ht);re("h",ht);re("k",ht);re("HH",ht,Cn);re("hh",ht,Cn);re("kk",ht,Cn);re("hmm",eT);re("hmmss",tT);re("Hmm",eT);re("Hmmss",tT);tt(["H","HH"],kt);tt(["k","kk"],function(e,t,n){var r=Re(e);t[kt]=r===24?0:r});tt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});tt(["h","hh"],function(e,t,n){t[kt]=Re(e),Te(n).bigHour=!0});tt("hmm",function(e,t,n){var r=e.length-2;t[kt]=Re(e.substr(0,r)),t[Wn]=Re(e.substr(r)),Te(n).bigHour=!0});tt("hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[kt]=Re(e.substr(0,r)),t[Wn]=Re(e.substr(r,2)),t[Nr]=Re(e.substr(s)),Te(n).bigHour=!0});tt("Hmm",function(e,t,n){var r=e.length-2;t[kt]=Re(e.substr(0,r)),t[Wn]=Re(e.substr(r))});tt("Hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[kt]=Re(e.substr(0,r)),t[Wn]=Re(e.substr(r,2)),t[Nr]=Re(e.substr(s))});function l$(e){return(e+"").toLowerCase().charAt(0)==="p"}var u$=/[ap]\.?m?\.?/i,h$=$o("Hours",!0);function f$(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var fT={calendar:t3,longDateFormat:i3,invalidDate:a3,ordinal:l3,dayOfMonthOrdinalParse:u3,relativeTime:f3,months:O3,monthsShort:nT,week:U3,weekdays:Y3,weekdaysMin:K3,weekdaysShort:lT,meridiemParse:u$},ft={},ia={},uc;function d$(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function a0(e){return e&&e.toLowerCase().replace("_","-")}function p$(e){for(var t=0,n,r,s,i;t<e.length;){for(i=a0(e[t]).split("-"),n=i.length,r=a0(e[t+1]),r=r?r.split("-"):null;n>0;){if(s=Zh(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&d$(i,r)>=n-1)break;n--}t++}return uc}function m$(e){return e.match("^[^/\\\\]*$")!=null}function Zh(e){var t=null,n;if(ft[e]===void 0&&typeof module!="undefined"&&module&&module.exports&&m$(e))try{t=uc._abbr,n=require,n("./locale/"+e),ms(t)}catch{ft[e]=null}return ft[e]}function ms(e,t){var n;return e&&(gn(t)?n=Kr(e):n=Hg(e,t),n?uc=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),uc._abbr}function Hg(e,t){if(t!==null){var n,r=fT;if(t.abbr=e,ft[e]!=null)GS("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ft[e]._config;else if(t.parentLocale!=null)if(ft[t.parentLocale]!=null)r=ft[t.parentLocale]._config;else if(n=Zh(t.parentLocale),n!=null)r=n._config;else return ia[t.parentLocale]||(ia[t.parentLocale]=[]),ia[t.parentLocale].push({name:e,config:t}),null;return ft[e]=new Lg(rm(r,t)),ia[e]&&ia[e].forEach(function(s){Hg(s.name,s.config)}),ms(e),ft[e]}else return delete ft[e],null}function g$(e,t){if(t!=null){var n,r,s=fT;ft[e]!=null&&ft[e].parentLocale!=null?ft[e].set(rm(ft[e]._config,t)):(r=Zh(e),r!=null&&(s=r._config),t=rm(s,t),r==null&&(t.abbr=e),n=new Lg(t),n.parentLocale=ft[e],ft[e]=n),ms(e)}else ft[e]!=null&&(ft[e].parentLocale!=null?(ft[e]=ft[e].parentLocale,e===ms()&&ms(e)):ft[e]!=null&&delete ft[e]);return ft[e]}function Kr(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return uc;if(!Kn(e)){if(t=Zh(e),t)return t;e=[e]}return p$(e)}function v$(){return sm(ft)}function Yg(e){var t,n=e._a;return n&&Te(e).overflow===-2&&(t=n[Pr]<0||n[Pr]>11?Pr:n[lr]<1||n[lr]>Jh(n[Jt],n[Pr])?lr:n[kt]<0||n[kt]>24||n[kt]===24&&(n[Wn]!==0||n[Nr]!==0||n[Ws]!==0)?kt:n[Wn]<0||n[Wn]>59?Wn:n[Nr]<0||n[Nr]>59?Nr:n[Ws]<0||n[Ws]>999?Ws:-1,Te(e)._overflowDayOfYear&&(t<Jt||t>lr)&&(t=lr),Te(e)._overflowWeeks&&t===-1&&(t=S3),Te(e)._overflowWeekday&&t===-1&&(t=T3),Te(e).overflow=t),e}var y$=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_$=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,w$=/Z|[+-]\d\d(?::?\d\d)?/,Tl=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],dd=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],b$=/^\/?Date\((-?\d+)/i,E$=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,S$={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function dT(e){var t,n,r=e._i,s=y$.exec(r)||_$.exec(r),i,o,a,c,l=Tl.length,u=dd.length;if(s){for(Te(e).iso=!0,t=0,n=l;t<n;t++)if(Tl[t][1].exec(s[1])){o=Tl[t][0],i=Tl[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(s[3]){for(t=0,n=u;t<n;t++)if(dd[t][1].exec(s[3])){a=(s[2]||" ")+dd[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(s[4])if(w$.exec(s[4]))c="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(c||""),Gg(e)}else e._isValid=!1}function T$(e,t,n,r,s,i){var o=[I$(e),nT.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function I$(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function O$(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function C$(e,t,n){if(e){var r=lT.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(r!==s)return Te(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function k$(e,t,n){if(e)return S$[e];if(t)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function pT(e){var t=E$.exec(O$(e._i)),n;if(t){if(n=T$(t[4],t[3],t[2],t[5],t[6],t[7]),!C$(t[1],n,e))return;e._a=n,e._tzm=k$(t[8],t[9],t[10]),e._d=cc.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Te(e).rfc2822=!0}else e._isValid=!1}function A$(e){var t=b$.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(dT(e),e._isValid===!1)delete e._isValid;else return;if(pT(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:te.createFromInputFallback(e)}te.createFromInputFallback=Mn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Vi(e,t,n){return e!=null?e:t!=null?t:n}function x$(e){var t=new Date(te.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Kg(e){var t,n,r=[],s,i,o;if(!e._d){for(s=x$(e),e._w&&e._a[lr]==null&&e._a[Pr]==null&&R$(e),e._dayOfYear!=null&&(o=Vi(e._a[Jt],s[Jt]),(e._dayOfYear>xa(o)||e._dayOfYear===0)&&(Te(e)._overflowDayOfYear=!0),n=cc(o,0,e._dayOfYear),e._a[Pr]=n.getUTCMonth(),e._a[lr]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[kt]===24&&e._a[Wn]===0&&e._a[Nr]===0&&e._a[Ws]===0&&(e._nextDay=!0,e._a[kt]=0),e._d=(e._useUTC?cc:L3).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[kt]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==i&&(Te(e).weekdayMismatch=!0)}}function R$(e){var t,n,r,s,i,o,a,c,l;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,n=Vi(t.GG,e._a[Jt],lc(ut(),1,4).year),r=Vi(t.W,1),s=Vi(t.E,1),(s<1||s>7)&&(c=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,l=lc(ut(),i,o),n=Vi(t.gg,e._a[Jt],l.year),r=Vi(t.w,l.week),t.d!=null?(s=t.d,(s<0||s>6)&&(c=!0)):t.e!=null?(s=t.e+i,(t.e<0||t.e>6)&&(c=!0)):s=i),r<1||r>Lr(n,i,o)?Te(e)._overflowWeeks=!0:c!=null?Te(e)._overflowWeekday=!0:(a=cT(n,r,s,i,o),e._a[Jt]=a.year,e._dayOfYear=a.dayOfYear)}te.ISO_8601=function(){};te.RFC_2822=function(){};function Gg(e){if(e._f===te.ISO_8601){dT(e);return}if(e._f===te.RFC_2822){pT(e);return}e._a=[],Te(e).empty=!0;var t=""+e._i,n,r,s,i,o,a=t.length,c=0,l,u;for(s=qS(e._f,e._locale).match(Fg)||[],u=s.length,n=0;n<u;n++)i=s[n],r=(t.match(w3(i,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&Te(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),c+=r.length),so[i]?(r?Te(e).empty=!1:Te(e).unusedTokens.push(i),E3(i,r,e)):e._strict&&!r&&Te(e).unusedTokens.push(i);Te(e).charsLeftOver=a-c,t.length>0&&Te(e).unusedInput.push(t),e._a[kt]<=12&&Te(e).bigHour===!0&&e._a[kt]>0&&(Te(e).bigHour=void 0),Te(e).parsedDateParts=e._a.slice(0),Te(e).meridiem=e._meridiem,e._a[kt]=D$(e._locale,e._a[kt],e._meridiem),l=Te(e).era,l!==null&&(e._a[Jt]=e._locale.erasConvertYear(l,e._a[Jt])),Kg(e),Yg(e)}function D$(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function M$(e){var t,n,r,s,i,o,a=!1,c=e._f.length;if(c===0){Te(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<c;s++)i=0,o=!1,t=$g({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],Gg(t),Ng(t)&&(o=!0),i+=Te(t).charsLeftOver,i+=Te(t).unusedTokens.length*10,Te(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||o)&&(r=i,n=t,o&&(a=!0));ls(e,n||t)}function P$(e){if(!e._d){var t=Ug(e._i),n=t.day===void 0?t.date:t.day;e._a=YS([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),Kg(e)}}function N$(e){var t=new jc(Yg(mT(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mT(e){var t=e._i,n=e._f;return e._locale=e._locale||Kr(e._l),t===null||n===void 0&&t===""?Hh({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Gn(t)?new jc(Yg(t)):(Bc(t)?e._d=t:Kn(n)?M$(e):n?Gg(e):$$(e),Ng(e)||(e._d=null),e))}function $$(e){var t=e._i;gn(t)?e._d=new Date(te.now()):Bc(t)?e._d=new Date(t.valueOf()):typeof t=="string"?A$(e):Kn(t)?(e._a=YS(t.slice(0),function(n){return parseInt(n,10)}),Kg(e)):Js(t)?P$(e):Vr(t)?e._d=new Date(t):te.createFromInputFallback(e)}function gT(e,t,n,r,s){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Js(e)&&Pg(e)||Kn(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=e,i._f=t,i._strict=r,N$(i)}function ut(e,t,n,r){return gT(e,t,n,r,!1)}var L$=Mn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ut.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Hh()}),F$=Mn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ut.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Hh()});function vT(e,t){var n,r;if(t.length===1&&Kn(t[0])&&(t=t[0]),!t.length)return ut();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function U$(){var e=[].slice.call(arguments,0);return vT("isBefore",e)}function B$(){var e=[].slice.call(arguments,0);return vT("isAfter",e)}var j$=function(){return Date.now?Date.now():+new Date},oa=["year","quarter","month","week","day","hour","minute","second","millisecond"];function V$(e){var t,n=!1,r,s=oa.length;for(t in e)if(ze(e,t)&&!(wt.call(oa,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<s;++r)if(e[oa[r]]){if(n)return!1;parseFloat(e[oa[r]])!==Re(e[oa[r]])&&(n=!0)}return!0}function W$(){return this._isValid}function z$(){return qn(NaN)}function ef(e){var t=Ug(e),n=t.year||0,r=t.quarter||0,s=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=V$(t),this._milliseconds=+u+l*1e3+c*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=Kr(),this._bubble()}function mu(e){return e instanceof ef}function om(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function H$(e,t,n){var r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&Re(e[o])!==Re(t[o]))&&i++;return i+s}function yT(e,t){fe(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+vr(~~(n/60),2)+t+vr(~~n%60,2)})}yT("Z",":");yT("ZZ","");re("Z",Qh);re("ZZ",Qh);tt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=qg(Qh,e)});var Y$=/([\+\-]|\d\d)/gi;function qg(e,t){var n=(t||"").match(e),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(Y$)||["-",0,0],i=+(s[1]*60)+Re(s[2]),i===0?0:s[0]==="+"?i:-i)}function Xg(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Gn(e)||Bc(e)?e.valueOf():ut(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),te.updateOffset(n,!1),n):ut(e).local()}function am(e){return-Math.round(e._d.getTimezoneOffset())}te.updateOffset=function(){};function K$(e,t,n){var r=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=qg(Qh,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(s=am(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==e&&(!t||this._changeInProgress?bT(this,qn(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,te.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:am(this)}function G$(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function q$(e){return this.utcOffset(0,e)}function X$(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(am(this),"m")),this}function Q$(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=qg(y3,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function J$(e){return this.isValid()?(e=e?ut(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Z$(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function eL(){if(!gn(this._isDSTShifted))return this._isDSTShifted;var e={},t;return $g(e,this),e=mT(e),e._a?(t=e._isUTC?_r(e._a):ut(e._a),this._isDSTShifted=this.isValid()&&H$(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function tL(){return this.isValid()?!this._isUTC:!1}function nL(){return this.isValid()?this._isUTC:!1}function _T(){return this.isValid()?this._isUTC&&this._offset===0:!1}var rL=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,sL=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qn(e,t){var n=e,r=null,s,i,o;return mu(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Vr(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=rL.exec(e))?(s=r[1]==="-"?-1:1,n={y:0,d:Re(r[lr])*s,h:Re(r[kt])*s,m:Re(r[Wn])*s,s:Re(r[Nr])*s,ms:Re(om(r[Ws]*1e3))*s}):(r=sL.exec(e))?(s=r[1]==="-"?-1:1,n={y:Ls(r[2],s),M:Ls(r[3],s),w:Ls(r[4],s),d:Ls(r[5],s),h:Ls(r[6],s),m:Ls(r[7],s),s:Ls(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=iL(ut(n.from),ut(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new ef(n),mu(e)&&ze(e,"_locale")&&(i._locale=e._locale),mu(e)&&ze(e,"_isValid")&&(i._isValid=e._isValid),i}qn.fn=ef.prototype;qn.invalid=z$;function Ls(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function c0(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function iL(e,t){var n;return e.isValid()&&t.isValid()?(t=Xg(t,e),e.isBefore(t)?n=c0(e,t):(n=c0(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function wT(e,t){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(GS(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=qn(n,r),bT(this,s,e),this}}function bT(e,t,n,r){var s=t._milliseconds,i=om(t._days),o=om(t._months);!e.isValid()||(r=r==null?!0:r,o&&sT(e,Xu(e,"Month")+o*n),i&&QS(e,"Date",Xu(e,"Date")+i*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&te.updateOffset(e,i||o))}var oL=wT(1,"add"),aL=wT(-1,"subtract");function ET(e){return typeof e=="string"||e instanceof String}function cL(e){return Gn(e)||Bc(e)||ET(e)||Vr(e)||uL(e)||lL(e)||e===null||e===void 0}function lL(e){var t=Js(e)&&!Pg(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,o=r.length;for(s=0;s<o;s+=1)i=r[s],n=n||ze(e,i);return t&&n}function uL(e){var t=Kn(e),n=!1;return t&&(n=e.filter(function(r){return!Vr(r)&&ET(e)}).length===0),t&&n}function hL(e){var t=Js(e)&&!Pg(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||ze(e,i);return t&&n}function fL(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function dL(e,t){arguments.length===1&&(arguments[0]?cL(arguments[0])?(e=arguments[0],t=void 0):hL(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ut(),r=Xg(n,this).startOf("day"),s=te.calendarFormat(this,r)||"sameElse",i=t&&(wr(t[s])?t[s].call(this,n):t[s]);return this.format(i||this.localeData().calendar(s,this,ut(n)))}function pL(){return new jc(this)}function mL(e,t){var n=Gn(e)?e:ut(e);return this.isValid()&&n.isValid()?(t=Pn(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function gL(e,t){var n=Gn(e)?e:ut(e);return this.isValid()&&n.isValid()?(t=Pn(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function vL(e,t,n,r){var s=Gn(e)?e:ut(e),i=Gn(t)?t:ut(t);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function yL(e,t){var n=Gn(e)?e:ut(e),r;return this.isValid()&&n.isValid()?(t=Pn(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function _L(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function wL(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function bL(e,t,n){var r,s,i;if(!this.isValid())return NaN;if(r=Xg(e,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,t=Pn(t),t){case"year":i=gu(this,r)/12;break;case"month":i=gu(this,r);break;case"quarter":i=gu(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:xn(i)}function gu(e,t){if(e.date()<t.date())return-gu(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),s,i;return t-r<0?(s=e.clone().add(n-1,"months"),i=(t-r)/(r-s)):(s=e.clone().add(n+1,"months"),i=(t-r)/(s-r)),-(n+i)||0}te.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";te.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function EL(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function SL(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?pu(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):wr(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",pu(n,"Z")):pu(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function TL(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,s,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+s+i)}function IL(e){e||(e=this.isUtc()?te.defaultFormatUtc:te.defaultFormat);var t=pu(this,e);return this.localeData().postformat(t)}function OL(e,t){return this.isValid()&&(Gn(e)&&e.isValid()||ut(e).isValid())?qn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function CL(e){return this.from(ut(),e)}function kL(e,t){return this.isValid()&&(Gn(e)&&e.isValid()||ut(e).isValid())?qn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function AL(e){return this.to(ut(),e)}function ST(e){var t;return e===void 0?this._locale._abbr:(t=Kr(e),t!=null&&(this._locale=t),this)}var TT=Mn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function IT(){return this._locale}var Zu=1e3,io=60*Zu,eh=60*io,OT=(365*400+97)*24*eh;function oo(e,t){return(e%t+t)%t}function CT(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-OT:new Date(e,t,n).valueOf()}function kT(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-OT:Date.UTC(e,t,n)}function xL(e){var t,n;if(e=Pn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?kT:CT,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=oo(t+(this._isUTC?0:this.utcOffset()*io),eh);break;case"minute":t=this._d.valueOf(),t-=oo(t,io);break;case"second":t=this._d.valueOf(),t-=oo(t,Zu);break}return this._d.setTime(t),te.updateOffset(this,!0),this}function RL(e){var t,n;if(e=Pn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?kT:CT,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=eh-oo(t+(this._isUTC?0:this.utcOffset()*io),eh)-1;break;case"minute":t=this._d.valueOf(),t+=io-oo(t,io)-1;break;case"second":t=this._d.valueOf(),t+=Zu-oo(t,Zu)-1;break}return this._d.setTime(t),te.updateOffset(this,!0),this}function DL(){return this._d.valueOf()-(this._offset||0)*6e4}function ML(){return Math.floor(this.valueOf()/1e3)}function PL(){return new Date(this.valueOf())}function NL(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function $L(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function LL(){return this.isValid()?this.toISOString():null}function FL(){return Ng(this)}function UL(){return ls({},Te(this))}function BL(){return Te(this).overflow}function jL(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}fe("N",0,0,"eraAbbr");fe("NN",0,0,"eraAbbr");fe("NNN",0,0,"eraAbbr");fe("NNNN",0,0,"eraName");fe("NNNNN",0,0,"eraNarrow");fe("y",["y",1],"yo","eraYear");fe("y",["yy",2],0,"eraYear");fe("y",["yyy",3],0,"eraYear");fe("y",["yyyy",4],0,"eraYear");re("N",Qg);re("NN",Qg);re("NNN",Qg);re("NNNN",JL);re("NNNNN",ZL);tt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var s=n._locale.erasParse(e,r,n._strict);s?Te(n).era=s:Te(n).invalidEra=e});re("y",Lo);re("yy",Lo);re("yyy",Lo);re("yyyy",Lo);re("yo",e4);tt(["y","yy","yyy","yyyy"],Jt);tt(["yo"],function(e,t,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Jt]=n._locale.eraYearOrdinalParse(e,s):t[Jt]=parseInt(e,10)});function VL(e,t){var n,r,s,i=this._eras||Kr("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=te(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=te(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function WL(e,t,n){var r,s,i=this.eras(),o,a,c;for(e=e.toUpperCase(),r=0,s=i.length;r<s;++r)if(o=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(o===e)return i[r];break;case"NNNNN":if(c===e)return i[r];break}else if([o,a,c].indexOf(e)>=0)return i[r]}function zL(e,t){var n=e.since<=e.until?1:-1;return t===void 0?te(e.since).year():te(e.since).year()+(t-e.offset)*n}function HL(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function YL(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function KL(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function GL(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-te(s[e].since).year())*n+s[e].offset;return this.year()}function qL(e){return ze(this,"_erasNameRegex")||Jg.call(this),e?this._erasNameRegex:this._erasRegex}function XL(e){return ze(this,"_erasAbbrRegex")||Jg.call(this),e?this._erasAbbrRegex:this._erasRegex}function QL(e){return ze(this,"_erasNarrowRegex")||Jg.call(this),e?this._erasNarrowRegex:this._erasRegex}function Qg(e,t){return t.erasAbbrRegex(e)}function JL(e,t){return t.erasNameRegex(e)}function ZL(e,t){return t.erasNarrowRegex(e)}function e4(e,t){return t._eraYearOrdinalRegex||Lo}function Jg(){var e=[],t=[],n=[],r=[],s,i,o=this.eras();for(s=0,i=o.length;s<i;++s)t.push(bn(o[s].name)),e.push(bn(o[s].abbr)),n.push(bn(o[s].narrow)),r.push(bn(o[s].name)),r.push(bn(o[s].abbr)),r.push(bn(o[s].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}fe(0,["gg",2],0,function(){return this.weekYear()%100});fe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function tf(e,t){fe(0,[e,e.length],0,t)}tf("gggg","weekYear");tf("ggggg","weekYear");tf("GGGG","isoWeekYear");tf("GGGGG","isoWeekYear");en("weekYear","gg");en("isoWeekYear","GG");tn("weekYear",1);tn("isoWeekYear",1);re("G",Xh);re("g",Xh);re("GG",ht,Cn);re("gg",ht,Cn);re("GGGG",jg,Bg);re("gggg",jg,Bg);re("GGGGG",qh,Kh);re("ggggg",qh,Kh);Wc(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Re(e)});Wc(["gg","GG"],function(e,t,n,r){t[r]=te.parseTwoDigitYear(e)});function t4(e){return AT.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function n4(e){return AT.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function r4(){return Lr(this.year(),1,4)}function s4(){return Lr(this.isoWeekYear(),1,4)}function i4(){var e=this.localeData()._week;return Lr(this.year(),e.dow,e.doy)}function o4(){var e=this.localeData()._week;return Lr(this.weekYear(),e.dow,e.doy)}function AT(e,t,n,r,s){var i;return e==null?lc(this,r,s).year:(i=Lr(e,r,s),t>i&&(t=i),a4.call(this,e,t,n,r,s))}function a4(e,t,n,r,s){var i=cT(e,t,n,r,s),o=cc(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}fe("Q",0,"Qo","quarter");en("quarter","Q");tn("quarter",7);re("Q",JS);tt("Q",function(e,t){t[Pr]=(Re(e)-1)*3});function c4(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}fe("D",["DD",2],"Do","date");en("date","D");tn("date",9);re("D",ht);re("DD",ht,Cn);re("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});tt(["D","DD"],lr);tt("Do",function(e,t){t[lr]=Re(e.match(ht)[0])});var xT=$o("Date",!0);fe("DDD",["DDDD",3],"DDDo","dayOfYear");en("dayOfYear","DDD");tn("dayOfYear",4);re("DDD",Gh);re("DDDD",ZS);tt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Re(e)});function l4(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}fe("m",["mm",2],0,"minute");en("minute","m");tn("minute",14);re("m",ht);re("mm",ht,Cn);tt(["m","mm"],Wn);var u4=$o("Minutes",!1);fe("s",["ss",2],0,"second");en("second","s");tn("second",15);re("s",ht);re("ss",ht,Cn);tt(["s","ss"],Nr);var h4=$o("Seconds",!1);fe("S",0,0,function(){return~~(this.millisecond()/100)});fe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});fe(0,["SSS",3],0,"millisecond");fe(0,["SSSS",4],0,function(){return this.millisecond()*10});fe(0,["SSSSS",5],0,function(){return this.millisecond()*100});fe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});fe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});fe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});fe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});en("millisecond","ms");tn("millisecond",16);re("S",Gh,JS);re("SS",Gh,Cn);re("SSS",Gh,ZS);var us,RT;for(us="SSSS";us.length<=9;us+="S")re(us,Lo);function f4(e,t){t[Ws]=Re(("0."+e)*1e3)}for(us="S";us.length<=9;us+="S")tt(us,f4);RT=$o("Milliseconds",!1);fe("z",0,0,"zoneAbbr");fe("zz",0,0,"zoneName");function d4(){return this._isUTC?"UTC":""}function p4(){return this._isUTC?"Coordinated Universal Time":""}var z=jc.prototype;z.add=oL;z.calendar=dL;z.clone=pL;z.diff=bL;z.endOf=RL;z.format=IL;z.from=OL;z.fromNow=CL;z.to=kL;z.toNow=AL;z.get=g3;z.invalidAt=BL;z.isAfter=mL;z.isBefore=gL;z.isBetween=vL;z.isSame=yL;z.isSameOrAfter=_L;z.isSameOrBefore=wL;z.isValid=FL;z.lang=TT;z.locale=ST;z.localeData=IT;z.max=F$;z.min=L$;z.parsingFlags=UL;z.set=v3;z.startOf=xL;z.subtract=aL;z.toArray=NL;z.toObject=$L;z.toDate=PL;z.toISOString=SL;z.inspect=TL;typeof Symbol!="undefined"&&Symbol.for!=null&&(z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});z.toJSON=LL;z.toString=EL;z.unix=ML;z.valueOf=DL;z.creationData=jL;z.eraName=HL;z.eraNarrow=YL;z.eraAbbr=KL;z.eraYear=GL;z.year=aT;z.isLeapYear=$3;z.weekYear=t4;z.isoWeekYear=n4;z.quarter=z.quarters=c4;z.month=iT;z.daysInMonth=M3;z.week=z.weeks=V3;z.isoWeek=z.isoWeeks=W3;z.weeksInYear=i4;z.weeksInWeekYear=o4;z.isoWeeksInYear=r4;z.isoWeeksInISOWeekYear=s4;z.date=xT;z.day=z.days=n$;z.weekday=r$;z.isoWeekday=s$;z.dayOfYear=l4;z.hour=z.hours=h$;z.minute=z.minutes=u4;z.second=z.seconds=h4;z.millisecond=z.milliseconds=RT;z.utcOffset=K$;z.utc=q$;z.local=X$;z.parseZone=Q$;z.hasAlignedHourOffset=J$;z.isDST=Z$;z.isLocal=tL;z.isUtcOffset=nL;z.isUtc=_T;z.isUTC=_T;z.zoneAbbr=d4;z.zoneName=p4;z.dates=Mn("dates accessor is deprecated. Use date instead.",xT);z.months=Mn("months accessor is deprecated. Use month instead",iT);z.years=Mn("years accessor is deprecated. Use year instead",aT);z.zone=Mn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",G$);z.isDSTShifted=Mn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",eL);function m4(e){return ut(e*1e3)}function g4(){return ut.apply(null,arguments).parseZone()}function DT(e){return e}var He=Lg.prototype;He.calendar=n3;He.longDateFormat=o3;He.invalidDate=c3;He.ordinal=h3;He.preparse=DT;He.postformat=DT;He.relativeTime=d3;He.pastFuture=p3;He.set=e3;He.eras=VL;He.erasParse=WL;He.erasConvertYear=zL;He.erasAbbrRegex=XL;He.erasNameRegex=qL;He.erasNarrowRegex=QL;He.months=A3;He.monthsShort=x3;He.monthsParse=D3;He.monthsRegex=N3;He.monthsShortRegex=P3;He.week=F3;He.firstDayOfYear=j3;He.firstDayOfWeek=B3;He.weekdays=Q3;He.weekdaysMin=Z3;He.weekdaysShort=J3;He.weekdaysParse=t$;He.weekdaysRegex=i$;He.weekdaysShortRegex=o$;He.weekdaysMinRegex=a$;He.isPM=l$;He.meridiem=f$;function th(e,t,n,r){var s=Kr(),i=_r().set(r,t);return s[n](i,e)}function MT(e,t,n){if(Vr(e)&&(t=e,e=void 0),e=e||"",t!=null)return th(e,t,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=th(e,r,n,"month");return s}function Zg(e,t,n,r){typeof e=="boolean"?(Vr(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Vr(t)&&(n=t,t=void 0),t=t||"");var s=Kr(),i=e?s._week.dow:0,o,a=[];if(n!=null)return th(t,(n+i)%7,r,"day");for(o=0;o<7;o++)a[o]=th(t,(o+i)%7,r,"day");return a}function v4(e,t){return MT(e,t,"months")}function y4(e,t){return MT(e,t,"monthsShort")}function _4(e,t,n){return Zg(e,t,n,"weekdays")}function w4(e,t,n){return Zg(e,t,n,"weekdaysShort")}function b4(e,t,n){return Zg(e,t,n,"weekdaysMin")}ms("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Re(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});te.lang=Mn("moment.lang is deprecated. Use moment.locale instead.",ms);te.langData=Mn("moment.langData is deprecated. Use moment.localeData instead.",Kr);var Tr=Math.abs;function E4(){var e=this._data;return this._milliseconds=Tr(this._milliseconds),this._days=Tr(this._days),this._months=Tr(this._months),e.milliseconds=Tr(e.milliseconds),e.seconds=Tr(e.seconds),e.minutes=Tr(e.minutes),e.hours=Tr(e.hours),e.months=Tr(e.months),e.years=Tr(e.years),this}function PT(e,t,n,r){var s=qn(t,n);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function S4(e,t){return PT(this,e,t,1)}function T4(e,t){return PT(this,e,t,-1)}function l0(e){return e<0?Math.floor(e):Math.ceil(e)}function I4(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,s,i,o,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=l0(cm(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,s=xn(e/1e3),r.seconds=s%60,i=xn(s/60),r.minutes=i%60,o=xn(i/60),r.hours=o%24,t+=xn(o/24),c=xn(NT(t)),n+=c,t-=l0(cm(c)),a=xn(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function NT(e){return e*4800/146097}function cm(e){return e*146097/4800}function O4(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Pn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+NT(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(cm(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function C4(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Re(this._months/12)*31536e6:NaN}function Gr(e){return function(){return this.as(e)}}var k4=Gr("ms"),A4=Gr("s"),x4=Gr("m"),R4=Gr("h"),D4=Gr("d"),M4=Gr("w"),P4=Gr("M"),N4=Gr("Q"),$4=Gr("y");function L4(){return qn(this)}function F4(e){return e=Pn(e),this.isValid()?this[e+"s"]():NaN}function vi(e){return function(){return this.isValid()?this._data[e]:NaN}}var U4=vi("milliseconds"),B4=vi("seconds"),j4=vi("minutes"),V4=vi("hours"),W4=vi("days"),z4=vi("months"),H4=vi("years");function Y4(){return xn(this.days()/7)}var kr=Math.round,Yi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function K4(e,t,n,r,s){return s.relativeTime(t||1,!!n,e,r)}function G4(e,t,n,r){var s=qn(e).abs(),i=kr(s.as("s")),o=kr(s.as("m")),a=kr(s.as("h")),c=kr(s.as("d")),l=kr(s.as("M")),u=kr(s.as("w")),h=kr(s.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),f=f||l<=1&&["M"]||l<n.M&&["MM",l]||h<=1&&["y"]||["yy",h],f[2]=t,f[3]=+e>0,f[4]=r,K4.apply(null,f)}function q4(e){return e===void 0?kr:typeof e=="function"?(kr=e,!0):!1}function X4(e,t){return Yi[e]===void 0?!1:t===void 0?Yi[e]:(Yi[e]=t,e==="s"&&(Yi.ss=t-1),!0)}function Q4(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Yi,s,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Yi,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),s=this.localeData(),i=G4(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var pd=Math.abs;function Di(e){return(e>0)-(e<0)||+e}function nf(){if(!this.isValid())return this.localeData().invalidDate();var e=pd(this._milliseconds)/1e3,t=pd(this._days),n=pd(this._months),r,s,i,o,a=this.asSeconds(),c,l,u,h;return a?(r=xn(e/60),s=xn(r/60),e%=60,r%=60,i=xn(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",l=Di(this._months)!==Di(a)?"-":"",u=Di(this._days)!==Di(a)?"-":"",h=Di(this._milliseconds)!==Di(a)?"-":"",c+"P"+(i?l+i+"Y":"")+(n?l+n+"M":"")+(t?u+t+"D":"")+(s||r||e?"T":"")+(s?h+s+"H":"")+(r?h+r+"M":"")+(e?h+o+"S":"")):"P0D"}var Ve=ef.prototype;Ve.isValid=W$;Ve.abs=E4;Ve.add=S4;Ve.subtract=T4;Ve.as=O4;Ve.asMilliseconds=k4;Ve.asSeconds=A4;Ve.asMinutes=x4;Ve.asHours=R4;Ve.asDays=D4;Ve.asWeeks=M4;Ve.asMonths=P4;Ve.asQuarters=N4;Ve.asYears=$4;Ve.valueOf=C4;Ve._bubble=I4;Ve.clone=L4;Ve.get=F4;Ve.milliseconds=U4;Ve.seconds=B4;Ve.minutes=j4;Ve.hours=V4;Ve.days=W4;Ve.weeks=Y4;Ve.months=z4;Ve.years=H4;Ve.humanize=Q4;Ve.toISOString=nf;Ve.toString=nf;Ve.toJSON=nf;Ve.locale=ST;Ve.localeData=IT;Ve.toIsoString=Mn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nf);Ve.lang=TT;fe("X",0,0,"unix");fe("x",0,0,"valueOf");re("x",Xh);re("X",_3);tt("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});tt("x",function(e,t,n){n._d=new Date(Re(e))});//! moment.js
te.version="2.29.4";JN(ut);te.fn=z;te.min=U$;te.max=B$;te.now=j$;te.utc=_r;te.unix=m4;te.months=v4;te.isDate=Bc;te.locale=ms;te.invalid=Hh;te.duration=qn;te.isMoment=Gn;te.weekdays=_4;te.parseZone=g4;te.localeData=Kr;te.isDuration=mu;te.monthsShort=y4;te.weekdaysMin=b4;te.defineLocale=Hg;te.updateLocale=g$;te.locales=v$;te.weekdaysShort=w4;te.normalizeUnits=Pn;te.relativeTimeRounding=q4;te.relativeTimeThreshold=X4;te.calendarFormat=fL;te.prototype=z;te.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var $T="store";function LT(e){return e===void 0&&(e=null),Rn(e!==null?e:$T)}function Fo(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function J4(e){return e!==null&&typeof e=="object"}function Z4(e){return e&&typeof e.then=="function"}function e6(e,t){return function(){return e(t)}}function FT(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function UT(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;rf(e,n,[],e._modules.root,!0),ev(e,n,t)}function ev(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,i={};Fo(s,function(o,a){i[a]=e6(o,e),Object.defineProperty(e.getters,a,{get:function(){return i[a]()},enumerable:!0})}),e._state=ks({data:t}),e.strict&&i6(e),r&&n&&e._withCommit(function(){r.data=null})}function rf(e,t,n,r,s){var i=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!i&&!s){var a=tv(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit(function(){a[c]=r.state})}var l=r.context=t6(e,o,n);r.forEachMutation(function(u,h){var f=o+h;n6(e,f,u,l)}),r.forEachAction(function(u,h){var f=u.root?h:o+h,p=u.handler||u;r6(e,f,p,l)}),r.forEachGetter(function(u,h){var f=o+h;s6(e,f,u,l)}),r.forEachChild(function(u,h){rf(e,t,n.concat(h),u,s)})}function t6(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(i,o,a){var c=nh(i,o,a),l=c.payload,u=c.options,h=c.type;return(!u||!u.root)&&(h=t+h),e.dispatch(h,l)},commit:r?e.commit:function(i,o,a){var c=nh(i,o,a),l=c.payload,u=c.options,h=c.type;(!u||!u.root)&&(h=t+h),e.commit(h,l,u)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return BT(e,t)}},state:{get:function(){return tv(e.state,n)}}}),s}function BT(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function n6(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(o){n.call(e,r.state,o)})}function r6(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(o){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return Z4(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(c){throw e._devtoolHook.emit("vuex:error",c),c}):a})}function s6(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function i6(e){Xs(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function tv(e,t){return t.reduce(function(n,r){return n[r]},e)}function nh(e,t,n){return J4(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var o6="vuex bindings",u0="vuex:mutations",md="vuex:actions",Mi="vuex",a6=0;function c6(e,t){vN({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[o6]},function(n){n.addTimelineLayer({id:u0,label:"Vuex Mutations",color:h0}),n.addTimelineLayer({id:md,label:"Vuex Actions",color:h0}),n.addInspector({id:Mi,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Mi)if(r.filter){var s=[];zT(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[WT(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Mi){var s=r.nodeId;BT(t,s),r.state=h6(d6(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Mi){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),t._withCommit(function(){r.set(t._state.data,i,r.state.value)})}}),t.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Mi),n.sendInspectorState(Mi),n.addTimelineEvent({layerId:u0,event:{time:Date.now(),title:r.type,data:i}})}),t.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=a6++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:md,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:md,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var h0=8702998,l6=6710886,u6=16777215,jT={label:"namespaced",textColor:u6,backgroundColor:l6};function VT(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function WT(e,t){return{id:t||"root",label:VT(t),tags:e.namespaced?[jT]:[],children:Object.keys(e._children).map(function(n){return WT(e._children[n],t+n+"/")})}}function zT(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[jT]:[]}),Object.keys(t._children).forEach(function(s){zT(e,t._children[s],n,r+s+"/")})}function h6(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var i=f6(t);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?VT(o):o,editable:!1,value:lm(function(){return i[o]})}})}return s}function f6(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=lm(function(){return e[n]})}else t[n]=lm(function(){return e[n]})}),t}function d6(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+t+'".');return i===n.length-1?o:o._children},t==="root"?e:e.root._children)}function lm(e){try{return e()}catch(t){return t}}var Xn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},HT={namespaced:{configurable:!0}};HT.namespaced.get=function(){return!!this._rawModule.namespaced};Xn.prototype.addChild=function(t,n){this._children[t]=n};Xn.prototype.removeChild=function(t){delete this._children[t]};Xn.prototype.getChild=function(t){return this._children[t]};Xn.prototype.hasChild=function(t){return t in this._children};Xn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Xn.prototype.forEachChild=function(t){Fo(this._children,t)};Xn.prototype.forEachGetter=function(t){this._rawModule.getters&&Fo(this._rawModule.getters,t)};Xn.prototype.forEachAction=function(t){this._rawModule.actions&&Fo(this._rawModule.actions,t)};Xn.prototype.forEachMutation=function(t){this._rawModule.mutations&&Fo(this._rawModule.mutations,t)};Object.defineProperties(Xn.prototype,HT);var yi=function(t){this.register([],t,!1)};yi.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};yi.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};yi.prototype.update=function(t){YT([],this.root,t)};yi.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var i=new Xn(n,r);if(t.length===0)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}n.modules&&Fo(n.modules,function(a,c){s.register(t.concat(c),a,r)})};yi.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);!s||!s.runtime||n.removeChild(r)};yi.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function YT(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;YT(e.concat(r),t.getChild(r),n.modules[r])}}function p6(e){return new _n(e)}var _n=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new yi(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var o=this,a=this,c=a.dispatch,l=a.commit;this.dispatch=function(f,p){return c.call(o,f,p)},this.commit=function(f,p,v){return l.call(o,f,p,v)},this.strict=s;var u=this._modules.root.state;rf(this,u,[],this._modules.root),ev(this,u),r.forEach(function(h){return h(n)})},nv={state:{configurable:!0}};_n.prototype.install=function(t,n){t.provide(n||$T,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&c6(t,this)};nv.state.get=function(){return this._state.data};nv.state.set=function(e){};_n.prototype.commit=function(t,n,r){var s=this,i=nh(t,n,r),o=i.type,a=i.payload,c={type:o,payload:a},l=this._mutations[o];!l||(this._withCommit(function(){l.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(c,s.state)}))};_n.prototype.dispatch=function(t,n){var r=this,s=nh(t,n),i=s.type,o=s.payload,a={type:i,payload:o},c=this._actions[i];if(!!c){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var l=c.length>1?Promise.all(c.map(function(u){return u(o)})):c[0](o);return new Promise(function(u,h){l.then(function(f){try{r._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,r.state)})}catch{}u(f)},function(f){try{r._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,r.state,f)})}catch{}h(f)})})}};_n.prototype.subscribe=function(t,n){return FT(t,this._subscribers,n)};_n.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return FT(r,this._actionSubscribers,n)};_n.prototype.watch=function(t,n,r){var s=this;return Xs(function(){return t(s.state,s.getters)},n,Object.assign({},r))};_n.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};_n.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),rf(this,this.state,t,this._modules.get(t),r.preserveState),ev(this,this.state)};_n.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=tv(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),UT(this)};_n.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};_n.prototype.hotUpdate=function(t){this._modules.update(t),UT(this,!0)};_n.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(_n.prototype,nv);const m6=Sn(()=>LT().state.auth.subscription),g6=Sn(()=>LT().state.auth.user);var Qn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const v6=Uc({name:"ChangeSet",props:{changeSet:{required:!0,type:Object}},computed:{changes(){return this.changeSet.changes},timestamp(){return te(this.changeSet.timestamp).format("dddd, MMMM Do, YYYY")}}}),y6={class:"mb-4"},_6={class:"flex flex-col gap-1 list-disc pl-4"};function w6(e,t,n,r,s,i){return Fe(),ot("div",null,[F("h2",y6,S_(e.timestamp),1),F("ul",_6,[(Fe(!0),ot(on,null,Yu(e.changes,o=>(Fe(),ot("li",{key:o},S_(o),1))),128))])])}var b6=Qn(v6,[["render",w6]]);const E6=Uc({name:"Modal",emits:["close"],computed:{hasFooter(){return!!this.$slots.footer}},methods:{onClose(){this.$emit("close")}}}),S6={class:"flex items-center justify-center fixed inset-0 z-50 bg-gray-100 bg-opacity-50 dark:bg-darkest dark:bg-opacity-50"},T6={class:"w-full max-w-4xl p-4"},I6={class:"bg-gray-100 dark:bg-darkest rounded p-4 shadow"},O6={class:"text-2xl flex items-center justify-between"},C6={class:"px-2"},k6=F("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),A6=[k6],x6=F("hr",{class:"border-gray-200 dark:border-gray-800 mt-4"},null,-1),R6={key:0,class:"border-gray-200 dark:border-gray-800 mb-4"},D6={key:1};function M6(e,t,n,r,s,i){const o=jn("SimpleBar");return Fe(),ot("div",S6,[F("div",T6,[F("div",I6,[F("h1",O6,[F("span",C6,[Oa(e.$slots,"header")]),F("button",{class:"p-2",onClick:t[0]||(t[0]=(...a)=>e.onClose&&e.onClose(...a))},A6)]),x6,et(o,{class:"max-h-96 py-4 px-2"},{default:xr(()=>[Oa(e.$slots,"default")]),_:3}),e.hasFooter?(Fe(),ot("hr",R6)):wn("",!0),e.hasFooter?(Fe(),ot("div",D6,[Oa(e.$slots,"footer")])):wn("",!0)])])])}var P6=Qn(E6,[["render",M6]]);const N6=mi(" What's new? "),$6={class:"flex flex-col gap-8"},L6={class:"flex items-center justify-end gap-2"},F6=F("span",null,"Upgrade",-1),U6=F("span",null,"Sign Up",-1),B6=Uc({name:"ChangeLog",setup(e){const t=Yn([]),n=localStorage.getItem("changelog:v1"),r=Yn(!1),s=()=>{r.value=!1},i=()=>{window.fathom.trackGoal("I4IWFGNK",0),s()};return lS(async()=>{try{const o=(await mt(()=>import("./changelog.20d58c50.js"),[])).default;t.value.push(...o.sort((c,l)=>te(l.timestamp).unix()-te(c.timestamp).unix()));const a=t.value[0].timestamp;(!n||new Date(a)>new Date(n))&&(r.value=!0,localStorage.setItem("changelog:v1",a))}catch(o){console.error(o)}}),(o,a)=>{const c=jn("router-link");return r.value?(Fe(),Mr(P6,{key:0,onClose:s},{header:xr(()=>[N6]),footer:xr(()=>[F("div",L6,[F("button",{class:"button-flat button-size-medium",onClick:s},"Dismiss"),qs(m6).pro?qs(g6)?wn("",!0):(Fe(),Mr(c,{key:1,onClick:i,to:{name:"account"},class:"text-blue-400 button-flat button-color-surface button-size-medium"},{default:xr(()=>[U6]),_:1})):(Fe(),Mr(c,{key:0,onClick:i,to:{name:"account"},class:"text-blue-400 button-flat button-color-surface button-size-medium"},{default:xr(()=>[F6]),_:1}))])]),default:xr(()=>[F("div",$6,[(Fe(!0),ot(on,null,Yu(t.value,l=>(Fe(),Mr(b6,{changeSet:l,key:l.timestamp},null,8,["changeSet"]))),128))])]),_:1})):wn("",!0)}}});const j6={name:"App",components:{ChangeLog:B6},inject:["mq"],watch:{theme(e){this.updateTheme()}},computed:{home(){return this.$route.name==="home"},ligatures(){return this.$store.state.settings.editor.ligatures},publicDoc(){return this.$route.name==="public_doc"},showStripeModal(){return this.$store.state.showStripeModal},sizes(){return this.mq.current==="xs"?["xs xs-plus"]:this.mq.current==="sm"?["sm xs-plus sm-plus"]:this.mq.current==="md"?["md xs-plus sm-plus md-plus"]:this.mq.current==="lg"?["lg xs-plus sm-plus md-plus lg-plus"]:this.mq.current==="xl"?["xl xs-plus sm-plus md-plus lg-plus xl-plus"]:[]},theme(){return this.$store.state.settings.theme}},methods:{closeChangelog(){this.showChangelog=!1},updateTheme(){switch(document.documentElement.classList.remove("auto","dark","light","october"),this.theme){case"dark":document.documentElement.classList.add("dark");break;case"light":document.documentElement.classList.add("light");break;case"october":document.documentElement.classList.add("dark","october");break;case"auto":const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.classList.add("auto",t);break;default:document.documentElement.classList.add("dark");break}}},created(){this.updateTheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{this.updateTheme()})}},V6={key:0,class:"flex items-center justify-center fixed top-0 left-0 h-full w-full z-50 bg-darkest"},W6=F("div",{class:"flex flex-col items-center justify-center gap-8 text-center text-2xl"},[F("svg",{class:"animate-spin mr-3 h-10 w-10 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[F("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),F("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),F("span",null,"Redirecting you to Stripe for checkout")],-1),z6=[W6];function H6(e,t,n,r,s,i){const o=jn("ChangeLog"),a=jn("router-view");return Fe(),ot("div",{id:"app",class:Rh(["h-screen",i.sizes.concat([!i.ligatures&&"ligatures-none"])])},[i.showStripeModal?(Fe(),ot("div",V6,z6)):wn("",!0),!i.home&&!i.publicDoc?(Fe(),Mr(o,{key:1})):wn("",!0),et(a,{inheritAttrs:!0,class:"flex-grow flex-shrink min-h-0"})],2)}var Y6=Qn(j6,[["render",H6]]);const K6={name:"Extendable",props:{scope:String},computed:{appendable(){return this.$packageManager.getComponents(this.scope,"append")},prependable(){return this.$packageManager.getComponents(this.scope,"prepend")}},created(){[...this.appendable,...this.prependable].forEach(e=>{this.$options.components[e.name]=e})}};function G6(e,t,n,r,s,i){return Fe(),ot("div",null,[(Fe(!0),ot(on,null,Yu(i.prependable,o=>(Fe(),Mr(N_(o.name),{key:o.name}))),128)),Oa(e.$slots,"default"),(Fe(!0),ot(on,null,Yu(i.appendable,o=>(Fe(),Mr(N_(o.name),{key:o.name}))),128))])}var q6=Qn(K6,[["render",G6]]);var $t=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function bne(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}function Il(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ol=function(e){return e&&e.Math==Math&&e},ke=Ol(typeof globalThis=="object"&&globalThis)||Ol(typeof window=="object"&&window)||Ol(typeof self=="object"&&self)||Ol(typeof $t=="object"&&$t)||function(){return this}()||Function("return this")(),sf={exports:{}},f0=ke,X6=Object.defineProperty,rv=function(e,t){try{X6(f0,e,{value:t,configurable:!0,writable:!0})}catch{f0[e]=t}return t},Q6=ke,J6=rv,d0="__core-js_shared__",Z6=Q6[d0]||J6(d0,{}),sv=Z6,p0=sv;(sf.exports=function(e,t){return p0[e]||(p0[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.22.6",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.6/LICENSE",source:"https://github.com/zloirock/core-js"});var pt=function(e){try{return!!e()}catch{return!0}},e5=pt,of=!e5(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),KT=of,GT=Function.prototype,t5=GT.bind,um=GT.call,n5=KT&&t5.bind(um,um),ct=KT?function(e){return e&&n5(e)}:function(e){return e&&function(){return um.apply(e,arguments)}},r5=ke,s5=r5.TypeError,Uo=function(e){if(e==null)throw s5("Can't call method on "+e);return e},i5=ke,o5=Uo,a5=i5.Object,Bo=function(e){return a5(o5(e))},c5=ct,l5=Bo,u5=c5({}.hasOwnProperty),Jn=Object.hasOwn||function(t,n){return u5(l5(t),n)},h5=ct,f5=0,d5=Math.random(),p5=h5(1 .toString),iv=function(e){return"Symbol("+(e===void 0?"":e)+")_"+p5(++f5+d5,36)},Ct=function(e){return typeof e=="function"},gd=ke,m5=Ct,g5=function(e){return m5(e)?e:void 0},zc=function(e,t){return arguments.length<2?g5(gd[e]):gd[e]&&gd[e][t]},v5=zc,y5=v5("navigator","userAgent")||"",qT=ke,vd=y5,m0=qT.process,g0=qT.Deno,v0=m0&&m0.versions||g0&&g0.version,y0=v0&&v0.v8,Un,rh;y0&&(Un=y0.split("."),rh=Un[0]>0&&Un[0]<4?1:+(Un[0]+Un[1]));!rh&&vd&&(Un=vd.match(/Edge\/(\d+)/),(!Un||Un[1]>=74)&&(Un=vd.match(/Chrome\/(\d+)/),Un&&(rh=+Un[1])));var ov=rh,_0=ov,_5=pt,XT=!!Object.getOwnPropertySymbols&&!_5(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&_0&&_0<41}),w5=XT,QT=w5&&!Symbol.sham&&typeof Symbol.iterator=="symbol",b5=ke,E5=sf.exports,w0=Jn,S5=iv,b0=XT,JT=QT,Pi=E5("wks"),Zs=b5.Symbol,E0=Zs&&Zs.for,T5=JT?Zs:Zs&&Zs.withoutSetter||S5,fn=function(e){if(!w0(Pi,e)||!(b0||typeof Pi[e]=="string")){var t="Symbol."+e;b0&&w0(Zs,e)?Pi[e]=Zs[e]:JT&&E0?Pi[e]=E0(t):Pi[e]=T5(t)}return Pi[e]},I5=fn,O5=I5("toStringTag"),ZT={};ZT[O5]="z";var av=String(ZT)==="[object z]",C5=pt,Zn=!C5(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),br={},k5=Ct,Nn=function(e){return typeof e=="object"?e!==null:k5(e)},A5=ke,S0=Nn,hm=A5.document,x5=S0(hm)&&S0(hm.createElement),cv=function(e){return x5?hm.createElement(e):{}},R5=Zn,D5=pt,M5=cv,eI=!R5&&!D5(function(){return Object.defineProperty(M5("div"),"a",{get:function(){return 7}}).a!=7}),P5=Zn,N5=pt,tI=P5&&N5(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),nI=ke,$5=Nn,L5=nI.String,F5=nI.TypeError,kn=function(e){if($5(e))return e;throw F5(L5(e)+" is not an object")},U5=of,Cl=Function.prototype.call,$n=U5?Cl.bind(Cl):function(){return Cl.apply(Cl,arguments)},B5=ct,lv=B5({}.isPrototypeOf),j5=ke,V5=zc,W5=Ct,z5=lv,H5=QT,Y5=j5.Object,rI=H5?function(e){return typeof e=="symbol"}:function(e){var t=V5("Symbol");return W5(t)&&z5(t.prototype,Y5(e))},K5=ke,G5=K5.String,uv=function(e){try{return G5(e)}catch{return"Object"}},q5=ke,X5=Ct,Q5=uv,J5=q5.TypeError,af=function(e){if(X5(e))return e;throw J5(Q5(e)+" is not a function")},Z5=af,Hc=function(e,t){var n=e[t];return n==null?void 0:Z5(n)},e7=ke,yd=$n,_d=Ct,wd=Nn,t7=e7.TypeError,n7=function(e,t){var n,r;if(t==="string"&&_d(n=e.toString)&&!wd(r=yd(n,e))||_d(n=e.valueOf)&&!wd(r=yd(n,e))||t!=="string"&&_d(n=e.toString)&&!wd(r=yd(n,e)))return r;throw t7("Can't convert object to primitive value")},r7=ke,s7=$n,T0=Nn,I0=rI,i7=Hc,o7=n7,a7=fn,c7=r7.TypeError,l7=a7("toPrimitive"),u7=function(e,t){if(!T0(e)||I0(e))return e;var n=i7(e,l7),r;if(n){if(t===void 0&&(t="default"),r=s7(n,e,t),!T0(r)||I0(r))return r;throw c7("Can't convert object to primitive value")}return t===void 0&&(t="number"),o7(e,t)},h7=u7,f7=rI,hv=function(e){var t=h7(e,"string");return f7(t)?t:t+""},d7=ke,p7=Zn,m7=eI,g7=tI,kl=kn,O0=hv,v7=d7.TypeError,bd=Object.defineProperty,y7=Object.getOwnPropertyDescriptor,Ed="enumerable",Sd="configurable",Td="writable";br.f=p7?g7?function(t,n,r){if(kl(t),n=O0(n),kl(r),typeof t=="function"&&n==="prototype"&&"value"in r&&Td in r&&!r[Td]){var s=y7(t,n);s&&s[Td]&&(t[n]=r.value,r={configurable:Sd in r?r[Sd]:s[Sd],enumerable:Ed in r?r[Ed]:s[Ed],writable:!1})}return bd(t,n,r)}:bd:function(t,n,r){if(kl(t),n=O0(n),kl(r),m7)try{return bd(t,n,r)}catch{}if("get"in r||"set"in r)throw v7("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var cf=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},_7=Zn,w7=br,b7=cf,_i=_7?function(e,t,n){return w7.f(e,t,b7(1,n))}:function(e,t,n){return e[t]=n,e},sI={exports:{}},fm=Zn,E7=Jn,iI=Function.prototype,S7=fm&&Object.getOwnPropertyDescriptor,fv=E7(iI,"name"),T7=fv&&function(){}.name==="something",I7=fv&&(!fm||fm&&S7(iI,"name").configurable),dv={EXISTS:fv,PROPER:T7,CONFIGURABLE:I7},O7=ct,C7=Ct,dm=sv,k7=O7(Function.toString);C7(dm.inspectSource)||(dm.inspectSource=function(e){return k7(e)});var pv=dm.inspectSource,A7=ke,x7=Ct,R7=pv,C0=A7.WeakMap,oI=x7(C0)&&/native code/.test(R7(C0)),D7=sf.exports,M7=iv,k0=D7("keys"),mv=function(e){return k0[e]||(k0[e]=M7(e))},lf={},P7=oI,aI=ke,Id=ct,N7=Nn,$7=_i,Od=Jn,Cd=sv,L7=mv,F7=lf,A0="Object already initialized",pm=aI.TypeError,U7=aI.WeakMap,sh,hc,ih,B7=function(e){return ih(e)?hc(e):sh(e,{})},j7=function(e){return function(t){var n;if(!N7(t)||(n=hc(t)).type!==e)throw pm("Incompatible receiver, "+e+" required");return n}};if(P7||Cd.state){var Fs=Cd.state||(Cd.state=new U7),V7=Id(Fs.get),x0=Id(Fs.has),W7=Id(Fs.set);sh=function(e,t){if(x0(Fs,e))throw new pm(A0);return t.facade=e,W7(Fs,e,t),t},hc=function(e){return V7(Fs,e)||{}},ih=function(e){return x0(Fs,e)}}else{var Ni=L7("state");F7[Ni]=!0,sh=function(e,t){if(Od(e,Ni))throw new pm(A0);return t.facade=e,$7(e,Ni,t),t},hc=function(e){return Od(e,Ni)?e[Ni]:{}},ih=function(e){return Od(e,Ni)}}var jo={set:sh,get:hc,has:ih,enforce:B7,getterFor:j7},z7=pt,H7=Ct,Al=Jn,cI=Zn,Y7=dv.CONFIGURABLE,K7=pv,lI=jo,G7=lI.enforce,q7=lI.get,vu=Object.defineProperty,X7=cI&&!z7(function(){return vu(function(){},"length",{value:8}).length!==8}),Q7=String(String).split("String"),J7=sI.exports=function(e,t,n){if(String(t).slice(0,7)==="Symbol("&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Al(e,"name")||Y7&&e.name!==t)&&vu(e,"name",{value:t,configurable:!0}),X7&&n&&Al(n,"arity")&&e.length!==n.arity&&vu(e,"length",{value:n.arity}),n&&Al(n,"constructor")&&n.constructor){if(cI)try{vu(e,"prototype",{writable:!1})}catch{}}else e.prototype=void 0;var r=G7(e);return Al(r,"source")||(r.source=Q7.join(typeof t=="string"?t:"")),e};Function.prototype.toString=J7(function(){return H7(this)&&q7(this).source||K7(this)},"toString");var Z7=Ct,eF=_i,tF=sI.exports,nF=rv,wi=function(e,t,n,r){r||(r={});var s=r.enumerable,i=r.name!==void 0?r.name:t;return Z7(n)&&tF(n,i,r),r.global?s?e[t]=n:nF(t,n):(r.unsafe?e[t]&&(s=!0):delete e[t],s?e[t]=n:eF(e,t,n)),e},uI=ct,rF=uI({}.toString),sF=uI("".slice),bi=function(e){return sF(rF(e),8,-1)},iF=ke,oF=av,aF=Ct,yu=bi,cF=fn,lF=cF("toStringTag"),uF=iF.Object,hF=yu(function(){return arguments}())=="Arguments",fF=function(e,t){try{return e[t]}catch{}},uf=oF?yu:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=fF(t=uF(e),lF))=="string"?n:hF?yu(t):(r=yu(t))=="Object"&&aF(t.callee)?"Arguments":r},dF=av,pF=uf,mF=dF?{}.toString:function(){return"[object "+pF(this)+"]"},gF=av,vF=wi,yF=mF;gF||vF(Object.prototype,"toString",yF,{unsafe:!0});var hI={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},_F=cv,kd=_F("span").classList,R0=kd&&kd.constructor&&kd.constructor.prototype,fI=R0===Object.prototype?void 0:R0,D0=ct,wF=af,bF=of,EF=D0(D0.bind),dI=function(e,t){return wF(e),t===void 0?e:bF?EF(e,t):function(){return e.apply(t,arguments)}},SF=ke,TF=ct,IF=pt,OF=bi,Ad=SF.Object,CF=TF("".split),hf=IF(function(){return!Ad("z").propertyIsEnumerable(0)})?function(e){return OF(e)=="String"?CF(e,""):Ad(e)}:Ad,kF=Math.ceil,AF=Math.floor,xF=Math.trunc||function(t){var n=+t;return(n>0?AF:kF)(n)},RF=xF,ff=function(e){var t=+e;return t!==t||t===0?0:RF(t)},DF=ff,MF=Math.min,gv=function(e){return e>0?MF(DF(e),9007199254740991):0},PF=gv,Yc=function(e){return PF(e.length)},NF=bi,$F=Array.isArray||function(t){return NF(t)=="Array"},LF=ct,FF=pt,pI=Ct,UF=uf,BF=zc,jF=pv,mI=function(){},VF=[],gI=BF("Reflect","construct"),vv=/^\s*(?:class|function)\b/,WF=LF(vv.exec),zF=!vv.exec(mI),aa=function(t){if(!pI(t))return!1;try{return gI(mI,VF,t),!0}catch{return!1}},vI=function(t){if(!pI(t))return!1;switch(UF(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return zF||!!WF(vv,jF(t))}catch{return!0}};vI.sham=!0;var HF=!gI||FF(function(){var e;return aa(aa.call)||!aa(Object)||!aa(function(){e=!0})||e})?vI:aa,YF=ke,M0=$F,KF=HF,GF=Nn,qF=fn,XF=qF("species"),P0=YF.Array,QF=function(e){var t;return M0(e)&&(t=e.constructor,KF(t)&&(t===P0||M0(t.prototype))?t=void 0:GF(t)&&(t=t[XF],t===null&&(t=void 0))),t===void 0?P0:t},JF=QF,ZF=function(e,t){return new(JF(e))(t===0?0:t)},eU=dI,tU=ct,nU=hf,rU=Bo,sU=Yc,iU=ZF,N0=tU([].push),Jr=function(e){var t=e==1,n=e==2,r=e==3,s=e==4,i=e==6,o=e==7,a=e==5||i;return function(c,l,u,h){for(var f=rU(c),p=nU(f),v=eU(l,u),k=sU(p),E=0,O=h||iU,R=t?O(c,k):n||o?O(c,0):void 0,H,V;k>E;E++)if((a||E in p)&&(H=p[E],V=v(H,E,f),e))if(t)R[E]=V;else if(V)switch(e){case 3:return!0;case 5:return H;case 6:return E;case 2:N0(R,H)}else switch(e){case 4:return!1;case 7:N0(R,H)}return i?-1:r||s?s:R}},yv={forEach:Jr(0),map:Jr(1),filter:Jr(2),some:Jr(3),every:Jr(4),find:Jr(5),findIndex:Jr(6),filterReject:Jr(7)},oU=pt,yI=function(e,t){var n=[][e];return!!n&&oU(function(){n.call(null,t||function(){return 1},1)})},aU=yv.forEach,cU=yI,lU=cU("forEach"),uU=lU?[].forEach:function(t){return aU(this,t,arguments.length>1?arguments[1]:void 0)},$0=ke,L0=hI,hU=fI,xd=uU,fU=_i,_I=function(e){if(e&&e.forEach!==xd)try{fU(e,"forEach",xd)}catch{e.forEach=xd}};for(var Rd in L0)L0[Rd]&&_I($0[Rd]&&$0[Rd].prototype);_I(hU);var dU=!!(typeof window!="undefined"&&window.document&&window.document.createElement),_v=dU,wv={},bv={},wI={}.propertyIsEnumerable,bI=Object.getOwnPropertyDescriptor,pU=bI&&!wI.call({1:2},1);bv.f=pU?function(t){var n=bI(this,t);return!!n&&n.enumerable}:wI;var mU=hf,gU=Uo,Vo=function(e){return mU(gU(e))},vU=Zn,yU=$n,_U=bv,wU=cf,bU=Vo,EU=hv,SU=Jn,TU=eI,F0=Object.getOwnPropertyDescriptor;wv.f=vU?F0:function(t,n){if(t=bU(t),n=EU(n),TU)try{return F0(t,n)}catch{}if(SU(t,n))return wU(!yU(_U.f,t,n),t[n])};var df={},IU=ff,OU=Math.max,CU=Math.min,EI=function(e,t){var n=IU(e);return n<0?OU(n+t,0):CU(n,t)},kU=Vo,AU=EI,xU=Yc,U0=function(e){return function(t,n,r){var s=kU(t),i=xU(s),o=AU(r,i),a;if(e&&n!=n){for(;i>o;)if(a=s[o++],a!=a)return!0}else for(;i>o;o++)if((e||o in s)&&s[o]===n)return e||o||0;return!e&&-1}},RU={includes:U0(!0),indexOf:U0(!1)},DU=ct,Dd=Jn,MU=Vo,PU=RU.indexOf,NU=lf,B0=DU([].push),SI=function(e,t){var n=MU(e),r=0,s=[],i;for(i in n)!Dd(NU,i)&&Dd(n,i)&&B0(s,i);for(;t.length>r;)Dd(n,i=t[r++])&&(~PU(s,i)||B0(s,i));return s},Ev=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$U=SI,LU=Ev,FU=LU.concat("length","prototype");df.f=Object.getOwnPropertyNames||function(t){return $U(t,FU)};var Sv={};Sv.f=Object.getOwnPropertySymbols;var UU=zc,BU=ct,jU=df,VU=Sv,WU=kn,zU=BU([].concat),HU=UU("Reflect","ownKeys")||function(t){var n=jU.f(WU(t)),r=VU.f;return r?zU(n,r(t)):n},j0=Jn,YU=HU,KU=wv,GU=br,qU=function(e,t,n){for(var r=YU(t),s=GU.f,i=KU.f,o=0;o<r.length;o++){var a=r[o];!j0(e,a)&&!(n&&j0(n,a))&&s(e,a,i(t,a))}},XU=pt,QU=Ct,JU=/#|\.prototype\./,Kc=function(e,t){var n=e8[ZU(e)];return n==n8?!0:n==t8?!1:QU(t)?XU(t):!!t},ZU=Kc.normalize=function(e){return String(e).replace(JU,".").toLowerCase()},e8=Kc.data={},t8=Kc.NATIVE="N",n8=Kc.POLYFILL="P",TI=Kc,Md=ke,r8=wv.f,s8=_i,i8=wi,o8=rv,a8=qU,c8=TI,xs=function(e,t){var n=e.target,r=e.global,s=e.stat,i,o,a,c,l,u;if(r?o=Md:s?o=Md[n]||o8(n,{}):o=(Md[n]||{}).prototype,o)for(a in t){if(l=t[a],e.dontCallGetSet?(u=r8(o,a),c=u&&u.value):c=o[a],i=c8(r?a:n+(s?".":"#")+a,e.forced),!i&&c!==void 0){if(typeof l==typeof c)continue;a8(l,c)}(e.sham||c&&c.sham)&&s8(l,"sham",!0),i8(o,a,l,e)}},l8=ke,u8=uf,h8=l8.String,Ei=function(e){if(u8(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return h8(e)},II=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,f8=ct,d8=Uo,p8=Ei,m8=II,V0=f8("".replace),oh="["+m8+"]",g8=RegExp("^"+oh+oh+"*"),v8=RegExp(oh+oh+"*$"),Pd=function(e){return function(t){var n=p8(d8(t));return e&1&&(n=V0(n,g8,"")),e&2&&(n=V0(n,v8,"")),n}},y8={start:Pd(1),end:Pd(2),trim:Pd(3)},OI=ke,_8=pt,w8=ct,b8=Ei,E8=y8.trim,W0=II,Ra=OI.parseInt,z0=OI.Symbol,H0=z0&&z0.iterator,CI=/^[+-]?0x/i,S8=w8(CI.exec),T8=Ra(W0+"08")!==8||Ra(W0+"0x16")!==22||H0&&!_8(function(){Ra(Object(H0))}),I8=T8?function(t,n){var r=E8(b8(t));return Ra(r,n>>>0||(S8(CI,r)?16:10))}:Ra,O8=xs,Y0=I8;O8({global:!0,forced:parseInt!=Y0},{parseInt:Y0});var C8=SI,k8=Ev,kI=Object.keys||function(t){return C8(t,k8)},K0=Zn,A8=ct,x8=$n,R8=pt,Nd=kI,D8=Sv,M8=bv,P8=Bo,N8=hf,$i=Object.assign,G0=Object.defineProperty,$8=A8([].concat),L8=!$i||R8(function(){if(K0&&$i({b:1},$i(G0({},"a",{enumerable:!0,get:function(){G0(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(s){t[s]=s}),$i({},e)[n]!=7||Nd($i({},t)).join("")!=r})?function(t,n){for(var r=P8(t),s=arguments.length,i=1,o=D8.f,a=M8.f;s>i;)for(var c=N8(arguments[i++]),l=o?$8(Nd(c),o(c)):Nd(c),u=l.length,h=0,f;u>h;)f=l[h++],(!K0||x8(a,c,f))&&(r[f]=c[f]);return r}:$i,F8=xs,q0=L8;F8({target:"Object",stat:!0,arity:2,forced:Object.assign!==q0},{assign:q0});var U8=pt,B8=fn,j8=ov,V8=B8("species"),W8=function(e){return j8>=51||!U8(function(){var t=[],n=t.constructor={};return n[V8]=function(){return{foo:1}},t[e](Boolean).foo!==1})},z8=xs,H8=yv.filter,Y8=W8,K8=Y8("filter");z8({target:"Array",proto:!0,forced:!K8},{filter:function(t){return H8(this,t,arguments.length>1?arguments[1]:void 0)}});var AI={},G8=Zn,q8=tI,X8=br,Q8=kn,J8=Vo,Z8=kI;AI.f=G8&&!q8?Object.defineProperties:function(t,n){Q8(t);for(var r=J8(n),s=Z8(n),i=s.length,o=0,a;i>o;)X8.f(t,a=s[o++],r[a]);return t};var e9=zc,t9=e9("document","documentElement"),n9=kn,r9=AI,X0=Ev,s9=lf,i9=t9,o9=cv,a9=mv,Q0=">",J0="<",mm="prototype",gm="script",xI=a9("IE_PROTO"),$d=function(){},RI=function(e){return J0+gm+Q0+e+J0+"/"+gm+Q0},Z0=function(e){e.write(RI("")),e.close();var t=e.parentWindow.Object;return e=null,t},c9=function(){var e=o9("iframe"),t="java"+gm+":",n;return e.style.display="none",i9.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(RI("document.F=Object")),n.close(),n.F},xl,_u=function(){try{xl=new ActiveXObject("htmlfile")}catch{}_u=typeof document!="undefined"?document.domain&&xl?Z0(xl):c9():Z0(xl);for(var e=X0.length;e--;)delete _u[mm][X0[e]];return _u()};s9[xI]=!0;var Tv=Object.create||function(t,n){var r;return t!==null?($d[mm]=n9(t),r=new $d,$d[mm]=null,r[xI]=t):r=_u(),n===void 0?r:r9.f(r,n)},l9=fn,u9=Tv,h9=br.f,vm=l9("unscopables"),ym=Array.prototype;ym[vm]==null&&h9(ym,vm,{configurable:!0,value:u9(null)});var f9=function(e){ym[vm][e]=!0},Gc={},d9=pt,p9=!d9(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),m9=ke,g9=Jn,v9=Ct,y9=Bo,_9=mv,w9=p9,ew=_9("IE_PROTO"),_m=m9.Object,b9=_m.prototype,DI=w9?_m.getPrototypeOf:function(e){var t=y9(e);if(g9(t,ew))return t[ew];var n=t.constructor;return v9(n)&&t instanceof n?n.prototype:t instanceof _m?b9:null},E9=pt,S9=Ct,tw=DI,T9=wi,I9=fn,wm=I9("iterator"),MI=!1,ai,Ld,Fd;[].keys&&(Fd=[].keys(),"next"in Fd?(Ld=tw(tw(Fd)),Ld!==Object.prototype&&(ai=Ld)):MI=!0);var O9=ai==null||E9(function(){var e={};return ai[wm].call(e)!==e});O9&&(ai={});S9(ai[wm])||T9(ai,wm,function(){return this});var PI={IteratorPrototype:ai,BUGGY_SAFARI_ITERATORS:MI},C9=br.f,k9=Jn,A9=fn,nw=A9("toStringTag"),Iv=function(e,t,n){e&&!n&&(e=e.prototype),e&&!k9(e,nw)&&C9(e,nw,{configurable:!0,value:t})},x9=PI.IteratorPrototype,R9=Tv,D9=cf,M9=Iv,P9=Gc,N9=function(){return this},$9=function(e,t,n,r){var s=t+" Iterator";return e.prototype=R9(x9,{next:D9(+!r,n)}),M9(e,s,!1),P9[s]=N9,e},NI=ke,L9=Ct,F9=NI.String,U9=NI.TypeError,B9=function(e){if(typeof e=="object"||L9(e))return e;throw U9("Can't set "+F9(e)+" as a prototype")},j9=ct,V9=kn,W9=B9,$I=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=j9(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),n(t,[]),e=t instanceof Array}catch{}return function(s,i){return V9(s),W9(i),e?n(s,i):s.__proto__=i,s}}():void 0),z9=xs,H9=$n,LI=dv,Y9=Ct,K9=$9,rw=DI,sw=$I,G9=Iv,q9=_i,Ud=wi,X9=fn,Q9=Gc,FI=PI,J9=LI.PROPER,Z9=LI.CONFIGURABLE,iw=FI.IteratorPrototype,Rl=FI.BUGGY_SAFARI_ITERATORS,ca=X9("iterator"),ow="keys",la="values",aw="entries",eB=function(){return this},UI=function(e,t,n,r,s,i,o){K9(n,t,r);var a=function(O){if(O===s&&f)return f;if(!Rl&&O in u)return u[O];switch(O){case ow:return function(){return new n(this,O)};case la:return function(){return new n(this,O)};case aw:return function(){return new n(this,O)}}return function(){return new n(this)}},c=t+" Iterator",l=!1,u=e.prototype,h=u[ca]||u["@@iterator"]||s&&u[s],f=!Rl&&h||a(s),p=t=="Array"&&u.entries||h,v,k,E;if(p&&(v=rw(p.call(new e)),v!==Object.prototype&&v.next&&(rw(v)!==iw&&(sw?sw(v,iw):Y9(v[ca])||Ud(v,ca,eB)),G9(v,c,!0))),J9&&s==la&&h&&h.name!==la&&(Z9?q9(u,"name",la):(l=!0,f=function(){return H9(h,this)})),s)if(k={values:a(la),keys:i?f:a(ow),entries:a(aw)},o)for(E in k)(Rl||l||!(E in u))&&Ud(u,E,k[E]);else z9({target:t,proto:!0,forced:Rl||l},k);return u[ca]!==f&&Ud(u,ca,f,{name:s}),Q9[t]=f,k},tB=Vo,Ov=f9,cw=Gc,BI=jo,nB=br.f,rB=UI,sB=Zn,jI="Array Iterator",iB=BI.set,oB=BI.getterFor(jI),aB=rB(Array,"Array",function(e,t){iB(this,{type:jI,target:tB(e),index:0,kind:t})},function(){var e=oB(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:r,done:!1}:n=="values"?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),lw=cw.Arguments=cw.Array;Ov("keys");Ov("values");Ov("entries");if(sB&&lw.name!=="values")try{nB(lw,"name",{value:"values"})}catch{}var Cv=ct,cB=ff,lB=Ei,uB=Uo,hB=Cv("".charAt),uw=Cv("".charCodeAt),fB=Cv("".slice),hw=function(e){return function(t,n){var r=lB(uB(t)),s=cB(n),i=r.length,o,a;return s<0||s>=i?e?"":void 0:(o=uw(r,s),o<55296||o>56319||s+1===i||(a=uw(r,s+1))<56320||a>57343?e?hB(r,s):o:e?fB(r,s,s+2):(o-55296<<10)+(a-56320)+65536)}},VI={codeAt:hw(!1),charAt:hw(!0)},dB=VI.charAt,pB=Ei,WI=jo,mB=UI,zI="String Iterator",gB=WI.set,vB=WI.getterFor(zI);mB(String,"String",function(e){gB(this,{type:zI,string:pB(e),index:0})},function(){var t=vB(this),n=t.string,r=t.index,s;return r>=n.length?{value:void 0,done:!0}:(s=dB(n,r),t.index+=s.length,{value:s,done:!1})});var yB=wi,HI=function(e,t,n){for(var r in t)yB(e,r,t[r],n);return e},pf={exports:{}},YI={},_B=hv,wB=br,bB=cf,EB=function(e,t,n){var r=_B(t);r in e?wB.f(e,r,bB(0,n)):e[r]=n},SB=ke,fw=EI,TB=Yc,IB=EB,OB=SB.Array,CB=Math.max,kB=function(e,t,n){for(var r=TB(e),s=fw(t,r),i=fw(n===void 0?r:n,r),o=OB(CB(i-s,0)),a=0;s<i;s++,a++)IB(o,a,e[s]);return o.length=a,o},AB=bi,xB=Vo,KI=df.f,RB=kB,GI=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],DB=function(e){try{return KI(e)}catch{return RB(GI)}};YI.f=function(t){return GI&&AB(t)=="Window"?DB(t):KI(xB(t))};var MB=pt,PB=MB(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),NB=pt,$B=Nn,LB=bi,dw=PB,wu=Object.isExtensible,FB=NB(function(){wu(1)}),qI=FB||dw?function(t){return!$B(t)||dw&&LB(t)=="ArrayBuffer"?!1:wu?wu(t):!0}:wu,UB=pt,BB=!UB(function(){return Object.isExtensible(Object.preventExtensions({}))}),jB=xs,VB=ct,WB=lf,zB=Nn,kv=Jn,HB=br.f,pw=df,YB=YI,Av=qI,KB=iv,GB=BB,XI=!1,Wr=KB("meta"),qB=0,xv=function(e){HB(e,Wr,{value:{objectID:"O"+qB++,weakData:{}}})},XB=function(e,t){if(!zB(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!kv(e,Wr)){if(!Av(e))return"F";if(!t)return"E";xv(e)}return e[Wr].objectID},QB=function(e,t){if(!kv(e,Wr)){if(!Av(e))return!0;if(!t)return!1;xv(e)}return e[Wr].weakData},JB=function(e){return GB&&XI&&Av(e)&&!kv(e,Wr)&&xv(e),e},ZB=function(){ej.enable=function(){},XI=!0;var e=pw.f,t=VB([].splice),n={};n[Wr]=1,e(n).length&&(pw.f=function(r){for(var s=e(r),i=0,o=s.length;i<o;i++)if(s[i]===Wr){t(s,i,1);break}return s},jB({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:YB.f}))},ej=pf.exports={enable:ZB,fastKey:XB,getWeakData:QB,onFreeze:JB};WB[Wr]=!0;var tj=fn,nj=Gc,rj=tj("iterator"),sj=Array.prototype,ij=function(e){return e!==void 0&&(nj.Array===e||sj[rj]===e)},oj=uf,mw=Hc,aj=Gc,cj=fn,lj=cj("iterator"),QI=function(e){if(e!=null)return mw(e,lj)||mw(e,"@@iterator")||aj[oj(e)]},uj=ke,hj=$n,fj=af,dj=kn,pj=uv,mj=QI,gj=uj.TypeError,vj=function(e,t){var n=arguments.length<2?mj(e):t;if(fj(n))return dj(hj(n,e));throw gj(pj(e)+" is not iterable")},yj=$n,gw=kn,_j=Hc,wj=function(e,t,n){var r,s;gw(e);try{if(r=_j(e,"return"),!r){if(t==="throw")throw n;return n}r=yj(r,e)}catch(i){s=!0,r=i}if(t==="throw")throw n;if(s)throw r;return gw(r),n},bj=ke,Ej=dI,Sj=$n,Tj=kn,Ij=uv,Oj=ij,Cj=Yc,vw=lv,kj=vj,Aj=QI,yw=wj,xj=bj.TypeError,bu=function(e,t){this.stopped=e,this.result=t},_w=bu.prototype,JI=function(e,t,n){var r=n&&n.that,s=!!(n&&n.AS_ENTRIES),i=!!(n&&n.IS_ITERATOR),o=!!(n&&n.INTERRUPTED),a=Ej(t,r),c,l,u,h,f,p,v,k=function(O){return c&&yw(c,"normal",O),new bu(!0,O)},E=function(O){return s?(Tj(O),o?a(O[0],O[1],k):a(O[0],O[1])):o?a(O,k):a(O)};if(i)c=e;else{if(l=Aj(e),!l)throw xj(Ij(e)+" is not iterable");if(Oj(l)){for(u=0,h=Cj(e);h>u;u++)if(f=E(e[u]),f&&vw(_w,f))return f;return new bu(!1)}c=kj(e,l)}for(p=c.next;!(v=Sj(p,c)).done;){try{f=E(v.value)}catch(O){yw(c,"throw",O)}if(typeof f=="object"&&f&&vw(_w,f))return f}return new bu(!1)},Rj=ke,Dj=lv,Mj=Rj.TypeError,ZI=function(e,t){if(Dj(t,e))return e;throw Mj("Incorrect invocation")},Pj=fn,eO=Pj("iterator"),tO=!1;try{var Nj=0,ww={next:function(){return{done:!!Nj++}},return:function(){tO=!0}};ww[eO]=function(){return this},Array.from(ww,function(){throw 2})}catch{}var $j=function(e,t){if(!t&&!tO)return!1;var n=!1;try{var r={};r[eO]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},Lj=Ct,Fj=Nn,bw=$I,Uj=function(e,t,n){var r,s;return bw&&Lj(r=t.constructor)&&r!==n&&Fj(s=r.prototype)&&s!==n.prototype&&bw(e,s),e},Bj=xs,jj=ke,Vj=ct,Ew=TI,Wj=wi,zj=pf.exports,Hj=JI,Yj=ZI,Kj=Ct,Bd=Nn,jd=pt,Gj=$j,qj=Iv,Xj=Uj,Qj=function(e,t,n){var r=e.indexOf("Map")!==-1,s=e.indexOf("Weak")!==-1,i=r?"set":"add",o=jj[e],a=o&&o.prototype,c=o,l={},u=function(O){var R=Vj(a[O]);Wj(a,O,O=="add"?function(V){return R(this,V===0?0:V),this}:O=="delete"?function(H){return s&&!Bd(H)?!1:R(this,H===0?0:H)}:O=="get"?function(V){return s&&!Bd(V)?void 0:R(this,V===0?0:V)}:O=="has"?function(V){return s&&!Bd(V)?!1:R(this,V===0?0:V)}:function(V,D){return R(this,V===0?0:V,D),this})},h=Ew(e,!Kj(o)||!(s||a.forEach&&!jd(function(){new o().entries().next()})));if(h)c=n.getConstructor(t,e,r,i),zj.enable();else if(Ew(e,!0)){var f=new c,p=f[i](s?{}:-0,1)!=f,v=jd(function(){f.has(1)}),k=Gj(function(O){new o(O)}),E=!s&&jd(function(){for(var O=new o,R=5;R--;)O[i](R,R);return!O.has(-0)});k||(c=t(function(O,R){Yj(O,a);var H=Xj(new o,O,c);return R!=null&&Hj(R,H[i],{that:H,AS_ENTRIES:r}),H}),c.prototype=a,a.constructor=c),(v||E)&&(u("delete"),u("has"),r&&u("get")),(E||p)&&u(i),s&&a.clear&&delete a.clear}return l[e]=c,Bj({global:!0,constructor:!0,forced:c!=o},l),qj(c,e),s||n.setStrong(c,e,r),c},Jj=ct,Sw=HI,Dl=pf.exports.getWeakData,Zj=kn,Vd=Nn,eV=ZI,tV=JI,nO=yv,Tw=Jn,rO=jo,nV=rO.set,rV=rO.getterFor,sV=nO.find,iV=nO.findIndex,oV=Jj([].splice),aV=0,Ml=function(e){return e.frozen||(e.frozen=new sO)},sO=function(){this.entries=[]},Wd=function(e,t){return sV(e.entries,function(n){return n[0]===t})};sO.prototype={get:function(e){var t=Wd(this,e);if(t)return t[1]},has:function(e){return!!Wd(this,e)},set:function(e,t){var n=Wd(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=iV(this.entries,function(n){return n[0]===e});return~t&&oV(this.entries,t,1),!!~t}};var cV={getConstructor:function(e,t,n,r){var s=e(function(c,l){eV(c,i),nV(c,{type:t,id:aV++,frozen:void 0}),l!=null&&tV(l,c[r],{that:c,AS_ENTRIES:n})}),i=s.prototype,o=rV(t),a=function(c,l,u){var h=o(c),f=Dl(Zj(l),!0);return f===!0?Ml(h).set(l,u):f[h.id]=u,c};return Sw(i,{delete:function(c){var l=o(this);if(!Vd(c))return!1;var u=Dl(c);return u===!0?Ml(l).delete(c):u&&Tw(u,l.id)&&delete u[l.id]},has:function(l){var u=o(this);if(!Vd(l))return!1;var h=Dl(l);return h===!0?Ml(u).has(l):h&&Tw(h,u.id)}}),Sw(i,n?{get:function(l){var u=o(this);if(Vd(l)){var h=Dl(l);return h===!0?Ml(u).get(l):h?h[u.id]:void 0}},set:function(l,u){return a(this,l,u)}}:{add:function(l){return a(this,l,!0)}}),s}},Iw=ke,Pl=ct,lV=HI,uV=pf.exports,hV=Qj,iO=cV,Nl=Nn,$l=qI,Ll=jo.enforce,fV=oI,dV=!Iw.ActiveXObject&&"ActiveXObject"in Iw,ua,oO=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},pV=hV("WeakMap",oO,iO);if(fV&&dV){ua=iO.getConstructor(oO,"WeakMap",!0),uV.enable();var ha=pV.prototype,Ow=Pl(ha.delete),Fl=Pl(ha.has),Cw=Pl(ha.get),kw=Pl(ha.set);lV(ha,{delete:function(e){if(Nl(e)&&!$l(e)){var t=Ll(this);return t.frozen||(t.frozen=new ua),Ow(this,e)||t.frozen.delete(e)}return Ow(this,e)},has:function(t){if(Nl(t)&&!$l(t)){var n=Ll(this);return n.frozen||(n.frozen=new ua),Fl(this,t)||n.frozen.has(t)}return Fl(this,t)},get:function(t){if(Nl(t)&&!$l(t)){var n=Ll(this);return n.frozen||(n.frozen=new ua),Fl(this,t)?Cw(this,t):n.frozen.get(t)}return Cw(this,t)},set:function(t,n){if(Nl(t)&&!$l(t)){var r=Ll(this);r.frozen||(r.frozen=new ua),Fl(this,t)?kw(this,t,n):r.frozen.set(t,n)}else kw(this,t,n);return this}})}var Aw=ke,aO=hI,mV=fI,ya=aB,zd=_i,cO=fn,Hd=cO("iterator"),xw=cO("toStringTag"),Yd=ya.values,lO=function(e,t){if(e){if(e[Hd]!==Yd)try{zd(e,Hd,Yd)}catch{e[Hd]=Yd}if(e[xw]||zd(e,xw,t),aO[t]){for(var n in ya)if(e[n]!==ya[n])try{zd(e,n,ya[n])}catch{e[n]=ya[n]}}}};for(var Kd in aO)lO(Aw[Kd]&&Aw[Kd].prototype,Kd);lO(mV,"DOMTokenList");var uO="Expected a function",Rw=0/0,gV="[object Symbol]",vV=/^\s+|\s+$/g,yV=/^[-+]0x[0-9a-f]+$/i,_V=/^0b[01]+$/i,wV=/^0o[0-7]+$/i,bV=parseInt,EV=typeof $t=="object"&&$t&&$t.Object===Object&&$t,SV=typeof self=="object"&&self&&self.Object===Object&&self,TV=EV||SV||Function("return this")(),IV=Object.prototype,OV=IV.toString,CV=Math.max,kV=Math.min,Gd=function(){return TV.Date.now()};function AV(e,t,n){var r,s,i,o,a,c,l=0,u=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(uO);t=Dw(t)||0,ah(n)&&(u=!!n.leading,h="maxWait"in n,i=h?CV(Dw(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function p(M){var w=r,C=s;return r=s=void 0,l=M,o=e.apply(C,w),o}function v(M){return l=M,a=setTimeout(O,t),u?p(M):o}function k(M){var w=M-c,C=M-l,X=t-w;return h?kV(X,i-C):X}function E(M){var w=M-c,C=M-l;return c===void 0||w>=t||w<0||h&&C>=i}function O(){var M=Gd();if(E(M))return R(M);a=setTimeout(O,k(M))}function R(M){return a=void 0,f&&r?p(M):(r=s=void 0,o)}function H(){a!==void 0&&clearTimeout(a),l=0,r=c=s=a=void 0}function V(){return a===void 0?o:R(Gd())}function D(){var M=Gd(),w=E(M);if(r=arguments,s=this,c=M,w){if(a===void 0)return v(c);if(h)return a=setTimeout(O,t),p(c)}return a===void 0&&(a=setTimeout(O,t)),o}return D.cancel=H,D.flush=V,D}function xV(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(uO);return ah(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),AV(e,t,{leading:r,maxWait:t,trailing:s})}function ah(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function RV(e){return!!e&&typeof e=="object"}function DV(e){return typeof e=="symbol"||RV(e)&&OV.call(e)==gV}function Dw(e){if(typeof e=="number")return e;if(DV(e))return Rw;if(ah(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ah(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(vV,"");var n=_V.test(e);return n||wV.test(e)?bV(e.slice(2),n?2:8):yV.test(e)?Rw:+e}var Mw=xV,MV="Expected a function",Pw=0/0,PV="[object Symbol]",NV=/^\s+|\s+$/g,$V=/^[-+]0x[0-9a-f]+$/i,LV=/^0b[01]+$/i,FV=/^0o[0-7]+$/i,UV=parseInt,BV=typeof $t=="object"&&$t&&$t.Object===Object&&$t,jV=typeof self=="object"&&self&&self.Object===Object&&self,VV=BV||jV||Function("return this")(),WV=Object.prototype,zV=WV.toString,HV=Math.max,YV=Math.min,qd=function(){return VV.Date.now()};function KV(e,t,n){var r,s,i,o,a,c,l=0,u=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(MV);t=Nw(t)||0,bm(n)&&(u=!!n.leading,h="maxWait"in n,i=h?HV(Nw(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function p(M){var w=r,C=s;return r=s=void 0,l=M,o=e.apply(C,w),o}function v(M){return l=M,a=setTimeout(O,t),u?p(M):o}function k(M){var w=M-c,C=M-l,X=t-w;return h?YV(X,i-C):X}function E(M){var w=M-c,C=M-l;return c===void 0||w>=t||w<0||h&&C>=i}function O(){var M=qd();if(E(M))return R(M);a=setTimeout(O,k(M))}function R(M){return a=void 0,f&&r?p(M):(r=s=void 0,o)}function H(){a!==void 0&&clearTimeout(a),l=0,r=c=s=a=void 0}function V(){return a===void 0?o:R(qd())}function D(){var M=qd(),w=E(M);if(r=arguments,s=this,c=M,w){if(a===void 0)return v(c);if(h)return a=setTimeout(O,t),p(c)}return a===void 0&&(a=setTimeout(O,t)),o}return D.cancel=H,D.flush=V,D}function bm(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function GV(e){return!!e&&typeof e=="object"}function qV(e){return typeof e=="symbol"||GV(e)&&zV.call(e)==PV}function Nw(e){if(typeof e=="number")return e;if(qV(e))return Pw;if(bm(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bm(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(NV,"");var n=LV.test(e);return n||FV.test(e)?UV(e.slice(2),n?2:8):$V.test(e)?Pw:+e}var $w=KV,XV="Expected a function",hO="__lodash_hash_undefined__",QV="[object Function]",JV="[object GeneratorFunction]",ZV=/[\\^$.*+?()[\]{}|]/g,eW=/^\[object .+?Constructor\]$/,tW=typeof $t=="object"&&$t&&$t.Object===Object&&$t,nW=typeof self=="object"&&self&&self.Object===Object&&self,fO=tW||nW||Function("return this")();function rW(e,t){return e==null?void 0:e[t]}function sW(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var iW=Array.prototype,oW=Function.prototype,dO=Object.prototype,Xd=fO["__core-js_shared__"],Lw=function(){var e=/[^.]+$/.exec(Xd&&Xd.keys&&Xd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pO=oW.toString,Rv=dO.hasOwnProperty,aW=dO.toString,cW=RegExp("^"+pO.call(Rv).replace(ZV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lW=iW.splice,uW=mO(fO,"Map"),fc=mO(Object,"create");function ci(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hW(){this.__data__=fc?fc(null):{}}function fW(e){return this.has(e)&&delete this.__data__[e]}function dW(e){var t=this.__data__;if(fc){var n=t[e];return n===hO?void 0:n}return Rv.call(t,e)?t[e]:void 0}function pW(e){var t=this.__data__;return fc?t[e]!==void 0:Rv.call(t,e)}function mW(e,t){var n=this.__data__;return n[e]=fc&&t===void 0?hO:t,this}ci.prototype.clear=hW;ci.prototype.delete=fW;ci.prototype.get=dW;ci.prototype.has=pW;ci.prototype.set=mW;function Wo(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function gW(){this.__data__=[]}function vW(e){var t=this.__data__,n=mf(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():lW.call(t,n,1),!0}function yW(e){var t=this.__data__,n=mf(t,e);return n<0?void 0:t[n][1]}function _W(e){return mf(this.__data__,e)>-1}function wW(e,t){var n=this.__data__,r=mf(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}Wo.prototype.clear=gW;Wo.prototype.delete=vW;Wo.prototype.get=yW;Wo.prototype.has=_W;Wo.prototype.set=wW;function Si(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function bW(){this.__data__={hash:new ci,map:new(uW||Wo),string:new ci}}function EW(e){return gf(this,e).delete(e)}function SW(e){return gf(this,e).get(e)}function TW(e){return gf(this,e).has(e)}function IW(e,t){return gf(this,e).set(e,t),this}Si.prototype.clear=bW;Si.prototype.delete=EW;Si.prototype.get=SW;Si.prototype.has=TW;Si.prototype.set=IW;function mf(e,t){for(var n=e.length;n--;)if(xW(e[n][0],t))return n;return-1}function OW(e){if(!gO(e)||kW(e))return!1;var t=RW(e)||sW(e)?cW:eW;return t.test(AW(e))}function gf(e,t){var n=e.__data__;return CW(t)?n[typeof t=="string"?"string":"hash"]:n.map}function mO(e,t){var n=rW(e,t);return OW(n)?n:void 0}function CW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function kW(e){return!!Lw&&Lw in e}function AW(e){if(e!=null){try{return pO.call(e)}catch{}try{return e+""}catch{}}return""}function Dv(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(XV);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,r);return n.cache=i.set(s,o),o};return n.cache=new(Dv.Cache||Si),n}Dv.Cache=Si;function xW(e,t){return e===t||e!==e&&t!==t}function RW(e){var t=gO(e)?aW.call(e):"";return t==QV||t==JV}function gO(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}var DW=Dv,ei=[],MW=function(){return ei.some(function(e){return e.activeTargets.length>0})},PW=function(){return ei.some(function(e){return e.skippedTargets.length>0})},Fw="ResizeObserver loop completed with undelivered notifications.",NW=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Fw}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Fw),window.dispatchEvent(e)},dc;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(dc||(dc={}));var ti=function(e){return Object.freeze(e)},$W=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,ti(this)}return e}(),vO=function(){function e(t,n,r,s){return this.x=t,this.y=n,this.width=r,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ti(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,s=t.top,i=t.right,o=t.bottom,a=t.left,c=t.width,l=t.height;return{x:n,y:r,top:s,right:i,bottom:o,left:a,width:c,height:l}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Mv=function(e){return e instanceof SVGElement&&"getBBox"in e},yO=function(e){if(Mv(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var s=e,i=s.offsetWidth,o=s.offsetHeight;return!(i||o||e.getClientRects().length)},Uw=function(e){var t,n;if(e instanceof Element)return!0;var r=(n=(t=e)===null||t===void 0?void 0:t.ownerDocument)===null||n===void 0?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},LW=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Da=typeof window!="undefined"?window:{},Ul=new WeakMap,Bw=/auto|scroll/,FW=/^tb|vertical/,UW=/msie|trident/i.test(Da.navigator&&Da.navigator.userAgent),tr=function(e){return parseFloat(e||"0")},ao=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new $W((n?t:e)||0,(n?e:t)||0)},jw=ti({devicePixelContentBoxSize:ao(),borderBoxSize:ao(),contentBoxSize:ao(),contentRect:new vO(0,0,0,0)}),_O=function(e,t){if(t===void 0&&(t=!1),Ul.has(e)&&!t)return Ul.get(e);if(yO(e))return Ul.set(e,jw),jw;var n=getComputedStyle(e),r=Mv(e)&&e.ownerSVGElement&&e.getBBox(),s=!UW&&n.boxSizing==="border-box",i=FW.test(n.writingMode||""),o=!r&&Bw.test(n.overflowY||""),a=!r&&Bw.test(n.overflowX||""),c=r?0:tr(n.paddingTop),l=r?0:tr(n.paddingRight),u=r?0:tr(n.paddingBottom),h=r?0:tr(n.paddingLeft),f=r?0:tr(n.borderTopWidth),p=r?0:tr(n.borderRightWidth),v=r?0:tr(n.borderBottomWidth),k=r?0:tr(n.borderLeftWidth),E=h+l,O=c+u,R=k+p,H=f+v,V=a?e.offsetHeight-H-e.clientHeight:0,D=o?e.offsetWidth-R-e.clientWidth:0,M=s?E+R:0,w=s?O+H:0,C=r?r.width:tr(n.width)-M-D,X=r?r.height:tr(n.height)-w-V,de=C+E+D+R,Ce=X+O+V+H,De=ti({devicePixelContentBoxSize:ao(Math.round(C*devicePixelRatio),Math.round(X*devicePixelRatio),i),borderBoxSize:ao(de,Ce,i),contentBoxSize:ao(C,X,i),contentRect:new vO(h,c,C,X)});return Ul.set(e,De),De},wO=function(e,t,n){var r=_O(e,n),s=r.borderBoxSize,i=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case dc.DEVICE_PIXEL_CONTENT_BOX:return o;case dc.BORDER_BOX:return s;default:return i}},BW=function(){function e(t){var n=_O(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=ti([n.borderBoxSize]),this.contentBoxSize=ti([n.contentBoxSize]),this.devicePixelContentBoxSize=ti([n.devicePixelContentBoxSize])}return e}(),bO=function(e){if(yO(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},jW=function(){var e=1/0,t=[];ei.forEach(function(o){if(o.activeTargets.length!==0){var a=[];o.activeTargets.forEach(function(l){var u=new BW(l.target),h=bO(l.target);a.push(u),l.lastReportedSize=wO(l.target,l.observedBox),h<e&&(e=h)}),t.push(function(){o.callback.call(o.observer,a,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var s=r[n];s()}return e},Vw=function(e){ei.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(s){s.isActive()&&(bO(s.target)>e?n.activeTargets.push(s):n.skippedTargets.push(s))})})},VW=function(){var e=0;for(Vw(e);MW();)e=jW(),Vw(e);return PW()&&NW(),e>0},Qd,EO=[],WW=function(){return EO.splice(0).forEach(function(e){return e()})},zW=function(e){if(!Qd){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return WW()}).observe(n,r),Qd=function(){n.textContent=""+(t?t--:t++)}}EO.push(e),Qd()},HW=function(e){zW(function(){requestAnimationFrame(e)})},Eu=0,YW=function(){return!!Eu},KW=250,GW={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ww=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],zw=function(e){return e===void 0&&(e=0),Date.now()+e},Jd=!1,qW=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=KW),!Jd){Jd=!0;var r=zw(t);HW(function(){var s=!1;try{s=VW()}finally{if(Jd=!1,t=r-zw(),!YW())return;s?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,GW)};document.body?n():Da.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ww.forEach(function(n){return Da.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Ww.forEach(function(n){return Da.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),Em=new qW,Hw=function(e){!Eu&&e>0&&Em.start(),Eu+=e,!Eu&&Em.stop()},XW=function(e){return!Mv(e)&&!LW(e)&&getComputedStyle(e).display==="inline"},QW=function(){function e(t,n){this.target=t,this.observedBox=n||dc.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=wO(this.target,this.observedBox,!0);return XW(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),JW=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),Bl=new WeakMap,Yw=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},jl=function(){function e(){}return e.connect=function(t,n){var r=new JW(t,n);Bl.set(t,r)},e.observe=function(t,n,r){var s=Bl.get(t),i=s.observationTargets.length===0;Yw(s.observationTargets,n)<0&&(i&&ei.push(s),s.observationTargets.push(new QW(n,r&&r.box)),Hw(1),Em.schedule())},e.unobserve=function(t,n){var r=Bl.get(t),s=Yw(r.observationTargets,n),i=r.observationTargets.length===1;s>=0&&(i&&ei.splice(ei.indexOf(r),1),r.observationTargets.splice(s,1),Hw(-1))},e.disconnect=function(t){var n=this,r=Bl.get(t);r.observationTargets.slice().forEach(function(s){return n.unobserve(t,s.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),ZW=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");jl.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Uw(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");jl.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Uw(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");jl.unobserve(this,t)},e.prototype.disconnect=function(){jl.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),ez=ke,tz=af,nz=Bo,rz=hf,sz=Yc,iz=ez.TypeError,Kw=function(e){return function(t,n,r,s){tz(n);var i=nz(t),o=rz(i),a=sz(i),c=e?a-1:0,l=e?-1:1;if(r<2)for(;;){if(c in o){s=o[c],c+=l;break}if(c+=l,e?c<0:a<=c)throw iz("Reduce of empty array with no initial value")}for(;e?c>=0:a>c;c+=l)c in o&&(s=n(s,o[c],c,i));return s}},oz={left:Kw(!1),right:Kw(!0)},az=bi,cz=ke,lz=az(cz.process)=="process",uz=xs,hz=oz.left,fz=yI,Gw=ov,dz=lz,pz=fz("reduce"),mz=!dz&&Gw>79&&Gw<83;uz({target:"Array",proto:!0,forced:!pz||mz},{reduce:function(t){var n=arguments.length;return hz(this,t,n,n>1?arguments[1]:void 0)}});var gz=kn,vz=function(){var e=gz(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Pv=pt,yz=ke,Nv=yz.RegExp,$v=Pv(function(){var e=Nv("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),_z=$v||Pv(function(){return!Nv("a","y").sticky}),wz=$v||Pv(function(){var e=Nv("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),bz={BROKEN_CARET:wz,MISSED_STICKY:_z,UNSUPPORTED_Y:$v},Ez=pt,Sz=ke,Tz=Sz.RegExp,Iz=Ez(function(){var e=Tz(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),Oz=pt,Cz=ke,kz=Cz.RegExp,Az=Oz(function(){var e=kz("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Ki=$n,vf=ct,xz=Ei,Rz=vz,Dz=bz,Mz=sf.exports,Pz=Tv,Nz=jo.get,$z=Iz,Lz=Az,Fz=Mz("native-string-replace",String.prototype.replace),ch=RegExp.prototype.exec,Sm=ch,Uz=vf("".charAt),Bz=vf("".indexOf),jz=vf("".replace),Zd=vf("".slice),Tm=function(){var e=/a/,t=/b*/g;return Ki(ch,e,"a"),Ki(ch,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),SO=Dz.BROKEN_CARET,Im=/()??/.exec("")[1]!==void 0,Vz=Tm||Im||SO||$z||Lz;Vz&&(Sm=function(t){var n=this,r=Nz(n),s=xz(t),i=r.raw,o,a,c,l,u,h,f;if(i)return i.lastIndex=n.lastIndex,o=Ki(Sm,i,s),n.lastIndex=i.lastIndex,o;var p=r.groups,v=SO&&n.sticky,k=Ki(Rz,n),E=n.source,O=0,R=s;if(v&&(k=jz(k,"y",""),Bz(k,"g")===-1&&(k+="g"),R=Zd(s,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&Uz(s,n.lastIndex-1)!==`
`)&&(E="(?: "+E+")",R=" "+R,O++),a=new RegExp("^(?:"+E+")",k)),Im&&(a=new RegExp("^"+E+"$(?!\\s)",k)),Tm&&(c=n.lastIndex),l=Ki(ch,v?a:n,R),v?l?(l.input=Zd(l.input,O),l[0]=Zd(l[0],O),l.index=n.lastIndex,n.lastIndex+=l[0].length):n.lastIndex=0:Tm&&l&&(n.lastIndex=n.global?l.index+l[0].length:c),Im&&l&&l.length>1&&Ki(Fz,l[0],a,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(l[u]=void 0)}),l&&p)for(l.groups=h=Pz(null),u=0;u<p.length;u++)f=p[u],h[f[0]]=l[f[1]];return l});var Lv=Sm,Wz=xs,qw=Lv;Wz({target:"RegExp",proto:!0,forced:/./.exec!==qw},{exec:qw});var Xw=ct,Qw=wi,zz=Lv,Jw=pt,TO=fn,Hz=_i,Yz=TO("species"),ep=RegExp.prototype,IO=function(e,t,n,r){var s=TO(e),i=!Jw(function(){var l={};return l[s]=function(){return 7},""[e](l)!=7}),o=i&&!Jw(function(){var l=!1,u=/a/;return e==="split"&&(u={},u.constructor={},u.constructor[Yz]=function(){return u},u.flags="",u[s]=/./[s]),u.exec=function(){return l=!0,null},u[s](""),!l});if(!i||!o||n){var a=Xw(/./[s]),c=t(s,""[e],function(l,u,h,f,p){var v=Xw(l),k=u.exec;return k===zz||k===ep.exec?i&&!p?{done:!0,value:a(u,h,f)}:{done:!0,value:v(h,u,f)}:{done:!1}});Qw(String.prototype,e,c[0]),Qw(ep,s,c[1])}r&&Hz(ep[s],"sham",!0)},Kz=VI.charAt,OO=function(e,t,n){return t+(n?Kz(e,t).length:1)},Gz=ke,Zw=$n,qz=kn,Xz=Ct,Qz=bi,Jz=Lv,Zz=Gz.TypeError,CO=function(e,t){var n=e.exec;if(Xz(n)){var r=Zw(n,e,t);return r!==null&&qz(r),r}if(Qz(e)==="RegExp")return Zw(Jz,e,t);throw Zz("RegExp#exec called on incompatible receiver")},eH=$n,tH=IO,nH=kn,rH=gv,tp=Ei,sH=Uo,iH=Hc,oH=OO,eb=CO;tH("match",function(e,t,n){return[function(s){var i=sH(this),o=s==null?void 0:iH(s,e);return o?eH(o,s,i):new RegExp(s)[e](tp(i))},function(r){var s=nH(this),i=tp(r),o=n(t,s,i);if(o.done)return o.value;if(!s.global)return eb(s,i);var a=s.unicode;s.lastIndex=0;for(var c=[],l=0,u;(u=eb(s,i))!==null;){var h=tp(u[0]);c[l]=h,h===""&&(s.lastIndex=oH(i,rH(s.lastIndex),a)),l++}return l===0?null:c}]});var aH=Zn,cH=dv.EXISTS,kO=ct,lH=br.f,AO=Function.prototype,uH=kO(AO.toString),xO=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,hH=kO(xO.exec),fH="name";aH&&!cH&&lH(AO,fH,{configurable:!0,get:function(){try{return hH(xO,uH(this))[1]}catch{return""}}});var dH=of,RO=Function.prototype,tb=RO.apply,nb=RO.call,pH=typeof Reflect=="object"&&Reflect.apply||(dH?nb.bind(tb):function(){return nb.apply(tb,arguments)}),Fv=ct,mH=Bo,gH=Math.floor,np=Fv("".charAt),vH=Fv("".replace),rp=Fv("".slice),yH=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,_H=/\$([$&'`]|\d{1,2})/g,wH=function(e,t,n,r,s,i){var o=n+e.length,a=r.length,c=_H;return s!==void 0&&(s=mH(s),c=yH),vH(i,c,function(l,u){var h;switch(np(u,0)){case"$":return"$";case"&":return e;case"`":return rp(t,0,n);case"'":return rp(t,o);case"<":h=s[rp(u,1,-1)];break;default:var f=+u;if(f===0)return l;if(f>a){var p=gH(f/10);return p===0?l:p<=a?r[p-1]===void 0?np(u,1):r[p-1]+np(u,1):l}h=r[f-1]}return h===void 0?"":h})},bH=pH,rb=$n,yf=ct,EH=IO,SH=pt,TH=kn,IH=Ct,OH=ff,CH=gv,Li=Ei,kH=Uo,AH=OO,xH=Hc,RH=wH,DH=CO,MH=fn,Om=MH("replace"),PH=Math.max,NH=Math.min,$H=yf([].concat),sp=yf([].push),sb=yf("".indexOf),ib=yf("".slice),LH=function(e){return e===void 0?e:String(e)},FH=function(){return"a".replace(/./,"$0")==="$0"}(),ob=function(){return/./[Om]?/./[Om]("a","$0")==="":!1}(),UH=!SH(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});EH("replace",function(e,t,n){var r=ob?"$":"$0";return[function(i,o){var a=kH(this),c=i==null?void 0:xH(i,Om);return c?rb(c,i,a,o):rb(t,Li(a),i,o)},function(s,i){var o=TH(this),a=Li(s);if(typeof i=="string"&&sb(i,r)===-1&&sb(i,"$<")===-1){var c=n(t,o,a,i);if(c.done)return c.value}var l=IH(i);l||(i=Li(i));var u=o.global;if(u){var h=o.unicode;o.lastIndex=0}for(var f=[];;){var p=DH(o,a);if(p===null||(sp(f,p),!u))break;var v=Li(p[0]);v===""&&(o.lastIndex=AH(a,CH(o.lastIndex),h))}for(var k="",E=0,O=0;O<f.length;O++){p=f[O];for(var R=Li(p[0]),H=PH(NH(OH(p.index),a.length),0),V=[],D=1;D<p.length;D++)sp(V,LH(p[D]));var M=p.groups;if(l){var w=$H([R],V,H,a);M!==void 0&&sp(w,M);var C=Li(bH(i,void 0,w))}else C=RH(R,a,H,V,M,i);H>=E&&(k+=ib(a,E,H)+C,E=H+R.length)}return k+ib(a,E)}]},!UH||!FH||ob);var lh=function(t){var n=Array.prototype.reduce.call(t,function(r,s){var i=s.name.match(/data-simplebar-(.+)/);if(i){var o=i[1].replace(/\W+(.)/g,function(a,c){return c.toUpperCase()});switch(s.value){case"true":r[o]=!0;break;case"false":r[o]=!1;break;case void 0:r[o]=!0;break;default:r[o]=s.value}}return r},{});return n};function Zr(e){return!e||!e.ownerDocument||!e.ownerDocument.defaultView?window:e.ownerDocument.defaultView}function Su(e){return!e||!e.ownerDocument?document:e.ownerDocument}var Wi=null,ab=null;_v&&window.addEventListener("resize",function(){ab!==window.devicePixelRatio&&(ab=window.devicePixelRatio,Wi=null)});function cb(e){if(Wi===null){var t=Su(e);if(typeof t=="undefined")return Wi=0,Wi;var n=t.body,r=t.createElement("div");r.classList.add("simplebar-hide-scrollbar"),n.appendChild(r);var s=r.getBoundingClientRect().right;n.removeChild(r),Wi=s}return Wi}var bt=function(){function e(n,r){var s=this;this.onScroll=function(){var i=Zr(s.el);s.scrollXTicking||(i.requestAnimationFrame(s.scrollX),s.scrollXTicking=!0),s.scrollYTicking||(i.requestAnimationFrame(s.scrollY),s.scrollYTicking=!0)},this.scrollX=function(){s.axis.x.isOverflowing&&(s.showScrollbar("x"),s.positionScrollbar("x")),s.scrollXTicking=!1},this.scrollY=function(){s.axis.y.isOverflowing&&(s.showScrollbar("y"),s.positionScrollbar("y")),s.scrollYTicking=!1},this.onMouseEnter=function(){s.showScrollbar("x"),s.showScrollbar("y")},this.onMouseMove=function(i){s.mouseX=i.clientX,s.mouseY=i.clientY,(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&s.onMouseMoveForAxis("x"),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&s.onMouseMoveForAxis("y")},this.onMouseLeave=function(){s.onMouseMove.cancel(),(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&s.onMouseLeaveForAxis("x"),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&s.onMouseLeaveForAxis("y"),s.mouseX=-1,s.mouseY=-1},this.onWindowResize=function(){s.scrollbarWidth=s.getScrollbarWidth(),s.hideNativeScrollbar()},this.hideScrollbars=function(){s.axis.x.track.rect=s.axis.x.track.el.getBoundingClientRect(),s.axis.y.track.rect=s.axis.y.track.el.getBoundingClientRect(),s.isWithinBounds(s.axis.y.track.rect)||(s.axis.y.scrollbar.el.classList.remove(s.classNames.visible),s.axis.y.isVisible=!1),s.isWithinBounds(s.axis.x.track.rect)||(s.axis.x.scrollbar.el.classList.remove(s.classNames.visible),s.axis.x.isVisible=!1)},this.onPointerEvent=function(i){var o,a;s.axis.x.track.rect=s.axis.x.track.el.getBoundingClientRect(),s.axis.y.track.rect=s.axis.y.track.el.getBoundingClientRect(),(s.axis.x.isOverflowing||s.axis.x.forceVisible)&&(o=s.isWithinBounds(s.axis.x.track.rect)),(s.axis.y.isOverflowing||s.axis.y.forceVisible)&&(a=s.isWithinBounds(s.axis.y.track.rect)),(o||a)&&(i.preventDefault(),i.stopPropagation(),i.type==="mousedown"&&(o&&(s.axis.x.scrollbar.rect=s.axis.x.scrollbar.el.getBoundingClientRect(),s.isWithinBounds(s.axis.x.scrollbar.rect)?s.onDragStart(i,"x"):s.onTrackClick(i,"x")),a&&(s.axis.y.scrollbar.rect=s.axis.y.scrollbar.el.getBoundingClientRect(),s.isWithinBounds(s.axis.y.scrollbar.rect)?s.onDragStart(i,"y"):s.onTrackClick(i,"y"))))},this.drag=function(i){var o,a=s.axis[s.draggedAxis].track,c=a.rect[s.axis[s.draggedAxis].sizeAttr],l=s.axis[s.draggedAxis].scrollbar,u=s.contentWrapperEl[s.axis[s.draggedAxis].scrollSizeAttr],h=parseInt(s.elStyles[s.axis[s.draggedAxis].sizeAttr],10);i.preventDefault(),i.stopPropagation(),s.draggedAxis==="y"?o=i.pageY:o=i.pageX;var f=o-a.rect[s.axis[s.draggedAxis].offsetAttr]-s.axis[s.draggedAxis].dragOffset,p=f/(c-l.size),v=p*(u-h);s.draggedAxis==="x"&&(v=s.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?v-(c+l.size):v,v=s.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-v:v),s.contentWrapperEl[s.axis[s.draggedAxis].scrollOffsetAttr]=v},this.onEndDrag=function(i){var o=Su(s.el),a=Zr(s.el);i.preventDefault(),i.stopPropagation(),s.el.classList.remove(s.classNames.dragging),o.removeEventListener("mousemove",s.drag,!0),o.removeEventListener("mouseup",s.onEndDrag,!0),s.removePreventClickId=a.setTimeout(function(){o.removeEventListener("click",s.preventClick,!0),o.removeEventListener("dblclick",s.preventClick,!0),s.removePreventClickId=null})},this.preventClick=function(i){i.preventDefault(),i.stopPropagation()},this.el=n,this.minScrollbarWidth=20,this.options=Object.assign({},e.defaultOptions,r),this.classNames=Object.assign({},e.defaultOptions.classNames,this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,!e.instances.has(this.el)&&(this.recalculate=Mw(this.recalculate.bind(this),64),this.onMouseMove=Mw(this.onMouseMove.bind(this),64),this.hideScrollbars=$w(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=$w(this.onWindowResize.bind(this),64,{leading:!0}),e.getRtlHelpers=DW(e.getRtlHelpers),this.init())}e.getRtlHelpers=function(){var r=document.createElement("div");r.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var s=r.firstElementChild;document.body.appendChild(s);var i=s.firstElementChild;s.scrollLeft=0;var o=e.getOffset(s),a=e.getOffset(i);s.scrollLeft=999;var c=e.getOffset(i);return{isRtlScrollingInverted:o.left!==a.left&&a.left-c.left!==0,isRtlScrollbarInverted:o.left!==a.left}},e.getOffset=function(r){var s=r.getBoundingClientRect(),i=Su(r),o=Zr(r);return{top:s.top+(o.pageYOffset||i.documentElement.scrollTop),left:s.left+(o.pageXOffset||i.documentElement.scrollLeft)}};var t=e.prototype;return t.init=function(){e.instances.set(this.el,this),_v&&(this.initDOM(),this.setAccessibilityAttributes(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},t.initDOM=function(){var r=this;if(Array.prototype.filter.call(this.el.children,function(o){return o.classList.contains(r.classNames.wrapper)}).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var s=document.createElement("div"),i=document.createElement("div");s.classList.add(this.classNames.track),i.classList.add(this.classNames.scrollbar),s.appendChild(i),this.axis.x.track.el=s.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=s.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},t.setAccessibilityAttributes=function(){var r=this.options.ariaLabel||"scrollable content";this.contentWrapperEl.setAttribute("tabindex","0"),this.contentWrapperEl.setAttribute("role","region"),this.contentWrapperEl.setAttribute("aria-label",r)},t.initListeners=function(){var r=this,s=Zr(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(a){r.el.addEventListener(a,r.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(a){r.el.addEventListener(a,r.onPointerEvent,{capture:!0,passive:!0})}),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),s.addEventListener("resize",this.onWindowResize);var i=!1,o=s.ResizeObserver||ZW;this.resizeObserver=new o(function(){!i||r.recalculate()}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),s.requestAnimationFrame(function(){i=!0}),this.mutationObserver=new s.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},t.recalculate=function(){var r=Zr(this.el);this.elStyles=r.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var s=this.heightAutoObserverEl.offsetHeight<=1,i=this.heightAutoObserverEl.offsetWidth<=1,o=this.contentEl.offsetWidth,a=this.contentWrapperEl.offsetWidth,c=this.elStyles.overflowX,l=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var u=this.contentEl.scrollHeight,h=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=s?"auto":"100%",this.placeholderEl.style.width=i?o+"px":"auto",this.placeholderEl.style.height=u+"px";var f=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=h>o,this.axis.y.isOverflowing=u>f,this.axis.x.isOverflowing=c==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=l==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var p=this.axis.x.isOverflowing?this.scrollbarWidth:0,v=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&h>a-v,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&u>f-p,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},t.getScrollbarSize=function(r){if(r===void 0&&(r="y"),!this.axis[r].isOverflowing)return 0;var s=this.contentEl[this.axis[r].scrollSizeAttr],i=this.axis[r].track.el[this.axis[r].offsetSizeAttr],o,a=i/s;return o=Math.max(~~(a*i),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(o=Math.min(o,this.options.scrollbarMaxSize)),o},t.positionScrollbar=function(r){if(r===void 0&&(r="y"),!!this.axis[r].isOverflowing){var s=this.contentWrapperEl[this.axis[r].scrollSizeAttr],i=this.axis[r].track.el[this.axis[r].offsetSizeAttr],o=parseInt(this.elStyles[this.axis[r].sizeAttr],10),a=this.axis[r].scrollbar,c=this.contentWrapperEl[this.axis[r].scrollOffsetAttr];c=r==="x"&&this.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-c:c;var l=c/(s-o),u=~~((i-a.size)*l);u=r==="x"&&this.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?u+(i-a.size):u,a.el.style.transform=r==="x"?"translate3d("+u+"px, 0, 0)":"translate3d(0, "+u+"px, 0)"}},t.toggleTrackVisibility=function(r){r===void 0&&(r="y");var s=this.axis[r].track.el,i=this.axis[r].scrollbar.el;this.axis[r].isOverflowing||this.axis[r].forceVisible?(s.style.visibility="visible",this.contentWrapperEl.style[this.axis[r].overflowAttr]="scroll"):(s.style.visibility="hidden",this.contentWrapperEl.style[this.axis[r].overflowAttr]="hidden"),this.axis[r].isOverflowing?i.style.display="block":i.style.display="none"},t.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},t.onMouseMoveForAxis=function(r){r===void 0&&(r="y"),this.axis[r].track.rect=this.axis[r].track.el.getBoundingClientRect(),this.axis[r].scrollbar.rect=this.axis[r].scrollbar.el.getBoundingClientRect();var s=this.isWithinBounds(this.axis[r].scrollbar.rect);s?this.axis[r].scrollbar.el.classList.add(this.classNames.hover):this.axis[r].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[r].track.rect)?(this.showScrollbar(r),this.axis[r].track.el.classList.add(this.classNames.hover)):this.axis[r].track.el.classList.remove(this.classNames.hover)},t.onMouseLeaveForAxis=function(r){r===void 0&&(r="y"),this.axis[r].track.el.classList.remove(this.classNames.hover),this.axis[r].scrollbar.el.classList.remove(this.classNames.hover)},t.showScrollbar=function(r){r===void 0&&(r="y");var s=this.axis[r].scrollbar.el;this.axis[r].isVisible||(s.classList.add(this.classNames.visible),this.axis[r].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},t.onDragStart=function(r,s){s===void 0&&(s="y");var i=Su(this.el),o=Zr(this.el),a=this.axis[s].scrollbar,c=s==="y"?r.pageY:r.pageX;this.axis[s].dragOffset=c-a.rect[this.axis[s].offsetAttr],this.draggedAxis=s,this.el.classList.add(this.classNames.dragging),i.addEventListener("mousemove",this.drag,!0),i.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(i.addEventListener("click",this.preventClick,!0),i.addEventListener("dblclick",this.preventClick,!0)):(o.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.onTrackClick=function(r,s){var i=this;if(s===void 0&&(s="y"),!!this.options.clickOnTrack){var o=Zr(this.el);this.axis[s].scrollbar.rect=this.axis[s].scrollbar.el.getBoundingClientRect();var a=this.axis[s].scrollbar,c=a.rect[this.axis[s].offsetAttr],l=parseInt(this.elStyles[this.axis[s].sizeAttr],10),u=this.contentWrapperEl[this.axis[s].scrollOffsetAttr],h=s==="y"?this.mouseY-c:this.mouseX-c,f=h<0?-1:1,p=f===-1?u-l:u+l,v=function k(){if(f===-1){if(u>p){var E;u-=i.options.clickOnTrackSpeed,i.contentWrapperEl.scrollTo((E={},E[i.axis[s].offsetAttr]=u,E)),o.requestAnimationFrame(k)}}else if(u<p){var O;u+=i.options.clickOnTrackSpeed,i.contentWrapperEl.scrollTo((O={},O[i.axis[s].offsetAttr]=u,O)),o.requestAnimationFrame(k)}};v()}},t.getContentElement=function(){return this.contentEl},t.getScrollElement=function(){return this.contentWrapperEl},t.getScrollbarWidth=function(){try{return getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:cb(this.el)}catch{return cb(this.el)}},t.removeListeners=function(){var r=this,s=Zr(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(i){r.el.removeEventListener(i,r.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(i){r.el.removeEventListener(i,r.onPointerEvent,{capture:!0,passive:!0})}),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),s.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},t.unMount=function(){this.removeListeners(),e.instances.delete(this.el)},t.isWithinBounds=function(r){return this.mouseX>=r.left&&this.mouseX<=r.left+r.width&&this.mouseY>=r.top&&this.mouseY<=r.top+r.height},t.findChild=function(r,s){var i=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;return Array.prototype.filter.call(r.children,function(o){return i.call(o,s)})[0]},e}();bt.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3};bt.instances=new WeakMap;bt.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(e){e.getAttribute("data-simplebar")!=="init"&&!bt.instances.has(e)&&new bt(e,lh(e.attributes))})};bt.removeObserver=function(){this.globalObserver.disconnect()};bt.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),typeof MutationObserver!="undefined"&&(this.globalObserver=new MutationObserver(bt.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))};bt.handleMutations=function(e){e.forEach(function(t){Array.prototype.forEach.call(t.addedNodes,function(n){n.nodeType===1&&(n.hasAttribute("data-simplebar")?!bt.instances.has(n)&&document.documentElement.contains(n)&&new bt(n,lh(n.attributes)):Array.prototype.forEach.call(n.querySelectorAll("[data-simplebar]"),function(r){r.getAttribute("data-simplebar")!=="init"&&!bt.instances.has(r)&&document.documentElement.contains(r)&&new bt(r,lh(r.attributes))}))}),Array.prototype.forEach.call(t.removedNodes,function(n){n.nodeType===1&&(n.getAttribute("data-simplebar")==="init"?bt.instances.has(n)&&!document.documentElement.contains(n)&&bt.instances.get(n).unMount():Array.prototype.forEach.call(n.querySelectorAll('[data-simplebar="init"]'),function(r){bt.instances.has(r)&&!document.documentElement.contains(r)&&bt.instances.get(r).unMount()}))})})};bt.getOptions=lh;_v&&bt.initHtmlApi();const BH={name:"SimpleBar",mounted(){const e=bt.getOptions(this.$refs.element.attributes);this.SimpleBar=new bt(this.$refs.element,e)},computed:{scrollElement(){return this.$refs.scrollElement},contentElement(){return this.$refs.contentElement}}},jH={ref:"element"},VH={class:"simplebar-wrapper"},WH=F("div",{class:"simplebar-height-auto-observer-wrapper"},[F("div",{class:"simplebar-height-auto-observer"})],-1),zH={class:"simplebar-mask"},HH={class:"simplebar-offset"},YH={class:"simplebar-content-wrapper",ref:"scrollElement"},KH={class:"simplebar-content",ref:"contentElement"},GH=F("div",{class:"simplebar-placeholder"},null,-1),qH=F("div",{class:"simplebar-track simplebar-horizontal"},[F("div",{class:"simplebar-scrollbar"})],-1),XH=F("div",{class:"simplebar-track simplebar-vertical"},[F("div",{class:"simplebar-scrollbar"})],-1);function QH(e,t,n,r,s,i){return Fe(),ot("div",jH,[F("div",VH,[WH,F("div",zH,[F("div",HH,[F("div",YH,[F("div",KH,[Oa(e.$slots,"default")],512)],512)])]),GH]),qH,XH],512)}var JH=Qn(BH,[["render",QH]]),ZH="firebase",eY="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(ZH,eY,"app");var tY=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},se,Uv=Uv||{},ye=tY||self;function uh(){}function Cm(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function qc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function nY(e){return Object.prototype.hasOwnProperty.call(e,ip)&&e[ip]||(e[ip]=++rY)}var ip="closure_uid_"+(1e9*Math.random()>>>0),rY=0;function sY(e,t,n){return e.call.apply(e.bind,arguments)}function iY(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Vt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vt=sY:Vt=iY,Vt.apply(null,arguments)}function Vl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Yt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function Rs(){this.s=this.s,this.o=this.o}var oY=0;Rs.prototype.s=!1;Rs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),oY!=0)&&nY(this)};Rs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DO=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},MO=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,s=typeof e=="string"?e.split(""):e;for(let i=0;i<r;i++)i in s&&t.call(n,s[i],i,e)};function aY(e){e:{var t=JY;const n=e.length,r=typeof e=="string"?e.split(""):e;for(let s=0;s<n;s++)if(s in r&&t.call(void 0,r[s],s,e)){t=s;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function lb(e){return Array.prototype.concat.apply([],arguments)}function Bv(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function hh(e){return/^[\s\xa0]*$/.test(e)}var ub=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function an(e,t){return e.indexOf(t)!=-1}function op(e,t){return e<t?-1:e>t?1:0}var cn;e:{var hb=ye.navigator;if(hb){var fb=hb.userAgent;if(fb){cn=fb;break e}}cn=""}function jv(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function PO(e){const t={};for(const n in e)t[n]=e[n];return t}var db="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NO(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<db.length;i++)n=db[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Vv(e){return Vv[" "](e),e}Vv[" "]=uh;function cY(e){var t=hY;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var lY=an(cn,"Opera"),wo=an(cn,"Trident")||an(cn,"MSIE"),$O=an(cn,"Edge"),km=$O||wo,LO=an(cn,"Gecko")&&!(an(cn.toLowerCase(),"webkit")&&!an(cn,"Edge"))&&!(an(cn,"Trident")||an(cn,"MSIE"))&&!an(cn,"Edge"),uY=an(cn.toLowerCase(),"webkit")&&!an(cn,"Edge");function FO(){var e=ye.document;return e?e.documentMode:void 0}var fh;e:{var ap="",cp=function(){var e=cn;if(LO)return/rv:([^\);]+)(\)|;)/.exec(e);if($O)return/Edge\/([\d\.]+)/.exec(e);if(wo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(uY)return/WebKit\/(\S+)/.exec(e);if(lY)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(cp&&(ap=cp?cp[1]:""),wo){var lp=FO();if(lp!=null&&lp>parseFloat(ap)){fh=String(lp);break e}}fh=ap}var hY={};function fY(){return cY(function(){let e=0;const t=ub(String(fh)).split("."),n=ub("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var s=t[o]||"",i=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s[0].length==0&&i[0].length==0)break;e=op(s[1].length==0?0:parseInt(s[1],10),i[1].length==0?0:parseInt(i[1],10))||op(s[2].length==0,i[2].length==0)||op(s[2],i[2]),s=s[3],i=i[3]}while(e==0)}return 0<=e})}var Am;if(ye.document&&wo){var pb=FO();Am=pb||parseInt(fh,10)||void 0}else Am=void 0;var dY=Am,pY=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ye.addEventListener("test",uh,t),ye.removeEventListener("test",uh,t)}catch{}return e}();function Zt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};function pc(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(LO){e:{try{Vv(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:mY[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&pc.Z.h.call(this)}}Yt(pc,Zt);var mY={2:"touch",3:"pen",4:"mouse"};pc.prototype.h=function(){pc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xc="closure_listenable_"+(1e6*Math.random()|0),gY=0;function vY(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=s,this.key=++gY,this.ca=this.fa=!1}function _f(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function wf(e){this.src=e,this.g={},this.h=0}wf.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=Rm(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new vY(t,this.src,i,!!r,s),t.fa=n,e.push(t)),t};function xm(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=DO(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(_f(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Rm(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return s}return-1}var Wv="closure_lm_"+(1e6*Math.random()|0),up={};function UO(e,t,n,r,s){if(r&&r.once)return jO(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)UO(e,t[i],n,r,s);return null}return n=Yv(n),e&&e[Xc]?e.N(t,n,qc(r)?!!r.capture:!!r,s):BO(e,t,n,!1,r,s)}function BO(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=qc(s)?!!s.capture:!!s,a=Hv(e);if(a||(e[Wv]=a=new wf(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=yY(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)pY||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(WO(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function yY(){function e(n){return t.call(e.src,e.listener,n)}var t=_Y;return e}function jO(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)jO(e,t[i],n,r,s);return null}return n=Yv(n),e&&e[Xc]?e.O(t,n,qc(r)?!!r.capture:!!r,s):BO(e,t,n,!0,r,s)}function VO(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)VO(e,t[i],n,r,s);else r=qc(r)?!!r.capture:!!r,n=Yv(n),e&&e[Xc]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=Rm(i,n,r,s),-1<n&&(_f(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Hv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rm(t,n,r,s)),(n=-1<e?t[e]:null)&&zv(n))}function zv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Xc])xm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(WO(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Hv(t))?(xm(n,e),n.h==0&&(n.src=null,t[Wv]=null)):_f(e)}}}function WO(e){return e in up?up[e]:up[e]="on"+e}function _Y(e,t){if(e.ca)e=!0;else{t=new pc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&zv(e),e=n.call(r,t)}return e}function Hv(e){return e=e[Wv],e instanceof wf?e:null}var hp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yv(e){return typeof e=="function"?e:(e[hp]||(e[hp]=function(t){return e.handleEvent(t)}),e[hp])}function Ft(){Rs.call(this),this.i=new wf(this),this.P=this,this.I=null}Yt(Ft,Rs);Ft.prototype[Xc]=!0;Ft.prototype.removeEventListener=function(e,t,n,r){VO(this,e,t,n,r)};function Wt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Zt(t,e);else if(t instanceof Zt)t.target=t.target||e;else{var s=t;t=new Zt(r,e),NO(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=Wl(o,r,!0,t)&&s}if(o=t.g=e,s=Wl(o,r,!0,t)&&s,s=Wl(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=Wl(o,r,!1,t)&&s}Ft.prototype.M=function(){if(Ft.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)_f(n[r]);delete e.g[t],e.h--}}this.I=null};Ft.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ft.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Wl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&xm(e.i,o),s=a.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Kv=ye.JSON.stringify;function wY(){var e=HO;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class bY{constructor(){this.h=this.g=null}add(t,n){const r=zO.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zO=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new EY,e=>e.reset());class EY{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function SY(e){ye.setTimeout(()=>{throw e},0)}function Gv(e,t){Dm||TY(),Mm||(Dm(),Mm=!0),HO.add(e,t)}var Dm;function TY(){var e=ye.Promise.resolve(void 0);Dm=function(){e.then(IY)}}var Mm=!1,HO=new bY;function IY(){for(var e;e=wY();){try{e.h.call(e.g)}catch(n){SY(n)}var t=zO;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Mm=!1}function bf(e,t){Ft.call(this),this.h=e||1,this.g=t||ye,this.j=Vt(this.kb,this),this.l=Date.now()}Yt(bf,Ft);se=bf.prototype;se.da=!1;se.S=null;se.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wt(this,"tick"),this.da&&(qv(this),this.start()))}};se.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}se.M=function(){bf.Z.M.call(this),qv(this),delete this.g};function Xv(e,t,n){if(typeof e=="function")n&&(e=Vt(e,n));else if(e&&typeof e.handleEvent=="function")e=Vt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ye.setTimeout(e,t||0)}function YO(e){e.g=Xv(()=>{e.g=null,e.i&&(e.i=!1,YO(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class OY extends Rs{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:YO(this)}M(){super.M(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mc(e){Rs.call(this),this.h=e,this.g={}}Yt(mc,Rs);var mb=[];function KO(e,t,n,r){Array.isArray(n)||(n&&(mb[0]=n.toString()),n=mb);for(var s=0;s<n.length;s++){var i=UO(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function GO(e){jv(e.g,function(t,n){this.g.hasOwnProperty(n)&&zv(t)},e),e.g={}}mc.prototype.M=function(){mc.Z.M.call(this),GO(this)};mc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ef(){this.g=!0}Ef.prototype.Aa=function(){this.g=!1};function CY(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function kY(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function Gi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+xY(e,n)+(r?" "+r:"")})}function AY(e,t){e.info(function(){return"TIMEOUT: "+t})}Ef.prototype.info=function(){};function xY(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Kv(n)}catch{return t}}var Ti={},gb=null;function Sf(){return gb=gb||new Ft}Ti.Ma="serverreachability";function qO(e){Zt.call(this,Ti.Ma,e)}Yt(qO,Zt);function gc(e){const t=Sf();Wt(t,new qO(t))}Ti.STAT_EVENT="statevent";function XO(e,t){Zt.call(this,Ti.STAT_EVENT,e),this.stat=t}Yt(XO,Zt);function ln(e){const t=Sf();Wt(t,new XO(t,e))}Ti.Na="timingevent";function QO(e,t){Zt.call(this,Ti.Na,e),this.size=t}Yt(QO,Zt);function Qc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){e()},t)}var Tf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},JO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Qv(){}Qv.prototype.h=null;function vb(e){return e.h||(e.h=e.i())}function ZO(){}var Jc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Jv(){Zt.call(this,"d")}Yt(Jv,Zt);function Zv(){Zt.call(this,"c")}Yt(Zv,Zt);var Pm;function If(){}Yt(If,Qv);If.prototype.g=function(){return new XMLHttpRequest};If.prototype.i=function(){return{}};Pm=new If;function Zc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new mc(this),this.P=RY,e=km?125:void 0,this.W=new bf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new eC}function eC(){this.i=null,this.g="",this.h=!1}var RY=45e3,Nm={},dh={};se=Zc.prototype;se.setTimeout=function(e){this.P=e};function $m(e,t,n){e.K=1,e.v=Cf(zr(t)),e.s=n,e.U=!0,tC(e,null)}function tC(e,t){e.F=Date.now(),el(e),e.A=zr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),cC(n.h,"t",r),e.C=0,n=e.l.H,e.h=new eC,e.g=kC(e.l,n?t:null,!e.s),0<e.O&&(e.L=new OY(Vt(e.Ia,e,e.g),e.O)),KO(e.V,e.g,"readystatechange",e.gb),t=e.H?PO(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),gc(),CY(e.j,e.u,e.A,e.m,e.X,e.s)}se.gb=function(e){e=e.target;const t=this.L;t&&$r(e)==3?t.l():this.Ia(e)};se.Ia=function(e){try{if(e==this.g)e:{const u=$r(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(u!=3||km||this.g&&(this.h.h||this.g.ga()||bb(this.g)))){this.I||u!=4||t==7||(t==8||0>=h?gc(3):gc(2)),Of(this);var n=this.g.ba();this.N=n;t:if(nC(this)){var r=bb(this.g);e="";var s=r.length,i=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){zs(this),Ma(this);var o="";break t}this.h.i=new ye.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,kY(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hh(a)){var l=a;break t}}l=null}if(n=l)Gi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lm(this,n);else{this.i=!1,this.o=3,ln(12),zs(this),Ma(this);break e}}this.U?(rC(this,u,o),km&&this.i&&u==3&&(KO(this.V,this.W,"tick",this.fb),this.W.start())):(Gi(this.j,this.m,o,null),Lm(this,o)),u==4&&zs(this),this.i&&!this.I&&(u==4?TC(this.l,this):(this.i=!1,el(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),zs(this),Ma(this)}}}catch{}finally{}};function nC(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function rC(e,t,n){let r=!0,s;for(;!e.I&&e.C<n.length;)if(s=DY(e,n),s==dh){t==4&&(e.o=4,ln(14),r=!1),Gi(e.j,e.m,null,"[Incomplete Response]");break}else if(s==Nm){e.o=4,ln(15),Gi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Gi(e.j,e.m,s,null),Lm(e,s);nC(e)&&s!=dh&&s!=Nm&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,ln(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cy(t),t.L=!0,ln(11))):(Gi(e.j,e.m,n,"[Invalid Chunked Response]"),zs(e),Ma(e))}se.fb=function(){if(this.g){var e=$r(this.g),t=this.g.ga();this.C<t.length&&(Of(this),rC(this,e,t),this.i&&e!=4&&el(this))}};function DY(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?dh:(n=Number(t.substring(n,r)),isNaN(n)?Nm:(r+=1,r+n>t.length?dh:(t=t.substr(r,n),e.C=r+n,t)))}se.cancel=function(){this.I=!0,zs(this)};function el(e){e.Y=Date.now()+e.P,sC(e,e.P)}function sC(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Qc(Vt(e.eb,e),t)}function Of(e){e.B&&(ye.clearTimeout(e.B),e.B=null)}se.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(AY(this.j,this.A),this.K!=2&&(gc(),ln(17)),zs(this),this.o=2,Ma(this)):sC(this,this.Y-e)};function Ma(e){e.l.G==0||e.I||TC(e.l,e)}function zs(e){Of(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,qv(e.W),GO(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Lm(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Fm(n.i,e))){if(n.I=e.N,!e.J&&Fm(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)vh(n),xf(n);else break e;ay(n),ln(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&n.A==0&&!n.v&&(n.v=Qc(Vt(n.ab,n),6e3));if(1>=hC(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Hs(n,11)}else if((e.J||n.g==e)&&vh(n),!hh(t))for(s=n.Ca.g.parse(t),t=0;t<s.length;t++){let l=s[t];if(n.U=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.J=l[1],n.la=l[2];const u=l[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const h=l[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=e.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=r.i;!i.g&&(an(v,"spdy")||an(v,"quic")||an(v,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(ny(i,i.h),i.h=null))}if(r.D){const k=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(r.sa=k,dt(r.F,r.D,k))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=e;if(r.oa=CC(r,r.H?r.la:null,r.W),o.J){fC(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(Of(a),el(a)),r.g=o}else EC(r);0<n.l.length&&Rf(n)}else l[0]!="stop"&&l[0]!="close"||Hs(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Hs(n,7):oy(n):l[0]!="noop"&&n.j&&n.j.wa(l),n.A=0)}}gc(4)}catch{}}function MY(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Cm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ey(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Cm(e)||typeof e=="string")MO(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Cm(e)||typeof e=="string"){n=[];for(var r=e.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,e)n[r++]=s;r=MY(e),s=r.length;for(var i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}}function zo(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zo)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}se=zo.prototype;se.R=function(){ty(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};se.T=function(){return ty(this),this.g.concat()};function ty(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];li(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var s={};for(n=t=0;t<e.g.length;)r=e.g[t],li(s,r)||(e.g[n++]=r,s[r]=1),t++;e.g.length=n}}se.get=function(e,t){return li(this.h,e)?this.h[e]:t};se.set=function(e,t){li(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};se.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],i=this.get(s);e.call(t,i,s,this)}};function li(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var iC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function PY(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ui(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ui){this.g=t!==void 0?t:e.g,ph(this,e.j),this.s=e.s,mh(this,e.i),gh(this,e.m),this.l=e.l,t=e.h;var n=new vc;n.i=t.i,t.g&&(n.g=new zo(t.g),n.h=t.h),yb(this,n),this.o=e.o}else e&&(n=String(e).match(iC))?(this.g=!!t,ph(this,n[1]||"",!0),this.s=Pa(n[2]||""),mh(this,n[3]||"",!0),gh(this,n[4]),this.l=Pa(n[5]||"",!0),yb(this,n[6]||"",!0),this.o=Pa(n[7]||"")):(this.g=!!t,this.h=new vc(null,this.g))}ui.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_a(t,_b,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(_a(t,_b,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(_a(n,n.charAt(0)=="/"?UY:FY,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_a(n,jY)),e.join("")};function zr(e){return new ui(e)}function ph(e,t,n){e.j=n?Pa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mh(e,t,n){e.i=n?Pa(t,!0):t}function gh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function yb(e,t,n){t instanceof vc?(e.h=t,VY(e.h,e.g)):(n||(t=_a(t,BY)),e.h=new vc(t,e.g))}function dt(e,t,n){e.h.set(t,n)}function Cf(e){return dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function NY(e){return e instanceof ui?zr(e):new ui(e,void 0)}function $Y(e,t,n,r){var s=new ui(null,void 0);return e&&ph(s,e),t&&mh(s,t),n&&gh(s,n),r&&(s.l=r),s}function Pa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _a(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,LY),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function LY(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var _b=/[#\/\?@]/g,FY=/[#\?:]/g,UY=/[#\?]/g,BY=/[#\?@]/g,jY=/#/g;function vc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ds(e){e.g||(e.g=new zo,e.h=0,e.i&&PY(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}se=vc.prototype;se.add=function(e,t){Ds(this),this.i=null,e=Ho(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function oC(e,t){Ds(e),t=Ho(e,t),li(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,li(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ty(e)))}function aC(e,t){return Ds(e),t=Ho(e,t),li(e.g.h,t)}se.forEach=function(e,t){Ds(this),this.g.forEach(function(n,r){MO(n,function(s){e.call(t,s,r,this)},this)},this)};se.T=function(){Ds(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var s=e[r],i=0;i<s.length;i++)n.push(t[r]);return n};se.R=function(e){Ds(this);var t=[];if(typeof e=="string")aC(this,e)&&(t=lb(t,this.g.get(Ho(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=lb(t,e[n])}return t};se.set=function(e,t){return Ds(this),this.i=null,e=Ho(this,e),aC(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};se.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function cC(e,t,n){oC(e,t),0<n.length&&(e.i=null,e.g.set(Ho(e,t),Bv(n)),e.h+=n.length)}se.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],s=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var o=s;r[i]!==""&&(o+="="+encodeURIComponent(String(r[i]))),e.push(o)}}return this.i=e.join("&")};function Ho(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function VY(e,t){t&&!e.j&&(Ds(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(oC(this,r),cC(this,s,n))},e)),e.j=t}var WY=class{constructor(e,t){this.h=e,this.g=t}};function lC(e){this.l=e||zY,ye.PerformanceNavigationTiming?(e=ye.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ye.g&&ye.g.Ea&&ye.g.Ea()&&ye.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zY=10;function uC(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function hC(e){return e.h?1:e.g?e.g.size:0}function Fm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ny(e,t){e.g?e.g.add(t):e.h=t}function fC(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}lC.prototype.cancel=function(){if(this.i=dC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function dC(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Bv(e.i)}function ry(){}ry.prototype.stringify=function(e){return ye.JSON.stringify(e,void 0)};ry.prototype.parse=function(e){return ye.JSON.parse(e,void 0)};function HY(){this.g=new ry}function YY(e,t,n){const r=n||"";try{ey(e,function(s,i){let o=s;qc(s)&&(o=Kv(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function KY(e,t){const n=new Ef;if(ye.Image){const r=new Image;r.onload=Vl(zl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Vl(zl,n,r,"TestLoadImage: error",!1,t),r.onabort=Vl(zl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vl(zl,n,r,"TestLoadImage: timeout",!1,t),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function zl(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function tl(e){this.l=e.$b||null,this.j=e.ib||!1}Yt(tl,Qv);tl.prototype.g=function(){return new kf(this.l,this.j)};tl.prototype.i=function(e){return function(){return e}}({});function kf(e,t){Ft.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt(kf,Ft);var sy=0;se=kf.prototype;se.open=function(e,t){if(this.readyState!=sy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,yc(this)};se.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ye).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nl(this)),this.readyState=sy};se.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,yc(this)),this.g&&(this.readyState=3,yc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ye.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pC(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function pC(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}se.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?nl(this):yc(this),this.readyState==3&&pC(this)}};se.Ua=function(e){this.g&&(this.response=this.responseText=e,nl(this))};se.Ta=function(e){this.g&&(this.response=e,nl(this))};se.ha=function(){this.g&&nl(this)};function nl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,yc(e)}se.setRequestHeader=function(e,t){this.v.append(e,t)};se.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};se.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function yc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(kf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var GY=ye.JSON.parse;function Ot(e){Ft.call(this),this.headers=new zo,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mC,this.K=this.L=!1}Yt(Ot,Ft);var mC="",qY=/^https?$/i,XY=["POST","PUT"];se=Ot.prototype;se.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pm.g(),this.C=this.u?vb(this.u):vb(Pm),this.g.onreadystatechange=Vt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){wb(this,i);return}e=n||"";const s=new zo(this.headers);r&&ey(r,function(i,o){s.set(o,i)}),r=aY(s.T()),n=ye.FormData&&e instanceof ye.FormData,!(0<=DO(XY,t))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yC(this),0<this.B&&((this.K=QY(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.pa,this)):this.A=Xv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){wb(this,i)}};function QY(e){return wo&&fY()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function JY(e){return e.toLowerCase()=="content-type"}se.pa=function(){typeof Uv!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wt(this,"timeout"),this.abort(8))};function wb(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gC(e),Af(e)}function gC(e){e.D||(e.D=!0,Wt(e,"complete"),Wt(e,"error"))}se.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wt(this,"complete"),Wt(this,"abort"),Af(this))};se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Af(this,!0)),Ot.Z.M.call(this)};se.Fa=function(){this.s||(this.F||this.v||this.l?vC(this):this.cb())};se.cb=function(){vC(this)};function vC(e){if(e.h&&typeof Uv!="undefined"&&(!e.C[1]||$r(e)!=4||e.ba()!=2)){if(e.v&&$r(e)==4)Xv(e.Fa,0,e);else if(Wt(e,"readystatechange"),$r(e)==4){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var s=String(e.H).match(iC)[1]||null;if(!s&&ye.self&&ye.self.location){var i=ye.self.location.protocol;s=i.substr(0,i.length-1)}r=!qY.test(s?s.toLowerCase():"")}n=r}if(n)Wt(e,"complete"),Wt(e,"success");else{e.m=6;try{var o=2<$r(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.ba()+"]",gC(e)}}finally{Af(e)}}}}function Af(e,t){if(e.g){yC(e);const n=e.g,r=e.C[0]?uh:null;e.g=null,e.C=null,t||Wt(e,"ready");try{n.onreadystatechange=r}catch{}}}function yC(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ye.clearTimeout(e.A),e.A=null)}function $r(e){return e.g?e.g.readyState:0}se.ba=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}};se.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};se.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),GY(t)}};function bb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case mC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}se.Da=function(){return this.m};se.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function ZY(e){let t="";return jv(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function iy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZY(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):dt(e,t,n))}function fa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _C(e){this.za=0,this.l=[],this.h=new Ef,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fa("baseRetryDelayMs",5e3,e),this.$a=fa("retryDelaySeedMs",1e4,e),this.Ya=fa("forwardChannelMaxRetries",2,e),this.ra=fa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new lC(e&&e.concurrentRequestLimit),this.Ca=new HY,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}se=_C.prototype;se.ma=8;se.G=1;function oy(e){if(wC(e),e.G==3){var t=e.V++,n=zr(e.F);dt(n,"SID",e.J),dt(n,"RID",t),dt(n,"TYPE","terminate"),rl(e,n),t=new Zc(e,e.h,t,void 0),t.K=2,t.v=Cf(zr(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon&&(n=ye.navigator.sendBeacon(t.v.toString(),"")),!n&&ye.Image&&(new Image().src=t.v,n=!0),n||(t.g=kC(t.l,null),t.g.ea(t.v)),t.F=Date.now(),el(t)}OC(e)}se.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function xf(e){e.g&&(cy(e),e.g.cancel(),e.g=null)}function wC(e){xf(e),e.u&&(ye.clearTimeout(e.u),e.u=null),vh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ye.clearTimeout(e.m),e.m=null)}function fp(e,t){e.l.push(new WY(e.Za++,t)),e.G==3&&Rf(e)}function Rf(e){uC(e.i)||e.m||(e.m=!0,Gv(e.Ha,e),e.C=0)}function eK(e,t){return hC(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Qc(Vt(e.Ha,e,t),IC(e,e.C)),e.C++,!0)}se.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const s=new Zc(this,this.h,e,void 0);let i=this.s;if(this.P&&(i?(i=PO(i),NO(i,this.P)):i=this.P),this.o===null&&(s.H=i),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=bC(this,s,t),n=zr(this.F),dt(n,"RID",e),dt(n,"CVER",22),this.D&&dt(n,"X-HTTP-Session-Id",this.D),rl(this,n),this.o&&i&&iy(n,this.o,i),ny(this.i,s),this.Ra&&dt(n,"TYPE","init"),this.ja?(dt(n,"$req",t),dt(n,"SID","null"),s.$=!0,$m(s,n,null)):$m(s,n,t),this.G=2}}else this.G==3&&(e?Eb(this,e):this.l.length==0||uC(this.i)||Eb(this))};function Eb(e,t){var n;t?n=t.m:n=e.V++;const r=zr(e.F);dt(r,"SID",e.J),dt(r,"RID",n),dt(r,"AID",e.U),rl(e,r),e.o&&e.s&&iy(r,e.o,e.s),n=new Zc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=bC(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ny(e.i,n),$m(n,r,t)}function rl(e,t){e.j&&ey({},function(n,r){dt(t,r,n)})}function bC(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Vt(e.j.Oa,e.j,e):null;e:{var s=e.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=s[c].h;const u=s[c].g;if(l-=i,0>l)i=Math.max(0,s[c].h-100),a=!1;else try{YY(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function EC(e){e.g||e.u||(e.Y=1,Gv(e.Ga,e),e.A=0)}function ay(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Qc(Vt(e.Ga,e),IC(e,e.A)),e.A++,!0)}se.Ga=function(){if(this.u=null,SC(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Qc(Vt(this.bb,this),e)}};se.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ln(10),xf(this),SC(this))};function cy(e){e.B!=null&&(ye.clearTimeout(e.B),e.B=null)}function SC(e){e.g=new Zc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=zr(e.oa);dt(t,"RID","rpc"),dt(t,"SID",e.J),dt(t,"CI",e.N?"0":"1"),dt(t,"AID",e.U),rl(e,t),dt(t,"TYPE","xmlhttp"),e.o&&e.s&&iy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Cf(zr(t)),n.s=null,n.U=!0,tC(n,e)}se.ab=function(){this.v!=null&&(this.v=null,xf(this),ay(this),ln(19))};function vh(e){e.v!=null&&(ye.clearTimeout(e.v),e.v=null)}function TC(e,t){var n=null;if(e.g==t){vh(e),cy(e),e.g=null;var r=2}else if(Fm(e.i,t))n=t.D,fC(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var s=e.C;r=Sf(),Wt(r,new QO(r,n)),Rf(e)}else EC(e);else if(s=t.o,s==3||s==0&&0<e.I||!(r==1&&eK(e,t)||r==2&&ay(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Hs(e,5);break;case 4:Hs(e,10);break;case 3:Hs(e,6);break;default:Hs(e,2)}}}function IC(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Hs(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Vt(e.jb,e);n||(n=new ui("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||ph(n,"https"),Cf(n)),KY(n.toString(),r)}else ln(2);e.G=0,e.j&&e.j.va(t),OC(e),wC(e)}se.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ln(2)):(this.h.info("Failed to ping google.com"),ln(1))};function OC(e){e.G=0,e.I=-1,e.j&&((dC(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Bv(e.l),e.l.length=0),e.j.ua())}function CC(e,t,n){let r=NY(n);if(r.i!="")t&&mh(r,t+"."+r.i),gh(r,r.m);else{const s=ye.location;r=$Y(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,n)}return e.aa&&jv(e.aa,function(s,i){dt(r,i,s)}),t=e.D,n=e.sa,t&&n&&dt(r,t,n),dt(r,"VER",e.ma),rl(e,r),r}function kC(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ot(new tl({ib:!0})):new Ot(e.qa),t.L=e.H,t}function AC(){}se=AC.prototype;se.xa=function(){};se.wa=function(){};se.va=function(){};se.ua=function(){};se.Oa=function(){};function yh(){if(wo&&!(10<=Number(dY)))throw Error("Environmental error: no available transport.")}yh.prototype.g=function(e,t){return new On(e,t)};function On(e,t){Ft.call(this),this.g=new _C(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!hh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!hh(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Yo(this)}Yt(On,Ft);On.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Gv(Vt(e.hb,e,t))),ln(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=CC(e,null,e.W),Rf(e)};On.prototype.close=function(){oy(this.g)};On.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,fp(this.g,t)}else this.v?(t={},t.__data__=Kv(e),fp(this.g,t)):fp(this.g,e)};On.prototype.M=function(){this.g.j=null,delete this.j,oy(this.g),delete this.g,On.Z.M.call(this)};function xC(e){Jv.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Yt(xC,Jv);function RC(){Zv.call(this),this.status=1}Yt(RC,Zv);function Yo(e){this.g=e}Yt(Yo,AC);Yo.prototype.xa=function(){Wt(this.g,"a")};Yo.prototype.wa=function(e){Wt(this.g,new xC(e))};Yo.prototype.va=function(e){Wt(this.g,new RC)};Yo.prototype.ua=function(){Wt(this.g,"b")};yh.prototype.createWebChannel=yh.prototype.g;On.prototype.send=On.prototype.u;On.prototype.open=On.prototype.m;On.prototype.close=On.prototype.close;Tf.NO_ERROR=0;Tf.TIMEOUT=8;Tf.HTTP_ERROR=6;JO.COMPLETE="complete";ZO.EventType=Jc;Jc.OPEN="a";Jc.CLOSE="b";Jc.ERROR="c";Jc.MESSAGE="d";Ft.prototype.listen=Ft.prototype.N;Ot.prototype.listenOnce=Ot.prototype.O;Ot.prototype.getLastError=Ot.prototype.La;Ot.prototype.getLastErrorCode=Ot.prototype.Da;Ot.prototype.getStatus=Ot.prototype.ba;Ot.prototype.getResponseJson=Ot.prototype.Qa;Ot.prototype.getResponseText=Ot.prototype.ga;Ot.prototype.send=Ot.prototype.ea;var tK=function(){return new yh},nK=function(){return Sf()},dp=Tf,rK=JO,sK=Ti,Sb={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},iK=tl,Hl=ZO,oK=Ot;const Tb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new tg("@firebase/firestore");function Ib(){return Es.logLevel}function aK(e){Es.setLogLevel(e)}function he(e,...t){if(Es.logLevel<=Ye.DEBUG){const n=t.map(ly);Es.debug(`Firestore (${Ko}): ${e}`,...n)}}function Ss(e,...t){if(Es.logLevel<=Ye.ERROR){const n=t.map(ly);Es.error(`Firestore (${Ko}): ${e}`,...n)}}function Um(e,...t){if(Es.logLevel<=Ye.WARN){const n=t.map(ly);Es.warn(`Firestore (${Ko}): ${e}`,...n)}}function ly(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(e="Unexpected state"){const t=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+e;throw Ss(t),new Error(t)}function at(e,t){e||be()}function Ee(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Cs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class lK{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uK{constructor(t){this.t=t,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gs,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;t.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gs)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string"),new DC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return at(t===null||typeof t=="string"),new Kt(t)}}class hK{constructor(t,n,r){this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const s=t.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class fK{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new hK(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dK{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pK{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,n){const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.p;return this.p=i.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(at(typeof n.token=="string"),this.p=n.token,new dK(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=mK(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function Qe(e,t){return e<t?-1:e>t?1:0}function bo(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return At.fromMillis(Date.now())}static fromDate(t){return At.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new At(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qe(this.nanoseconds,t.nanoseconds):Qe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.timestamp=t}static fromTimestamp(t){return new xe(t)}static min(){return new xe(new At(0,0))}static max(){return new xe(new At(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n,r){n===void 0?n=0:n>t.length&&be(),r===void 0?r=t.length-n:r>t.length-n&&be(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return _c.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof _c?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class lt extends _c{construct(t,n,r){return new lt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ie($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const gK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends _c{construct(t,n,r){return new qt(t,n,r)}static isValidIdentifier(t){return gK.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new ie($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ie($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ie($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.path=t}static fromPath(t){return new pe(lt.fromString(t))}static fromName(t){return new pe(lt.fromString(t).popFirst(5))}static empty(){return new pe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&lt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return lt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pe(new lt(t.slice()))}}function vK(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new Ts(s,pe.empty(),t)}function yK(e){return new Ts(e.readTime,e.key,-1)}class Ts{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ts(xe.min(),pe.empty(),-1)}static max(){return new Ts(xe.max(),pe.empty(),-1)}}function _K(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=pe.comparator(e.documentKey,t.documentKey),n!==0?n:Qe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(e){if(e.code!==$.FAILED_PRECONDITION||e.message!==wK)throw e;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):W.reject(n)}static resolve(t){return new W((n,r)=>{n(t)})}static reject(t){return new W((n,r)=>{r(t)})}static waitFor(t){return new W((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(t){let n=W.resolve(!1);for(const r of t)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new W((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(t[l]).next(u=>{o[l]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(t,n){return new W((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function il(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ii(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function PC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uy.ot=-1;class Dt{constructor(t,n){this.comparator=t,this.root=n||Bt.EMPTY}insert(t,n){return new Dt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(t){return new Dt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yl(this.root,t,this.comparator,!0)}}class Yl{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Bt{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r!=null?r:Bt.RED,this.left=s!=null?s:Bt.EMPTY,this.right=i!=null?i:Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Bt(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,s!=null?s:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const t=this.left.check();if(t!==this.right.check())throw be();return t+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,n,r,s){return this}insert(e,t,n){return new Bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.comparator=t,this.data=new Dt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cb(this.data.getIterator())}getIteratorFrom(t){return new Cb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof xt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new xt(this.comparator);return n.data=t,n}}class Cb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.fields=t,t.sort(qt.comparator)}static empty(){return new Dn([])}unionWith(t){let n=new xt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Dn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return bo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new Ht(n)}static fromUint8Array(t){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(t);return new Ht(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const EK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(e){if(at(!!e),typeof e=="string"){let t=0;const n=EK.exec(e);if(at(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:It(e.seconds),nanos:It(e.nanos)}}function It(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Eo(e){return typeof e=="string"?Ht.fromBase64String(e):Ht.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $C(e){const t=e.mapValue.fields.__previous_value__;return NC(t)?$C(t):t}function wc(e){const t=Is(e.mapValue.fields.__local_write_time__.timestampValue);return new At(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(t,n,r,s,i,o,a,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class So{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new So("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof So&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(e){return e==null}function _h(e){return e===0&&1/e==-1/0}function TK(e){return typeof e=="number"&&Number.isInteger(e)&&!_h(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?NC(e)?4:IK(e)?9007199254740991:10:be()}function yr(e,t){if(e===t)return!0;const n=hi(e);if(n!==hi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wc(e).isEqual(wc(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Is(r.timestampValue),o=Is(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Eo(r.bytesValue).isEqual(Eo(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return It(r.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(r.geoPointValue.longitude)===It(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return It(r.integerValue)===It(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=It(r.doubleValue),o=It(s.doubleValue);return i===o?_h(i)===_h(o):isNaN(i)&&isNaN(o)}return!1}(e,t);case 9:return bo(e.arrayValue.values||[],t.arrayValue.values||[],yr);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(Ob(i)!==Ob(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!yr(i[a],o[a])))return!1;return!0}(e,t);default:return be()}}function bc(e,t){return(e.values||[]).find(n=>yr(n,t))!==void 0}function To(e,t){if(e===t)return 0;const n=hi(e),r=hi(t);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(e.booleanValue,t.booleanValue);case 2:return function(s,i){const o=It(s.integerValue||s.doubleValue),a=It(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return kb(e.timestampValue,t.timestampValue);case 4:return kb(wc(e),wc(t));case 5:return Qe(e.stringValue,t.stringValue);case 6:return function(s,i){const o=Eo(s),a=Eo(i);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=Qe(o[c],a[c]);if(l!==0)return l}return Qe(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,i){const o=Qe(It(s.latitude),It(i.latitude));return o!==0?o:Qe(It(s.longitude),It(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=To(o[c],a[c]);if(l)return l}return Qe(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,i){if(s===Kl.mapValue&&i===Kl.mapValue)return 0;if(s===Kl.mapValue)return 1;if(i===Kl.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),c=i.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const h=Qe(a[u],l[u]);if(h!==0)return h;const f=To(o[a[u]],c[l[u]]);if(f!==0)return f}return Qe(a.length,l.length)}(e.mapValue,t.mapValue);default:throw be()}}function kb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qe(e,t);const n=Is(e),r=Is(t),s=Qe(n.seconds,r.seconds);return s!==0?s:Qe(n.nanos,r.nanos)}function co(e){return Bm(e)}function Bm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const s=Is(r);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Eo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pe.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=Bm(o);return s+"]"}(e.arrayValue):"mapValue"in e?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${Bm(r.fields[a])}`;return i+"}"}(e.mapValue):be();var t,n}function Ab(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function jm(e){return!!e&&"integerValue"in e}function hy(e){return!!e&&"arrayValue"in e}function xb(e){return!!e&&"nullValue"in e}function Rb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Tu(e){return!!e&&"mapValue"in e}function Na(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ii(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Na(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Na(e.arrayValue.values[n]);return t}return Object.assign({},e)}function IK(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Tu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Na(n)}setAll(t){let n=qt.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Na(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Tu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return yr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Tu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Ii(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new vn(Na(this.value))}}function LC(e){const t=[];return Ii(e.fields,(n,r)=>{const s=new qt([n]);if(Tu(r)){const i=LC(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new Dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t,n,r,s,i,o){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.data=i,this.documentState=o}static newInvalidDocument(t){return new jt(t,0,xe.min(),xe.min(),vn.empty(),0)}static newFoundDocument(t,n,r){return new jt(t,1,n,xe.min(),r,0)}static newNoDocument(t,n){return new jt(t,2,n,xe.min(),vn.empty(),0)}static newUnknownDocument(t,n){return new jt(t,3,n,xe.min(),vn.empty(),2)}convertToFoundDocument(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof jt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ut=null}}function Db(e,t=null,n=[],r=[],s=null,i=null,o=null){return new OK(e,t,n,r,s,i,o)}function fy(e){const t=Ee(e);if(t.ut===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+co(s.value);var s}).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Df(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>co(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>co(r)).join(",")),t.ut=n}return t.ut}function CK(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${co(r.value)}`;var r}).join(", ")}]`),Df(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>co(n)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>co(n)).join(",")),`Target(${t})`}function dy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!NK(e.orderBy[s],t.orderBy[s]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if(n=e.filters[s],r=t.filters[s],n.op!==r.op||!n.field.isEqual(r.field)||!yr(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pb(e.startAt,t.startAt)&&Pb(e.endAt,t.endAt)}function Vm(e){return pe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class un extends class{}{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.ct(t,n,r):new kK(t,n,r):n==="array-contains"?new RK(t,r):n==="in"?new DK(t,r):n==="not-in"?new MK(t,r):n==="array-contains-any"?new PK(t,r):new un(t,n,r)}static ct(t,n,r){return n==="in"?new AK(t,r):new xK(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.at(To(n,this.value)):n!==null&&hi(this.value)===hi(n)&&this.at(To(n,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return be()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class kK extends un{constructor(t,n,r){super(t,n,r),this.key=pe.fromName(r.referenceValue)}matches(t){const n=pe.comparator(t.key,this.key);return this.at(n)}}class AK extends un{constructor(t,n){super(t,"in",n),this.keys=FC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class xK extends un{constructor(t,n){super(t,"not-in",n),this.keys=FC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function FC(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class RK extends un{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return hy(n)&&bc(n.arrayValue,this.value)}}class DK extends un{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&bc(this.value.arrayValue,n)}}class MK extends un{constructor(t,n){super(t,"not-in",n)}matches(t){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!bc(this.value.arrayValue,n)}}class PK extends un{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bc(this.value.arrayValue,r))}}class wh{constructor(t,n){this.position=t,this.inclusive=n}}class $a{constructor(t,n="asc"){this.field=t,this.dir=n}}function NK(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Mb(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=To(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!yr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.lt=null,this.ft=null,this.startAt,this.endAt}}function $K(e,t,n,r,s,i,o,a){return new ol(e,t,n,r,s,i,o,a)}function py(e){return new ol(e)}function LK(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function UC(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function BC(e){for(const t of e.filters)if(t.ht())return t.field;return null}function jC(e){return e.collectionGroup!==null}function Ec(e){const t=Ee(e);if(t.lt===null){t.lt=[];const n=BC(t),r=UC(t);if(n!==null&&r===null)n.isKeyField()||t.lt.push(new $a(n)),t.lt.push(new $a(qt.keyField(),"asc"));else{let s=!1;for(const i of t.explicitOrderBy)t.lt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new $a(qt.keyField(),i))}}}return t.lt}function fi(e){const t=Ee(e);if(!t.ft)if(t.limitType==="F")t.ft=Db(t.path,t.collectionGroup,Ec(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const i of Ec(t)){const o=i.dir==="desc"?"asc":"desc";n.push(new $a(i.field,o))}const r=t.endAt?new wh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new wh(t.startAt.position,t.startAt.inclusive):null;t.ft=Db(t.path,t.collectionGroup,n,t.filters,t.limit,r,s)}return t.ft}function FK(e,t,n){return new ol(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mf(e,t){return dy(fi(e),fi(t))&&e.limitType===t.limitType}function VC(e){return`${fy(fi(e))}|lt:${e.limitType}`}function Wm(e){return`Query(target=${CK(fi(e))}; limitType=${e.limitType})`}function my(e,t){return t.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):pe.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,t)&&function(n,r){for(const s of n.explicitOrderBy)if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=Mb(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,Ec(n),r)||n.endAt&&!function(s,i,o){const a=Mb(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,Ec(n),r))}(e,t)}function UK(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function WC(e){return(t,n)=>{let r=!1;for(const s of Ec(e)){const i=BK(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function BK(e,t,n){const r=e.field.isKeyField()?pe.comparator(t.key,n.key):function(s,i,o){const a=i.data.field(s),c=o.data.field(s);return a!==null&&c!==null?To(a,c):be()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(t)?"-0":t}}function HC(e){return{integerValue:""+e}}function jK(e,t){return TK(t)?HC(t):zC(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function VK(e,t,n){return e instanceof Sc?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,t):e instanceof Tc?KC(e,t):e instanceof Ic?GC(e,t):function(r,s){const i=YC(r,s),o=Nb(i)+Nb(r._t);return jm(i)&&jm(r._t)?HC(o):zC(r.wt,o)}(e,t)}function WK(e,t,n){return e instanceof Tc?KC(e,t):e instanceof Ic?GC(e,t):n}function YC(e,t){return e instanceof bh?jm(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class Sc extends Pf{}class Tc extends Pf{constructor(t){super(),this.elements=t}}function KC(e,t){const n=qC(t);for(const r of e.elements)n.some(s=>yr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ic extends Pf{constructor(t){super(),this.elements=t}}function GC(e,t){let n=qC(t);for(const r of e.elements)n=n.filter(s=>!yr(s,r));return{arrayValue:{values:n}}}class bh extends Pf{constructor(t,n){super(),this.wt=t,this._t=n}}function Nb(e){return It(e.integerValue||e.doubleValue)}function qC(e){return hy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(t,n){this.field=t,this.transform=n}}function HK(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Tc&&r instanceof Tc||n instanceof Ic&&r instanceof Ic?bo(n.elements,r.elements,yr):n instanceof bh&&r instanceof bh?yr(n._t,r._t):n instanceof Sc&&r instanceof Sc}(e.transform,t.transform)}class YK{constructor(t,n){this.version=t,this.transformResults=n}}class pr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new pr}static exists(t){return new pr(void 0,t)}static updateTime(t){return new pr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Iu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Nf{}function XC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new JC(e.key,pr.none()):new al(e.key,e.data,pr.none());{const n=e.data,r=vn.empty();let s=new xt(qt.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ms(e.key,r,new Dn(s.toArray()),pr.none())}}function KK(e,t,n){e instanceof al?function(r,s,i){const o=r.value.clone(),a=Lb(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ms?function(r,s,i){if(!Iu(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=Lb(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(QC(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(e,t,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,n)}function La(e,t,n,r){return e instanceof al?function(s,i,o,a){if(!Iu(s.precondition,i))return o;const c=s.value.clone(),l=Fb(s.fieldTransforms,a,i);return c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ms?function(s,i,o,a){if(!Iu(s.precondition,i))return o;const c=Fb(s.fieldTransforms,a,i),l=i.data;return l.setAll(QC(s)),l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(e,t,n,r):function(s,i,o){return Iu(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(e,t,n)}function GK(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=YC(r.transform,s||null);i!=null&&(n===null&&(n=vn.empty()),n.set(r.field,i))}return n||null}function $b(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&bo(n,r,(s,i)=>HK(s,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class al extends Nf{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ms extends Nf{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function QC(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Lb(e,t,n){const r=new Map;at(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,WK(o,a,n[s]))}return r}function Fb(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,VK(i,o,t))}return r}class JC extends Nf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qK extends Nf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Be;function QK(e){switch(e){default:return be();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function ZC(e){if(e===void 0)return Ss("GRPC error has no .code"),$.UNKNOWN;switch(e){case Tt.OK:return $.OK;case Tt.CANCELLED:return $.CANCELLED;case Tt.UNKNOWN:return $.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return $.INTERNAL;case Tt.UNAVAILABLE:return $.UNAVAILABLE;case Tt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Tt.NOT_FOUND:return $.NOT_FOUND;case Tt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Tt.ABORTED:return $.ABORTED;case Tt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Tt.DATA_LOSS:return $.DATA_LOSS;default:return be()}}(Be=Tt||(Tt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ii(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return PC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK=new Dt(pe.comparator);function Hr(){return JK}const ek=new Dt(pe.comparator);function wa(...e){let t=ek;for(const n of e)t=t.insert(n.key,n);return t}function tk(e){let t=ek;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ys(){return Fa()}function nk(){return Fa()}function Fa(){return new Go(e=>e.toString(),(e,t)=>e.isEqual(t))}const ZK=new Dt(pe.comparator),eG=new xt(pe.comparator);function Ue(...e){let t=eG;for(const n of e)t=t.add(n);return t}const tG=new xt(Qe);function rk(){return tG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n){const r=new Map;return r.set(t,cl.createSynthesizedTargetChangeForCurrentChange(t,n)),new $f(xe.min(),r,rk(),Hr(),Ue())}}class cl{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n){return new cl(Ht.EMPTY_BYTE_STRING,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t,n,r,s){this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=s}}class sk{constructor(t,n){this.targetId=t,this.It=n}}class ik{constructor(t,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ub{constructor(){this.Tt=0,this.Et=jb(),this.At=Ht.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Ue(),n=Ue(),r=Ue();return this.Et.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:be()}}),new cl(this.At,this.Rt,t,n,r)}Dt(){this.bt=!1,this.Et=jb()}Ct(t,n){this.bt=!0,this.Et=this.Et.insert(t,n)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class nG{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=Hr(),this.Bt=Bb(),this.Lt=new xt(Qe)}Ut(t){for(const n of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(n,t.yt):this.Kt(n,t.key,t.yt);for(const n of t.removedTargetIds)this.Kt(n,t.key,t.yt)}Gt(t){this.forEachTarget(t,n=>{const r=this.Qt(n);switch(t.state){case 0:this.jt(n)&&r.Vt(t.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(t.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Ot(),r.Vt(t.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(t.resumeToken));break;default:be()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ft.forEach((r,s)=>{this.jt(s)&&n(s)})}zt(t){const n=t.targetId,r=t.It.count,s=this.Ht(n);if(s){const i=s.target;if(Vm(i))if(r===0){const o=new pe(i.path);this.Kt(n,o,jt.newNoDocument(o,xe.min()))}else at(r===1);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(t){const n=new Map;this.Ft.forEach((i,o)=>{const a=this.Ht(o);if(a){if(i.current&&Vm(a.target)){const c=new pe(a.target.path);this.$t.get(c)!==null||this.Xt(o,c)||this.Kt(o,c,jt.newNoDocument(c,t))}i.vt&&(n.set(o,i.St()),i.Dt())}});let r=Ue();this.Bt.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ht(c);return!l||l.purpose===2||(a=!1,!1)}),a&&(r=r.add(i))}),this.$t.forEach((i,o)=>o.setReadTime(t));const s=new $f(t,n,this.Lt,this.$t,r);return this.$t=Hr(),this.Bt=Bb(),this.Lt=new xt(Qe),s}qt(t,n){if(!this.jt(t))return;const r=this.Xt(t,n.key)?2:0;this.Qt(t).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(t))}Kt(t,n,r){if(!this.jt(t))return;const s=this.Qt(t);this.Xt(t,n)?s.Ct(n,1):s.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(t)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(t){this.Ft.delete(t)}Jt(t){const n=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let n=this.Ft.get(t);return n||(n=new Ub,this.Ft.set(t,n)),n}Zt(t){let n=this.Bt.get(t);return n||(n=new xt(Qe),this.Bt=this.Bt.insert(t,n)),n}jt(t){const n=this.Ht(t)!==null;return n||he("WatchChangeAggregator","Detected inactive target",t),n}Ht(t){const n=this.Ft.get(t);return n&&n.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new Ub),this.Mt.getRemoteKeysForTarget(t).forEach(n=>{this.Kt(t,n,null)})}Xt(t,n){return this.Mt.getRemoteKeysForTarget(t).has(n)}}function Bb(){return new Dt(pe.comparator)}function jb(){return new Dt(pe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),sG=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class iG{constructor(t,n){this.databaseId=t,this.dt=n}}function Eh(e,t){return e.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ok(e,t){return e.dt?t.toBase64():t.toUint8Array()}function oG(e,t){return Eh(e,t.toTimestamp())}function Fr(e){return at(!!e),xe.fromTimestamp(function(t){const n=Is(t);return new At(n.seconds,n.nanos)}(e))}function gy(e,t){return function(n){return new lt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function ak(e){const t=lt.fromString(e);return at(uk(t)),t}function zm(e,t){return gy(e.databaseId,t.path)}function pp(e,t){const n=ak(t);if(n.get(1)!==e.databaseId.projectId)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pe(ck(n))}function Hm(e,t){return gy(e.databaseId,t)}function aG(e){const t=ak(e);return t.length===4?lt.emptyPath():ck(t)}function Ym(e){return new lt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ck(e){return at(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Vb(e,t,n){return{name:zm(e,t),fields:n.value.mapValue.fields}}function cG(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:be()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(c,l){return c.dt?(at(l===void 0||typeof l=="string"),Ht.fromBase64String(l||"")):(at(l===void 0||l instanceof Uint8Array),Ht.fromUint8Array(l||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const l=c.code===void 0?$.UNKNOWN:ZC(c.code);return new ie(l,c.message||"")}(o);n=new ik(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=pp(e,r.document.name),i=Fr(r.document.updateTime),o=new vn({mapValue:{fields:r.document.fields}}),a=jt.newFoundDocument(s,i,o),c=r.targetIds||[],l=r.removedTargetIds||[];n=new Ou(c,l,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=pp(e,r.document),i=r.readTime?Fr(r.readTime):xe.min(),o=jt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ou([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=pp(e,r.document),i=r.removedTargetIds||[];n=new Ou([],i,s,null)}else{if(!("filter"in t))return be();{t.filter;const r=t.filter;r.targetId;const s=r.count||0,i=new XK(s),o=r.targetId;n=new sk(o,i)}}return n}function lG(e,t){let n;if(t instanceof al)n={update:Vb(e,t.key,t.value)};else if(t instanceof JC)n={delete:zm(e,t.key)};else if(t instanceof Ms)n={update:Vb(e,t.key,t.data),updateMask:_G(t.fieldMask)};else{if(!(t instanceof qK))return be();n={verify:zm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof Sc)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Tc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ic)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof bh)return{fieldPath:i.field.canonicalString(),increment:o._t};throw be()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:oG(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:be()}(e,t.precondition)),n}function uG(e,t){return e&&e.length>0?(at(t!==void 0),e.map(n=>function(r,s){let i=r.updateTime?Fr(r.updateTime):Fr(s);return i.isEqual(xe.min())&&(i=Fr(s)),new YK(i,r.transformResults||[])}(n,t))):[]}function hG(e,t){return{documents:[Hm(e,t.path)]}}function fG(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Hm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Hm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(c){if(c.length===0)return;const l=c.map(u=>function(h){if(h.op==="=="){if(Rb(h.value))return{unaryFilter:{field:Fi(h.field),op:"IS_NAN"}};if(xb(h.value))return{unaryFilter:{field:Fi(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Rb(h.value))return{unaryFilter:{field:Fi(h.field),op:"IS_NOT_NAN"}};if(xb(h.value))return{unaryFilter:{field:Fi(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fi(h.field),op:gG(h.op),value:h.value}}}(u));return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}(t.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(l=>function(u){return{field:Fi(u.field),direction:mG(u.dir)}}(l))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(c,l){return c.dt||Df(l)?l:{value:l}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),n}function dG(e){let t=aG(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){at(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=lk(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new $a(qi(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Df(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(u){const h=!!u.before,f=u.values||[];return new wh(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(u){const h=!u.before,f=u.values||[];return new wh(f,h)}(n.endAt)),$K(t,s,o,i,a,"F",c,l)}function pG(e,t){const n=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return be()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function lk(e){return e?e.unaryFilter!==void 0?[yG(e)]:e.fieldFilter!==void 0?[vG(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(t=>lk(t)).reduce((t,n)=>t.concat(n)):be():[]}function mG(e){return rG[e]}function gG(e){return sG[e]}function Fi(e){return{fieldPath:e.canonicalString()}}function qi(e){return qt.fromServerFormat(e.fieldPath)}function vG(e){return un.create(qi(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(e.fieldFilter.op),e.fieldFilter.value)}function yG(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qi(e.unaryFilter.field);return un.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=qi(e.unaryFilter.field);return un.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qi(e.unaryFilter.field);return un.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qi(e.unaryFilter.field);return un.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}function _G(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function uk(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&KK(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=La(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=La(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=nk();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=XC(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ue())}isEqual(t){return this.batchId===t.batchId&&bo(this.mutations,t.mutations,(n,r)=>$b(n,r))&&bo(this.baseMutations,t.baseMutations,(n,r)=>$b(n,r))}}class vy{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){at(t.mutations.length===r.length);let s=ZK;const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new vy(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t,n,r,s,i=xe.min(),o=xe.min(),a=Ht.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new ni(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(t){this.ne=t}}function SG(e){const t=dG({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?FK(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(){this.ze=new IG}addToCollectionParentIndex(t,n){return this.ze.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.ze.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Ts.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Ts.min())}updateCollectionGroup(t,n,r){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class IG{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new xt(lt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new xt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Io(0)}static Rn(){return new Io(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this.changes=new Go(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,jt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.getBaseDocument(t,n,r))).next(s=>(r!==null&&La(r.mutation,s,Dn.empty(),At.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ue()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ue()){const s=Ys();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=wa();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Ys();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ue()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=Hr();const o=Fa(),a=Fa();return n.forEach((c,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof Ms)?i=i.insert(l.key,l):u!==void 0&&(o.set(l.key,u.mutation.getFieldMask()),La(u.mutation,l,u.mutation.getFieldMask(),At.now()))}),this.recalculateAndSaveOverlays(t,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new CG(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Fa();let s=new Dt((o,a)=>o-a),i=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||Dn.empty();u=a.applyToLocalView(l,u),r.set(c,u);const h=(s.get(a.batchId)||Ue()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=nk();u.forEach(f=>{if(!i.has(f)){const p=XC(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,h))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):jC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):W.resolve(Ys());let a=-1,c=i;return o.next(l=>W.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?W.resolve():this.getBaseDocument(t,u,h).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(t,l,i)).next(()=>this.computeViews(t,c,l,Ue())).next(u=>({batchId:a,changes:tk(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pe(n)).next(r=>{let s=wa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const s=n.collectionGroup;let i=wa();return this.indexManager.getCollectionParents(t,s).next(o=>W.forEach(o,a=>{const c=function(l,u){return new ol(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r).next(l=>{l.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,n,r){let s;return this.remoteDocumentCache.getAllFromCollection(t,n.path,r).next(i=>(s=i,this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId))).next(i=>{i.forEach((a,c)=>{const l=c.getKey();s.get(l)===null&&(s=s.insert(l,jt.newInvalidDocument(l)))});let o=wa();return s.forEach((a,c)=>{const l=i.get(a);l!==void 0&&La(l.mutation,c,Dn.empty(),At.now()),my(n,c)&&(o=o.insert(a,c))}),o})}getBaseDocument(t,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(t,n):W.resolve(jt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,n){return W.resolve(this.Jn.get(n))}saveBundleMetadata(t,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:Fr(r.createTime)}),W.resolve()}getNamedQuery(t,n){return W.resolve(this.Yn.get(n))}saveNamedQuery(t,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:SG(r.bundledQuery),readTime:Fr(r.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(){this.overlays=new Dt(pe.comparator),this.Xn=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ys();return W.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.ie(t,n,i)}),W.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Xn.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Xn.delete(r)),W.resolve()}getOverlaysForCollection(t,n,r){const s=Ys(),i=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return W.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Dt((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=Ys(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Ys(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return W.resolve(a)}ie(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Xn.get(s.largestBatchId).delete(r.key);this.Xn.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bG(n,r));let i=this.Xn.get(n);i===void 0&&(i=Ue(),this.Xn.set(n,i)),this.Xn.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.Zn=new xt(Pt.ts),this.es=new xt(Pt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,n){const r=new Pt(t,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.rs(new Pt(t,n))}os(t,n){t.forEach(r=>this.removeReference(r,n))}us(t){const n=new pe(new lt([])),r=new Pt(n,t),s=new Pt(n,t+1),i=[];return this.es.forEachInRange([r,s],o=>{this.rs(o),i.push(o.key)}),i}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const n=new pe(new lt([])),r=new Pt(n,t),s=new Pt(n,t+1);let i=Ue();return this.es.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new Pt(t,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Pt{constructor(t,n){this.key=t,this.ls=n}static ts(t,n){return pe.comparator(t.key,n.key)||Qe(t.ls,n.ls)}static ns(t,n){return Qe(t.ls,n.ls)||pe.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new xt(Pt.ts)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wG(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.ds=this.ds.add(new Pt(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(t,n){return W.resolve(this._s(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.ws(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Pt(n,0),s=new Pt(n,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([r,s],o=>{const a=this._s(o.ls);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new xt(Qe);return n.forEach(s=>{const i=new Pt(s,0),o=new Pt(s,Number.POSITIVE_INFINITY);this.ds.forEachInRange([i,o],a=>{r=r.add(a.ls)})}),W.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;pe.isDocumentKey(i)||(i=i.child(""));const o=new Pt(new pe(i),0);let a=new xt(Qe);return this.ds.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.ls)),!0)},o),W.resolve(this.gs(a))}gs(t){const n=[];return t.forEach(r=>{const s=this._s(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){at(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ds;return W.forEach(n.mutations,s=>{const i=new Pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.ds=r})}In(t){}containsKey(t,n){const r=new Pt(n,0),s=this.ds.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ys(t,n){return this.ws(t)}ws(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}_s(t){const n=this.ws(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(t){this.ps=t,this.docs=new Dt(pe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(t,n){let r=Hr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jt.newInvalidDocument(s))}),W.resolve(r)}getAllFromCollection(t,n,r){let s=Hr();const i=new pe(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:c}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||_K(yK(c),r)<=0||(s=s.insert(c.key,c.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(t,n,r,s){be()}Is(t,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new MG(this)}getSize(t){return W.resolve(this.size)}}class MG extends OG{constructor(t){super(),this.zn=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.zn.addEntry(t,s)):this.zn.removeEntry(r)}),W.waitFor(n)}getFromCache(t,n){return this.zn.getEntry(t,n)}getAllFromCache(t,n){return this.zn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(t){this.persistence=t,this.Ts=new Go(n=>fy(n),dy),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Es=0,this.As=new yy,this.targetCount=0,this.Rs=Io.An()}forEachTarget(t,n){return this.Ts.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),W.resolve()}vn(t){this.Ts.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Rs=new Io(n),this.highestTargetId=n),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,n){return this.vn(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.vn(n),W.resolve()}removeTargetData(t,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const r=this.Ts.get(n)||null;return W.resolve(r)}addMatchingKeys(t,n,r){return this.As.ss(n,r),W.resolve()}removeMatchingKeys(t,n,r){this.As.os(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.As.us(n),W.resolve()}getMatchingKeysForTargetId(t,n){const r=this.As.hs(n);return W.resolve(r)}containsKey(t,n){return W.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(t,n){this.bs={},this.overlays={},this.Ps=new uy(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new PG(this),this.indexManager=new TG,this.remoteDocumentCache=function(r){return new DG(r)}(r=>this.referenceDelegate.Ss(r)),this.wt=new EG(n),this.Ds=new AG(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new xG,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.bs[t.toKey()];return r||(r=new RG(n,this.referenceDelegate),this.bs[t.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,n,r){he("MemoryPersistence","Starting transaction:",t);const s=new $G(this.Ps.next());return this.referenceDelegate.Cs(),r(s).next(i=>this.referenceDelegate.xs(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ns(t,n){return W.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,n)))}}class $G extends bK{constructor(t){super(),this.currentSequenceNumber=t}}class _y{constructor(t){this.persistence=t,this.ks=new yy,this.Os=null}static Ms(t){return new _y(t)}get Fs(){if(this.Os)return this.Os;throw be()}addReference(t,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),W.resolve()}removeReference(t,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.Fs.add(n.toString()),W.resolve()}removeTarget(t,n){this.ks.us(n.targetId).forEach(s=>this.Fs.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Fs.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Cs(){this.Os=new Set}xs(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Fs,r=>{const s=pe.fromPath(r);return this.$s(t,s).next(i=>{i||n.removeEntry(s,xe.min())})}).next(()=>(this.Os=null,n.apply(t)))}updateLimboDocument(t,n){return this.$s(t,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(t){return 0}$s(t,n){return W.or([()=>W.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ns(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=s}static Vi(t,n){let r=Ue(),s=Ue();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new wy(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(){this.Si=!1}initialize(t,n){this.Di=t,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(t,n,r,s){return this.Ci(t,n).next(i=>i||this.xi(t,n,s,r)).next(i=>i||this.Ni(t,n))}Ci(t,n){return W.resolve(null)}xi(t,n,r,s){return LK(n)||s.isEqual(xe.min())?this.Ni(t,n):this.Di.getDocuments(t,r).next(i=>{const o=this.ki(n,i);return this.Oi(n,o,r,s)?this.Ni(t,n):(Ib()<=Ye.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wm(n)),this.Mi(t,o,n,vK(s,-1)))})}ki(t,n){let r=new xt(WC(t));return n.forEach((s,i)=>{my(t,i)&&(r=r.add(i))}),r}Oi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ni(t,n){return Ib()<=Ye.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Wm(n)),this.Di.getDocumentsMatchingQuery(t,n,Ts.min())}Mi(t,n,r,s){return this.Di.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(t,n,r,s){this.persistence=t,this.Fi=n,this.wt=s,this.$i=new Dt(Qe),this.Bi=new Go(i=>fy(i),dy),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kG(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.$i))}}function UG(e,t,n,r){return new FG(e,t,n,r)}async function hk(e,t){const n=Ee(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.qi(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Ue();for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({Ki:l,removedBatchIds:o,addedBatchIds:a}))})})}function BG(e,t){const n=Ee(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,h=u.keys();let f=W.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(a,p)).next(v=>{const k=c.docVersions.get(p);at(k!==null),v.version.compareTo(k)<0&&(u.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),l.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ue();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function fk(e){const t=Ee(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Vs.getLastRemoteSnapshotVersion(n))}function jG(e,t){const n=Ee(e),r=t.snapshotVersion;let s=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});s=n.$i;const a=[];t.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Vs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.has(h)?p=p.withResumeToken(Ht.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(v,k,E){return v.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,p,u)&&a.push(n.Vs.updateTargetData(i,p))});let c=Hr(),l=Ue();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(VG(i,o,t.documentUpdates).next(u=>{c=u.Gi,l=u.Qi})),!r.isEqual(xe.min())){const u=n.Vs.getLastRemoteSnapshotVersion(i).next(h=>n.Vs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.$i=s,i))}function VG(e,t,n){let r=Ue(),s=Ue();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=Hr();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(xe.min())?(t.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(c),o=o.insert(a,c)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Gi:o,Qi:s}})}function WG(e,t){const n=Ee(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function zG(e,t){const n=Ee(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Vs.getTargetData(r,t).next(i=>i?(s=i,W.resolve(s)):n.Vs.allocateTargetId(r).next(o=>(s=new ni(t,o,0,r.currentSequenceNumber),n.Vs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.$i.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(t,r.targetId)),r})}async function Km(e,t,n){const r=Ee(e),s=r.$i.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!il(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.$i=r.$i.remove(t),r.Bi.delete(s.target)}function Wb(e,t,n){const r=Ee(e);let s=xe.min(),i=Ue();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=Ee(a),h=u.Bi.get(l);return h!==void 0?W.resolve(u.$i.get(h)):u.Vs.getTargetData(c,l)}(r,o,fi(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,t,n?s:xe.min(),n?i:Ue())).next(a=>(HG(r,UK(t),a),{documents:a,ji:i})))}function HG(e,t,n){let r=xe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.Li.set(t,r)}class zb{constructor(){this.activeTargetIds=rk()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class YG{constructor(){this.Fr=new zb,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,n,r){this.$r[t]=n}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new zb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{Br(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,n,r,s,i){const o=this.oo(t,n);he("RestConnection","Sending: ",o,r);const a={};return this.uo(a,s,i),this.co(t,o,a,r).then(c=>(he("RestConnection","Received: ",c),c),c=>{throw Um("RestConnection",`${t} failed with error: `,c,"url: ",o,"request:",r),c})}ao(t,n,r,s,i,o){return this.ro(t,n,r,s,i)}uo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ko,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>t[i]=s),r&&r.headers.forEach((s,i)=>t[i]=s)}oo(t,n){const r=GG[t];return`${this.so}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,n,r,s){return new Promise((i,o)=>{const a=new oK;a.listenOnce(rK.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case dp.NO_ERROR:const l=a.getResponseJson();he("Connection","XHR received:",JSON.stringify(l)),i(l);break;case dp.TIMEOUT:he("Connection",'RPC "'+t+'" timed out'),o(new ie($.DEADLINE_EXCEEDED,"Request time out"));break;case dp.HTTP_ERROR:const u=a.getStatus();if(he("Connection",'RPC "'+t+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(p){const v=p.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(h.status);o(new ie(f,h.message))}else o(new ie($.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ie($.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he("Connection",'RPC "'+t+'" completed.')}});const c=JSON.stringify(s);a.send(n,"POST",c,r,15)})}ho(t,n,r){const s=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=tK(),o=nK(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new iK({})),this.uo(a.initMessageHeaders,n,r),V1()||z1()||Px()||H1()||Nx()||W1()||(a.httpHeadersOverwriteParam="$httpHeaders");const c=s.join("");he("Connection","Creating WebChannel: "+c,a);const l=i.createWebChannel(c,a);let u=!1,h=!1;const f=new qG({jr:v=>{h?he("Connection","Not sending because WebChannel is closed:",v):(u||(he("Connection","Opening WebChannel transport."),l.open(),u=!0),he("Connection","WebChannel sending:",v),l.send(v))},Wr:()=>l.close()}),p=(v,k,E)=>{v.listen(k,O=>{try{E(O)}catch(R){setTimeout(()=>{throw R},0)}})};return p(l,Hl.EventType.OPEN,()=>{h||he("Connection","WebChannel transport opened.")}),p(l,Hl.EventType.CLOSE,()=>{h||(h=!0,he("Connection","WebChannel transport closed"),f.eo())}),p(l,Hl.EventType.ERROR,v=>{h||(h=!0,Um("Connection","WebChannel transport errored:",v),f.eo(new ie($.UNAVAILABLE,"The operation could not be completed")))}),p(l,Hl.EventType.MESSAGE,v=>{var k;if(!h){const E=v.data[0];at(!!E);const O=E,R=O.error||((k=O[0])===null||k===void 0?void 0:k.error);if(R){he("Connection","WebChannel received error:",R);const H=R.status;let V=function(M){const w=Tt[M];if(w!==void 0)return ZC(w)}(H),D=R.message;V===void 0&&(V=$.INTERNAL,D="Unknown error status: "+H+" with message "+R.message),h=!0,f.eo(new ie(V,D)),l.close()}else he("Connection","WebChannel received:",E),f.no(E)}}),p(o,sK.STAT_EVENT,v=>{v.stat===Sb.PROXY?he("Connection","Detected buffering proxy"):v.stat===Sb.NOPROXY&&he("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.Zr()},0),f}}function mp(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(e){return new iG(e,!0)}class dk{constructor(t,n,r=1e3,s=1.5,i=6e4){this.js=t,this.timerId=n,this.lo=r,this.fo=s,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(t,n,r,s,i,o,a,c){this.js=t,this.Ao=r,this.Ro=s,this.bo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new dk(t,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(t,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,t!==4?this.So.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Po===n&&this.Uo(r,s)},r=>{t(()=>{const s=new ie($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(s)})})}Uo(t,n){const r=this.Lo(this.Po);this.stream=this.Ko(t,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{r(()=>this.qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(t){return he("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return n=>{this.js.enqueueAndForget(()=>this.Po===t?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QG extends pk{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.wt=i}Ko(t,n){return this.bo.ho("Listen",t,n)}onMessage(t){this.So.reset();const n=cG(this.wt,t),r=function(s){if(!("targetChange"in s))return xe.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?xe.min():i.readTime?Fr(i.readTime):xe.min()}(t);return this.listener.Go(n,r)}Qo(t){const n={};n.database=Ym(this.wt),n.addTarget=function(s,i){let o;const a=i.target;return o=Vm(a)?{documents:hG(s,a)}:{query:fG(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=ok(s,i.resumeToken):i.snapshotVersion.compareTo(xe.min())>0&&(o.readTime=Eh(s,i.snapshotVersion.toTimestamp())),o}(this.wt,t);const r=pG(this.wt,t);r&&(n.labels=r),this.Mo(n)}jo(t){const n={};n.database=Ym(this.wt),n.removeTarget=t,this.Mo(n)}}class JG extends pk{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,n){return this.bo.ho("Write",t,n)}onMessage(t){if(at(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const n=uG(t.writeResults,t.commitTime),r=Fr(t.commitTime);return this.listener.Jo(r,n)}return at(!t.writeResults||t.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=Ym(this.wt),this.Mo(t)}Ho(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>lG(this.wt,r))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.bo=r,this.wt=s,this.Zo=!1}tu(){if(this.Zo)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.bo.ro(t,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie($.UNKNOWN,s.toString())})}ao(t,n,r,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.bo.ao(t,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie($.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class eq{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,t==="Online"&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ss(n),this.su=!1):he("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br(o=>{r.enqueueAndForget(async()=>{Oi(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=Ee(a);c.lu.add(4),await ll(c),c._u.set("Unknown"),c.lu.delete(4),await Ff(c)}(this))})}),this._u=new eq(r,s)}}async function Ff(e){if(Oi(e))for(const t of e.fu)await t(!0)}async function ll(e){for(const t of e.fu)await t(!1)}function mk(e,t){const n=Ee(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Sy(n)?Ey(n):qo(n).Co()&&by(n,t))}function gk(e,t){const n=Ee(e),r=qo(n);n.hu.delete(t),r.Co()&&vk(n,t),n.hu.size===0&&(r.Co()?r.ko():Oi(n)&&n._u.set("Unknown"))}function by(e,t){e.wu.Nt(t.targetId),qo(e).Qo(t)}function vk(e,t){e.wu.Nt(t),qo(e).jo(t)}function Ey(e){e.wu=new nG({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),te:t=>e.hu.get(t)||null}),qo(e).start(),e._u.iu()}function Sy(e){return Oi(e)&&!qo(e).Do()&&e.hu.size>0}function Oi(e){return Ee(e).lu.size===0}function yk(e){e.wu=void 0}async function nq(e){e.hu.forEach((t,n)=>{by(e,t)})}async function rq(e,t){yk(e),Sy(e)?(e._u.uu(t),Ey(e)):e._u.set("Unknown")}async function sq(e,t,n){if(e._u.set("Online"),t instanceof ik&&t.state===2&&t.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.hu.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.hu.delete(o),r.wu.removeTarget(o))}(e,t)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Sh(e,r)}else if(t instanceof Ou?e.wu.Ut(t):t instanceof sk?e.wu.zt(t):e.wu.Gt(t),!n.isEqual(xe.min()))try{const r=await fk(e.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.wu.Yt(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=s.hu.get(c);l&&s.hu.set(c,l.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const c=s.hu.get(a);if(!c)return;s.hu.set(a,c.withResumeToken(Ht.EMPTY_BYTE_STRING,c.snapshotVersion)),vk(s,a);const l=new ni(c.target,a,1,c.sequenceNumber);by(s,l)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await Sh(e,r)}}async function Sh(e,t,n){if(!il(t))throw t;e.lu.add(1),await ll(e),e._u.set("Offline"),n||(n=()=>fk(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),e.lu.delete(1),await Ff(e)})}function _k(e,t){return t().catch(n=>Sh(e,n,t))}async function Uf(e){const t=Ee(e),n=Os(t);let r=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;iq(t);)try{const s=await WG(t.localStore,r);if(s===null){t.au.length===0&&n.ko();break}r=s.batchId,oq(t,s)}catch(s){await Sh(t,s)}wk(t)&&bk(t)}function iq(e){return Oi(e)&&e.au.length<10}function oq(e,t){e.au.push(t);const n=Os(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function wk(e){return Oi(e)&&!Os(e).Do()&&e.au.length>0}function bk(e){Os(e).start()}async function aq(e){Os(e).Xo()}async function cq(e){const t=Os(e);for(const n of e.au)t.Ho(n.mutations)}async function lq(e,t,n){const r=e.au.shift(),s=vy.from(r,t,n);await _k(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Uf(e)}async function uq(e,t){t&&Os(e).zo&&await async function(n,r){if(s=r.code,QK(s)&&s!==$.ABORTED){const i=n.au.shift();Os(n).No(),await _k(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Uf(n)}var s}(e,t),wk(e)&&bk(e)}async function Yb(e,t){const n=Ee(e);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Oi(n);n.lu.add(3),await ll(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.lu.delete(3),await Ff(n)}async function hq(e,t){const n=Ee(e);t?(n.lu.delete(2),await Ff(n)):t||(n.lu.add(2),await ll(n),n._u.set("Unknown"))}function qo(e){return e.mu||(e.mu=function(t,n,r){const s=Ee(t);return s.tu(),new QG(n,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(e.datastore,e.asyncQueue,{zr:nq.bind(null,e),Jr:rq.bind(null,e),Go:sq.bind(null,e)}),e.fu.push(async t=>{t?(e.mu.No(),Sy(e)?Ey(e):e._u.set("Unknown")):(await e.mu.stop(),yk(e))})),e.mu}function Os(e){return e.gu||(e.gu=function(t,n,r){const s=Ee(t);return s.tu(),new JG(n,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(e.datastore,e.asyncQueue,{zr:aq.bind(null,e),Jr:uq.bind(null,e),Yo:cq.bind(null,e),Jo:lq.bind(null,e)}),e.fu.push(async t=>{t?(e.gu.No(),await Uf(e)):(await e.gu.stop(),e.au.length>0&&(he("RemoteStore",`Stopping write stream with ${e.au.length} pending writes`),e.au=[]))})),e.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new Ty(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(e,t){if(Ss("AsyncQueue",`${t}: ${e}`),il(e))return new ie($.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t){this.comparator=t?(n,r)=>t(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=wa(),this.sortedSet=new Dt(this.comparator)}static emptySet(t){return new lo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.yu=new Dt(pe.comparator)}track(t){const n=t.doc.key,r=this.yu.get(n);r?t.type!==0&&r.type===3?this.yu=this.yu.insert(n,t):t.type===3&&r.type!==1?this.yu=this.yu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.yu=this.yu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.yu=this.yu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.yu=this.yu.remove(n):t.type===1&&r.type===2?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.yu=this.yu.insert(n,{type:2,doc:t.doc}):be():this.yu=this.yu.insert(n,t)}pu(){const t=[];return this.yu.inorderTraversal((n,r)=>{t.push(r)}),t}}class Oo{constructor(t,n,r,s,i,o,a,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c}static fromInitialDocuments(t,n,r,s){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new Oo(t,n,lo.emptySet(n),i,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(){this.Iu=void 0,this.listeners=[]}}class dq{constructor(){this.queries=new Go(t=>VC(t),Mf),this.onlineState="Unknown",this.Tu=new Set}}async function Ek(e,t){const n=Ee(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new fq),s)try{i.Iu=await n.onListen(r)}catch(o){const a=Iy(o,`Initialization of query '${Wm(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,i),i.listeners.push(t),t.Eu(n.onlineState),i.Iu&&t.Au(i.Iu)&&Oy(n)}async function Sk(e,t){const n=Ee(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(t);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function pq(e,t){const n=Ee(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Au(s)&&(r=!0);o.Iu=s}}r&&Oy(n)}function mq(e,t,n){const r=Ee(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function Oy(e){e.Tu.forEach(t=>{t.next()})}class Tk{constructor(t,n,r){this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Oo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),n=!0):this.Vu(t,this.onlineState)&&(this.Su(t),n=!0),this.Pu=t,n}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),n=!0),n}Vu(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Du||!r)&&(!t.docs.isEmpty()||n==="Offline")}vu(t){if(t.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t){this.key=t}}class Ok{constructor(t){this.key=t}}class gq{constructor(t,n){this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Ue(),this.mutatedKeys=Ue(),this.Lu=WC(t),this.Uu=new lo(this.Lu)}get qu(){return this.Fu}Ku(t,n){const r=n?n.Gu:new Kb,s=n?n.Uu:this.Uu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const f=s.get(u),p=my(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),k=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?v!==k&&(r.track({type:3,doc:p}),E=!0):this.Qu(f,p)||(r.track({type:2,doc:p}),E=!0,(c&&this.Lu(p,c)>0||l&&this.Lu(p,l)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(c||l)&&(a=!0)),E&&(p?(o=o.add(p),i=k?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:i}}Qu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const s=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const i=t.Gu.pu();i.sort((l,u)=>function(h,f){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return p(h)-p(f)}(l.type,u.type)||this.Lu(l.doc,u.doc)),this.ju(r);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,c=a!==this.$u;return this.$u=a,i.length!==0||c?{snapshot:new Oo(this.query,t.Uu,s,i,t.mutatedKeys,a===0,c,!1),zu:o}:{zu:o}}Eu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Kb,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Ue(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return t.forEach(r=>{this.Bu.has(r)||n.push(new Ok(r))}),this.Bu.forEach(r=>{t.has(r)||n.push(new Ik(r))}),n}Ju(t){this.Fu=t.ji,this.Bu=Ue();const n=this.Ku(t.documents);return this.applyChanges(n,!0)}Yu(){return Oo.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class vq{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class yq{constructor(t){this.key=t,this.Xu=!1}}class _q{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Go(a=>VC(a),Mf),this.ec=new Map,this.nc=new Set,this.sc=new Dt(pe.comparator),this.ic=new Map,this.rc=new yy,this.oc={},this.uc=new Map,this.cc=Io.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function wq(e,t){const n=xq(e);let r,s;const i=n.tc.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Yu();else{const o=await zG(n.localStore,fi(t));n.isPrimaryClient&&mk(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await bq(n,t,r,a==="current")}return s}async function bq(e,t,n,r){e.hc=(u,h,f)=>async function(p,v,k,E){let O=v.view.Ku(k);O.Oi&&(O=await Wb(p.localStore,v.query,!1).then(({documents:V})=>v.view.Ku(V,O)));const R=E&&E.targetChanges.get(v.targetId),H=v.view.applyChanges(O,p.isPrimaryClient,R);return qb(p,v.targetId,H.zu),H.snapshot}(e,u,h,f);const s=await Wb(e.localStore,t,!0),i=new gq(t,s.ji),o=i.Ku(s.documents),a=cl.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=i.applyChanges(o,e.isPrimaryClient,a);qb(e,n,c.zu);const l=new vq(t,n,i);return e.tc.set(t,l),e.ec.has(n)?e.ec.get(n).push(t):e.ec.set(n,[t]),c.snapshot}async function Eq(e,t){const n=Ee(e),r=n.tc.get(t),s=n.ec.get(r.targetId);if(s.length>1)return n.ec.set(r.targetId,s.filter(i=>!Mf(i,t))),void n.tc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Km(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gk(n.remoteStore,r.targetId),Gm(n,r.targetId)}).catch(sl)):(Gm(n,r.targetId),await Km(n.localStore,r.targetId,!0))}async function Sq(e,t,n){const r=Rq(e);try{const s=await function(i,o){const a=Ee(i),c=At.now(),l=o.reduce((f,p)=>f.add(p.key),Ue());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Hr(),v=Ue();return a.Ui.getEntries(f,l).next(k=>{p=k,p.forEach((E,O)=>{O.isValidDocument()||(v=v.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(k=>{u=k;const E=[];for(const O of o){const R=GK(O,u.get(O.key).overlayedDocument);R!=null&&E.push(new Ms(O.key,R,LC(R.value.mapValue),pr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,E,o)}).next(k=>{h=k;const E=k.applyToLocalDocumentSet(u,v);return a.documentOverlayCache.saveOverlays(f,k.batchId,E)})}).then(()=>({batchId:h.batchId,changes:tk(u)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let c=i.oc[i.currentUser.toKey()];c||(c=new Dt(Qe)),c=c.insert(o,a),i.oc[i.currentUser.toKey()]=c}(r,s.batchId,n),await ul(r,s.changes),await Uf(r.remoteStore)}catch(s){const i=Iy(s,"Failed to persist write");n.reject(i)}}async function Ck(e,t){const n=Ee(e);try{const r=await jG(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.ic.get(i);o&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Xu=!0:s.modifiedDocuments.size>0?at(o.Xu):s.removedDocuments.size>0&&(at(o.Xu),o.Xu=!1))}),await ul(n,r,t)}catch(r){await sl(r)}}function Gb(e,t,n){const r=Ee(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.tc.forEach((i,o)=>{const a=o.view.Eu(t);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=Ee(i);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const h of u.listeners)h.Eu(o)&&(c=!0)}),c&&Oy(a)}(r.eventManager,t),s.length&&r.Zu.Go(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Tq(e,t,n){const r=Ee(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.ic.get(t),i=s&&s.key;if(i){let o=new Dt(pe.comparator);o=o.insert(i,jt.newNoDocument(i,xe.min()));const a=Ue().add(i),c=new $f(xe.min(),new Map,new xt(Qe),o,a);await Ck(r,c),r.sc=r.sc.remove(i),r.ic.delete(t),Cy(r)}else await Km(r.localStore,t,!1).then(()=>Gm(r,t,n)).catch(sl)}async function Iq(e,t){const n=Ee(e),r=t.batch.batchId;try{const s=await BG(n.localStore,t);Ak(n,r,null),kk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ul(n,s)}catch(s){await sl(s)}}async function Oq(e,t,n){const r=Ee(e);try{const s=await function(i,o){const a=Ee(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(at(u!==null),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,t);Ak(r,t,n),kk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ul(r,s)}catch(s){await sl(s)}}function kk(e,t){(e.uc.get(t)||[]).forEach(n=>{n.resolve()}),e.uc.delete(t)}function Ak(e,t,n){const r=Ee(e);let s=r.oc[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.oc[r.currentUser.toKey()]=s}}function Gm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ec.get(t))e.tc.delete(r),n&&e.Zu.lc(r,n);e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach(r=>{e.rc.containsKey(r)||xk(e,r)})}function xk(e,t){e.nc.delete(t.path.canonicalString());const n=e.sc.get(t);n!==null&&(gk(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Cy(e))}function qb(e,t,n){for(const r of n)r instanceof Ik?(e.rc.addReference(r.key,t),Cq(e,r)):r instanceof Ok?(he("SyncEngine","Document no longer in limbo: "+r.key),e.rc.removeReference(r.key,t),e.rc.containsKey(r.key)||xk(e,r.key)):be()}function Cq(e,t){const n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(he("SyncEngine","New document in limbo: "+n),e.nc.add(r),Cy(e))}function Cy(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){const t=e.nc.values().next().value;e.nc.delete(t);const n=new pe(lt.fromString(t)),r=e.cc.next();e.ic.set(r,new yq(n)),e.sc=e.sc.insert(n,r),mk(e.remoteStore,new ni(fi(py(n.path)),r,2,uy.ot))}}async function ul(e,t,n){const r=Ee(e),s=[],i=[],o=[];r.tc.isEmpty()||(r.tc.forEach((a,c)=>{o.push(r.hc(c,t,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l.fromCache?"not-current":"current"),s.push(l);const u=wy.Vi(c.targetId,l);i.push(u)}}))}),await Promise.all(o),r.Zu.Go(s),await async function(a,c){const l=Ee(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>W.forEach(c,h=>W.forEach(h.Pi,f=>l.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>W.forEach(h.vi,f=>l.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!il(u))throw u;he("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const h=u.targetId;if(!u.fromCache){const f=l.$i.get(h),p=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(p);l.$i=l.$i.insert(h,v)}}}(r.localStore,i))}async function kq(e,t){const n=Ee(e);if(!n.currentUser.isEqual(t)){he("SyncEngine","User change. New user:",t.toKey());const r=await hk(n.localStore,t);n.currentUser=t,function(s,i){s.uc.forEach(o=>{o.forEach(a=>{a.reject(new ie($.CANCELLED,i))})}),s.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ul(n,r.Ki)}}function Aq(e,t){const n=Ee(e),r=n.ic.get(t);if(r&&r.Xu)return Ue().add(r.key);{let s=Ue();const i=n.ec.get(t);if(!i)return s;for(const o of i){const a=n.tc.get(o);s=s.unionWith(a.view.qu)}return s}}function xq(e){const t=Ee(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ck.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Aq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Tq.bind(null,t),t.Zu.Go=pq.bind(null,t.eventManager),t.Zu.lc=mq.bind(null,t.eventManager),t}function Rq(e){const t=Ee(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Iq.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Oq.bind(null,t),t}class Dq{constructor(){this.synchronizeTabs=!1}async initialize(t){this.wt=Lf(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),await this.persistence.start(),this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore)}mc(t,n){return null}gc(t,n){return null}wc(t){return UG(this.persistence,new LG,t.initialUser,this.wt)}_c(t){return new NG(_y.Ms,this.wt)}dc(t){return new YG}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mq{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kq.bind(null,this.syncEngine),await hq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new dq}createDatastore(t){const n=Lf(t.databaseInfo.databaseId),r=(s=t.databaseInfo,new XG(s));var s;return function(i,o,a,c){return new ZG(i,o,a,c)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,s=t.asyncQueue,i=a=>Gb(this.syncEngine,a,0),o=Hb.V()?new Hb:new KG,new tq(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(t,n){return function(r,s,i,o,a,c,l){const u=new _q(r,s,i,o,a,c);return l&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=Ee(t);he("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await ll(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=MC.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{he("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(he("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Iy(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Nq(e,t){e.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await hk(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function $q(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Lq(e);he("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(s=>Yb(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>Yb(t.remoteStore,i)),e.onlineComponents=t}async function Lq(e){return e.offlineComponents||(he("FirestoreClient","Using default OfflineComponentProvider"),await Nq(e,new Dq)),e.offlineComponents}async function Dk(e){return e.onlineComponents||(he("FirestoreClient","Using default OnlineComponentProvider"),await $q(e,new Mq)),e.onlineComponents}function Fq(e){return Dk(e).then(t=>t.syncEngine)}async function qm(e){const t=await Dk(e),n=t.eventManager;return n.onListen=wq.bind(null,t.syncEngine),n.onUnlisten=Eq.bind(null,t.syncEngine),n}function Uq(e,t,n={}){const r=new gs;return e.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,c){const l=new Rk({next:h=>{i.enqueueAndForget(()=>Sk(s,u)),h.fromCache&&a.source==="server"?c.reject(new ie($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),u=new Tk(o,l,{includeMetadataChanges:!0,Du:!0});return Ek(s,u)}(await qm(e),e.asyncQueue,t,n,r)),r.promise}const Xb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(e,t,n){if(!n)throw new ie($.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Bq(e,t,n,r){if(t===!0&&r===!0)throw new ie($.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Qb(e){if(!pe.isDocumentKey(e))throw new ie($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Jb(e){if(pe.isDocumentKey(e))throw new ie($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Bf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":be()}function Ur(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ie($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bf(e);throw new ie($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new ie($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Bq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(t,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,t instanceof So?this._databaseId=t:(this._app=t,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ie($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(s.options.projectId)}(t))}get app(){if(!this._app)throw new ie($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ie($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new cK;switch(n.type){case"gapi":const r=n.client;return at(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new fK(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ie($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Xb.get(t);n&&(he("ComponentProvider","Removing Datastore"),Xb.delete(t),n.terminate())}(this),Promise.resolve()}}function jq(e,t,n,r={}){var s;const i=(e=Ur(e,jf))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==t&&Um("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Kt.MOCK_USER;else{o=j1(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Kt(c)}e._authCredentials=new lK(new DC(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yn(this.firestore,t,this._key)}}class Xo{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Xo(this.firestore,t,this._query)}}class vs extends Xo{constructor(t,n,r){super(t,n,py(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yn(this.firestore,null,new pe(t))}withConverter(t){return new vs(this.firestore,t,this._path)}}function Co(e,t,...n){if(e=zt(e),Mk("collection","path",t),e instanceof jf){const r=lt.fromString(t,...n);return Jb(r),new vs(e,null,r)}{if(!(e instanceof yn||e instanceof vs))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(lt.fromString(t,...n));return Jb(r),new vs(e.firestore,null,r)}}function ky(e,t,...n){if(e=zt(e),arguments.length===1&&(t=MC.I()),Mk("doc","path",t),e instanceof jf){const r=lt.fromString(t,...n);return Qb(r),new yn(e,null,new pe(r))}{if(!(e instanceof yn||e instanceof vs))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(lt.fromString(t,...n));return Qb(r),new yn(e.firestore,e instanceof vs?e.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new dk(this,"async_queue_retry"),this.Kc=()=>{const n=mp();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const t=mp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const n=mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new gs;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(t){if(!il(t))throw t;he("AsyncQueue","Operation failed with retryable error: "+t)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(t){const n=this.Oc.then(()=>(this.Lc=!0,t().catch(r=>{this.Bc=r,this.Lc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Ss("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Lc=!1,r))));return this.Oc=n,n}enqueueAfterDelay(t,n,r){this.Gc(),this.qc.indexOf(t)>-1&&(n=0);const s=Ty.createAndSchedule(this,t,n,r,i=>this.Wc(i));return this.$c.push(s),s}Gc(){this.Bc&&be()}verifyOperationInProgress(){}async zc(){let t;do t=this.Oc,await t;while(t!==this.Oc)}Hc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}function e1(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class ko extends jf{constructor(t,n,r){super(t,n,r),this.type="firestore",this._queue=new Vq,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Pk(this),this._firestoreClient.terminate()}}function Wq(e,t){const n=Mc(e,"firestore");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Qa(s,t))return r;throw new ie($.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:t})}function Qo(e=sg()){return Mc(e,"firestore").getImmediate()}function Ay(e){return e._firestoreClient||Pk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Pk(e){var t;const n=e._freezeSettings(),r=function(s,i,o,a){return new SK(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Pq(e._authCredentials,e._appCheckCredentials,e._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ie($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ao(Ht.fromBase64String(t))}catch(n){throw new ie($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ao(Ht.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ie($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ie($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qe(this._lat,t._lat)||Qe(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=/^__.*__$/;class Hq{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ms(t,this.data,this.fieldMask,n,this.fieldTransforms):new al(t,this.data,n,this.fieldTransforms)}}class Nk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ms(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function $k(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Ry{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new Ry(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ta({path:r,na:!1});return s.sa(t),s}ia(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.ta({path:r,na:!1});return s.Xc(),s}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return Th(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(t.length===0)throw this.oa("Document fields must not be empty");if($k(this.Zc)&&zq.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class Yq{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Lf(t)}aa(t,n,r,s=!1){return new Ry({Zc:t,methodName:n,ca:r,path:qt.emptyPath(),na:!1,ua:s},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Dy(e){const t=e._freezeSettings(),n=Lf(e._databaseId);return new Yq(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kq(e,t,n,r,s,i={}){const o=e.aa(i.merge||i.mergeFields?2:0,t,n,s);Py("Data must be an object, but it was:",o,r);const a=Lk(r,o);let c,l;if(i.merge)c=new Dn(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=Xm(t,h,n);if(!o.contains(f))throw new ie($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Uk(u,f)||u.push(f)}c=new Dn(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new Hq(new vn(a),c,l)}class zf extends Wf{_toFieldTransform(t){if(t.Zc!==2)throw t.Zc===1?t.oa(`${this._methodName}() can only appear at the top level of your update data`):t.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zf}}class My extends Wf{_toFieldTransform(t){return new zK(t.path,new Sc)}isEqual(t){return t instanceof My}}function Gq(e,t,n,r){const s=e.aa(1,t,n);Py("Data must be an object, but it was:",s,r);const i=[],o=vn.empty();Ii(r,(c,l)=>{const u=Ny(t,c,n);l=zt(l);const h=s.ia(u);if(l instanceof zf)i.push(u);else{const f=hl(l,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new Dn(i);return new Nk(o,a,s.fieldTransforms)}function qq(e,t,n,r,s,i){const o=e.aa(1,t,n),a=[Xm(t,r,n)],c=[s];if(i.length%2!=0)throw new ie($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Xm(t,i[f])),c.push(i[f+1]);const l=[],u=vn.empty();for(let f=a.length-1;f>=0;--f)if(!Uk(l,a[f])){const p=a[f];let v=c[f];v=zt(v);const k=o.ia(p);if(v instanceof zf)l.push(p);else{const E=hl(v,k);E!=null&&(l.push(p),u.set(p,E))}}const h=new Dn(l);return new Nk(u,h,o.fieldTransforms)}function Xq(e,t,n,r=!1){return hl(n,e.aa(r?4:3,t))}function hl(e,t){if(Fk(e=zt(e)))return Py("Unsupported field value:",t,e),Lk(e,t);if(e instanceof Wf)return function(n,r){if(!$k(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&t.Zc!==4)throw t.oa("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=hl(o,r.ra(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(e,t)}return function(n,r){if((n=zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return jK(r.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=At.fromDate(n);return{timestampValue:Eh(r.wt,s)}}if(n instanceof At){const s=new At(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Eh(r.wt,s)}}if(n instanceof xy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ao)return{bytesValue:ok(r.wt,n._byteString)};if(n instanceof yn){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.oa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:gy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${Bf(n)}`)}(e,t)}function Lk(e,t){const n={};return PC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ii(e,(r,s)=>{const i=hl(s,t.ea(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Fk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof At||e instanceof xy||e instanceof Ao||e instanceof yn||e instanceof Wf)}function Py(e,t,n){if(!Fk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Bf(n);throw r==="an object"?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Xm(e,t,n){if((t=zt(t))instanceof Vf)return t._internalPath;if(typeof t=="string")return Ny(e,t);throw Th("Field path arguments must be of type string or ",e,!1,void 0,n)}const Qq=new RegExp("[~\\*/\\[\\]]");function Ny(e,t,n){if(t.search(Qq)>=0)throw Th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Vf(...t.split("."))._internalPath}catch{throw Th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Th(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ie($.INVALID_ARGUMENT,a+e+c)}function Uk(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Jq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field($y("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jq extends Bk{data(){return super.data()}}function $y(e,t){return typeof t=="string"?Ny(e,t):t instanceof Vf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jk extends Bk{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field($y("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cu extends jk{data(t={}){return super.data(t)}}class Vk{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new ba(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Cu(this._firestore,this._userDataWriter,r.key,r,new ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Cu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ba(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:i++}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new Cu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ba(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),l=i.indexOf(o.doc.key)),{type:Zq(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Zq(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ie($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eX{}function zk(e,...t){for(const n of t)e=n._apply(e);return e}class tX extends eX{constructor(t,n,r){super(),this.fa=t,this.da=n,this._a=r,this.type="where"}_apply(t){const n=Dy(t.firestore),r=function(s,i,o,a,c,l,u){let h;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new ie($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){n1(u,l);const p=[];for(const v of u)p.push(t1(a,s,v));h={arrayValue:{values:p}}}else h=t1(a,s,u)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||n1(u,l),h=Xq(o,i,u,l==="in"||l==="not-in");const f=un.create(c,l,h);return function(p,v){if(v.ht()){const E=BC(p);if(E!==null&&!E.isEqual(v.field))throw new ie($.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${E.toString()}' and '${v.field.toString()}'`);const O=UC(p);O!==null&&nX(p,v.field,O)}const k=function(E,O){for(const R of E.filters)if(O.indexOf(R.op)>=0)return R.op;return null}(p,function(E){switch(E){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(v.op));if(k!==null)throw k===v.op?new ie($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${v.op.toString()}' filter.`):new ie($.INVALID_ARGUMENT,`Invalid query. You cannot use '${v.op.toString()}' filters with '${k.toString()}' filters.`)}(s,f),f}(t._query,"where",n,t.firestore._databaseId,this.fa,this.da,this._a);return new Xo(t.firestore,t.converter,function(s,i){const o=s.filters.concat([i]);return new ol(s.path,s.collectionGroup,s.explicitOrderBy.slice(),o,s.limit,s.limitType,s.startAt,s.endAt)}(t._query,r))}}function Ih(e,t,n){const r=t,s=$y("where",e);return new tX(s,r,n)}function t1(e,t,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new ie($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jC(t)&&n.indexOf("/")!==-1)throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(lt.fromString(n));if(!pe.isDocumentKey(r))throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ab(e,new pe(r))}if(n instanceof yn)return Ab(e,n._key);throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bf(n)}.`)}function n1(e,t){if(!Array.isArray(e)||e.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new ie($.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function nX(e,t,n){if(!n.isEqual(t))throw new ie($.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{convertValue(t,n="none"){switch(hi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return It(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Eo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw be()}}convertObject(t,n){const r={};return Ii(t.fields,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new xy(It(t.latitude),It(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=$C(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wc(t));default:return null}}convertTimestamp(t){const n=Is(t);return new At(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=lt.fromString(t);at(uk(r));const s=new So(r.get(1),r.get(3)),i=new pe(r.popFirst(5));return s.isEqual(n)||Ss(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ly extends rX{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ao(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function Hk(e){e=Ur(e,Xo);const t=Ur(e.firestore,ko),n=Ay(t),r=new Ly(t);return Wk(e._query),Uq(n,e._query).then(s=>new Vk(t,r,e,s))}function iX(e,t,n,...r){e=Ur(e,yn);const s=Ur(e.firestore,ko),i=Dy(s);let o;return o=typeof(t=zt(t))=="string"||t instanceof Vf?qq(i,"updateDoc",e._key,t,n,r):Gq(i,"updateDoc",e._key,t),Gk(s,[o.toMutation(e._key,pr.exists(!0))])}function Yk(e,t){const n=Ur(e.firestore,ko),r=ky(e),s=sX(e.converter,t);return Gk(n,[Kq(Dy(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function Kk(e,...t){var n,r,s;e=zt(e);let i={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||e1(t[o])||(i=t[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(e1(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let c,l,u;if(e instanceof yn)l=Ur(e.firestore,ko),u=py(e._key.path),c={next:h=>{t[o]&&t[o](oX(l,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Ur(e,Xo);l=Ur(h.firestore,ko),u=h._query;const f=new Ly(l);c={next:p=>{t[o]&&t[o](new Vk(l,f,h,p))},error:t[o+1],complete:t[o+2]},Wk(e._query)}return function(h,f,p,v){const k=new Rk(v),E=new Tk(f,k,p);return h.asyncQueue.enqueueAndForget(async()=>Ek(await qm(h),E)),()=>{k.Tc(),h.asyncQueue.enqueueAndForget(async()=>Sk(await qm(h),E))}}(Ay(l),u,a,c)}function Gk(e,t){return function(n,r){const s=new gs;return n.asyncQueue.enqueueAndForget(async()=>Sq(await Fq(n),r,s)),s.promise}(Ay(e),t)}function oX(e,t,n){const r=n.docs.get(t._key),s=new Ly(e);return new jk(e,s,t._key,r,new ba(n.hasPendingWrites,n.fromCache),t.converter)}function qk(){return new My("serverTimestamp")}(function(e,t=!0){(function(n){Ko=n})(Mo),si(new _s("firestore",(n,{options:r})=>{const s=n.getProvider("app").getImmediate(),i=new ko(s,new uK(n.getProvider("auth-internal")),new pK(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),i._setSettings(r),i},"PUBLIC")),hr(Tb,"3.4.12",e),hr(Tb,"3.4.12","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="firebasestorage.googleapis.com",Qk="storageBucket",aX=2*60*1e3,cX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends Cs{constructor(t,n){super(gp(t),`Firebase Storage: ${n} (${gp(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}_codeEquals(t){return gp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function gp(e){return"storage/"+e}function Fy(){const e="An unknown error occurred, please check the error payload for server response.";return new Mt("unknown",e)}function lX(e){return new Mt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uX(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt("unauthenticated",e)}function hX(){return new Mt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function fX(e){return new Mt("unauthorized","User does not have permission to access '"+e+"'.")}function dX(){return new Mt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function pX(){return new Mt("canceled","User canceled the upload/download.")}function mX(e){return new Mt("invalid-url","Invalid URL '"+e+"'.")}function gX(e){return new Mt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function vX(){return new Mt("no-default-bucket","No default bucket found. Did you set the '"+Qk+"' property when initializing the app?")}function yX(){return new Mt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Qm(e){return new Mt("invalid-argument",e)}function Jk(){return new Mt("app-deleted","The Firebase app was deleted.")}function _X(e){return new Mt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ua(e,t){return new Mt("invalid-format","String does not match format '"+e+"': "+t)}function da(e){throw new Mt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Tn.makeFromUrl(t,n)}catch{return new Tn(t,"")}if(r.path==="")return r;throw gX(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function l(V){V.path_=decodeURIComponent(V.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),v={bucket:1,path:3},k=n===Xk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",O=new RegExp(`^https?://${k}/${s}/${E}`,"i"),H=[{regex:a,indices:c,postModify:i},{regex:p,indices:v,postModify:l},{regex:O,indices:{bucket:1,path:2},postModify:l}];for(let V=0;V<H.length;V++){const D=H[V],M=D.regex.exec(t);if(M){const w=M[D.indices.bucket];let C=M[D.indices.path];C||(C=""),r=new Tn(w,C),D.postModify(r);break}}if(r==null)throw mX(t);return r}}class wX{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(e,t,n){let r=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...E){l||(l=!0,t.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,e(p,c())},E)}function f(){i&&clearTimeout(i)}function p(E,...O){if(l){f();return}if(E){f(),u.call(null,E,...O);return}if(c()||o){f(),u.call(null,E,...O);return}r<64&&(r*=2);let H;a===1?(a=2,H=0):H=(r+Math.random())*1e3,h(H)}let v=!1;function k(E){v||(v=!0,f(),!l&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,k(!0)},n),k}function EX(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SX(e){return e!==void 0}function TX(e){return typeof e=="object"&&!Array.isArray(e)}function Zk(e){return typeof e=="string"||e instanceof String}function r1(e){return Uy()&&e instanceof Blob}function Uy(){return typeof Blob!="undefined"}function s1(e,t,n,r){if(r<t)throw Qm(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Qm(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IX(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function OX(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ri||(ri={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(t,n,r,s,i,o,a,c,l,u,h){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new Gl(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ri.NO_ERROR,c=i.getStatus();if(!a||this.isRetryStatusCode_(c)){const u=i.getErrorCode()===ri.ABORT;r(!1,new Gl(!1,null,u));return}const l=this.successCodes_.indexOf(c)!==-1;r(!0,new Gl(l,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());SX(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=Fy();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?Jk():pX();o(c)}else{const c=dX();o(c)}};this.canceled_?n(!1,new Gl(!1,null,!0)):this.backoffId_=bX(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&EX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=this.additionalRetryCodes_.indexOf(t)!==-1;return n||s||i}}class Gl{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function kX(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function AX(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function xX(e,t){t&&(e["X-Firebase-GMPID"]=t)}function RX(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function DX(e,t,n,r,s,i){const o=OX(e.urlParams),a=e.url+o,c=Object.assign({},e.headers);return xX(c,t),kX(c,n),AX(c,i),RX(c,r),new CX(a,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function PX(...e){const t=MX();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Uy())return new Blob(e);throw new Mt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function NX(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vp{constructor(t,n){this.data=t,this.contentType=n||null}}function LX(e,t){switch(e){case ur.RAW:return new vp(eA(t));case ur.BASE64:case ur.BASE64URL:return new vp(tA(e,t));case ur.DATA_URL:return new vp(UX(t),BX(t))}throw Fy()}function eA(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const i=r,o=e.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function FX(e){let t;try{t=decodeURIComponent(e)}catch{throw Ua(ur.DATA_URL,"Malformed data URL.")}return eA(t)}function tA(e,t){switch(e){case ur.BASE64:{const s=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(s||i)throw Ua(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ur.BASE64URL:{const s=t.indexOf("+")!==-1,i=t.indexOf("/")!==-1;if(s||i)throw Ua(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$X(t)}catch{throw Ua(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class nA{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ua(ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=jX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function UX(e){const t=new nA(e);return t.base64?tA(ur.BASE64,t.rest):FX(t.rest)}function BX(e){return new nA(e).contentType}function jX(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,n){let r=0,s="";r1(t)?(this.data_=t,r=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(r1(this.data_)){const r=this.data_,s=NX(r,t,n);return s===null?null:new as(s)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new as(r,!0)}}static getBlob(...t){if(Uy()){const n=t.map(r=>r instanceof as?r.data_:r);return new as(PX.apply(null,n))}else{const n=t.map(o=>Zk(o)?LX(ur.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new as(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VX(e){let t;try{t=JSON.parse(e)}catch{return null}return TX(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function zX(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function rA(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(e,t){return t}class rn{constructor(t,n,r,s){this.server=t,this.local=n||t,this.writable=!!r,this.xform=s||HX}}let ql=null;function YX(e){return!Zk(e)||e.length<2?e:rA(e)}function KX(){if(ql)return ql;const e=[];e.push(new rn("bucket")),e.push(new rn("generation")),e.push(new rn("metageneration")),e.push(new rn("name","fullPath",!0));function t(i,o){return YX(o)}const n=new rn("name");n.xform=t,e.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new rn("size");return s.xform=r,e.push(s),e.push(new rn("timeCreated")),e.push(new rn("updated")),e.push(new rn("md5Hash",null,!0)),e.push(new rn("cacheControl",null,!0)),e.push(new rn("contentDisposition",null,!0)),e.push(new rn("contentEncoding",null,!0)),e.push(new rn("contentLanguage",null,!0)),e.push(new rn("contentType",null,!0)),e.push(new rn("metadata","customMetadata",!0)),ql=e,ql}function GX(e,t){function n(){const r=e.bucket,s=e.fullPath,i=new Tn(r,s);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function qX(e,t,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,t[o.server])}return GX(r,e),r}function XX(e,t,n){const r=VX(t);return r===null?null:qX(e,r,n)}function QX(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const i=t[s];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}class JX{constructor(t,n,r,s){this.url=t,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(e){if(!e)throw Fy()}function eQ(e,t){function n(r,s){const i=XX(e,s,t);return ZX(i!==null),i}return n}function tQ(e){function t(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=hX():s=uX():n.getStatus()===402?s=lX(e.bucket):n.getStatus()===403?s=fX(e.path):s=r,s.serverResponse=r.serverResponse,s}return t}function nQ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function rQ(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=nQ(null,t)),r}function sQ(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let H="";for(let V=0;V<2;V++)H=H+Math.random().toString().slice(2);return H}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const l=rQ(t,r,s),u=QX(l,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=as.getBlob(h,r,f);if(p===null)throw yX();const v={name:l.fullPath},k=IX(i,e.host,e._protocol),E="POST",O=e.maxUploadRetryTime,R=new JX(k,E,eQ(e,n),O);return R.urlParams=v,R.headers=o,R.body=p.uploadData(),R.errorHandler=tQ(t),R}class iQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ri.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ri.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ri.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,s){if(this.sent_)throw da("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw da("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw da("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw da("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw da("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class oQ extends iQ{initXhr(){this.xhr_.responseType="text"}}function aQ(){return new oQ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,n){this._service=t,n instanceof Tn?this._location=n:this._location=Tn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new di(t,n)}get root(){const t=new Tn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rA(this._location.path)}get storage(){return this._service}get parent(){const t=WX(this._location.path);if(t===null)return null;const n=new Tn(this._location.bucket,t);return new di(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw _X(t)}}function cQ(e,t,n){e._throwIfRoot("uploadBytes");const r=sQ(e.storage,e._location,KX(),new as(t,!0),n);return e.storage.makeRequestWithTokens(r,aQ).then(s=>({metadata:s,ref:e}))}function lQ(e,t){const n=zX(e._location.path,t),r=new Tn(e._location.bucket,n);return new di(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(e){return/^[A-Za-z]+:\/\//.test(e)}function hQ(e,t){return new di(e,t)}function sA(e,t){if(e instanceof By){const n=e;if(n._bucket==null)throw vX();const r=new di(n,n._bucket);return t!=null?sA(r,t):r}else return t!==void 0?lQ(e,t):e}function fQ(e,t){if(t&&uQ(t)){if(e instanceof By)return hQ(e,t);throw Qm("To use ref(service, url), the first argument must be a Storage instance.")}else return sA(e,t)}function i1(e,t){const n=t==null?void 0:t[Qk];return n==null?null:Tn.makeFromBucketSpec(n,e)}function dQ(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:j1(s,e.app.options.projectId))}class By{constructor(t,n,r,s,i){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Xk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aX,this._maxUploadRetryTime=cX,this._requests=new Set,s!=null?this._bucket=Tn.makeFromBucketSpec(s,this._host):this._bucket=i1(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,t):this._bucket=i1(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){s1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){s1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new di(this,t)}_makeRequest(t,n,r,s){if(this._deleted)return new wX(Jk());{const i=DX(t,this._appId,r,s,n,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const o1="@firebase/storage",a1="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="storage";function Ene(e,t,n){return e=zt(e),cQ(e,t,n)}function Sne(e,t){return e=zt(e),fQ(e,t)}function pQ(e=sg(),t){return e=zt(e),Mc(e,iA).getImmediate({identifier:t})}function mQ(e,t,n,r={}){dQ(e,t,n,r)}function gQ(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new By(n,r,s,t,Mo)}function vQ(){si(new _s(iA,gQ,"PUBLIC").setMultipleInstances(!0)),hr(o1,a1,""),hr(o1,a1,"esm2017")}vQ();const yQ={apiKey:"AIzaSyCqk-k-XiYFYgPQo28ITj3qkxoqDGDrVk0",appId:"1:1011232276130:web:1ae2ea1437c349a4c2e1fb",authDomain:"octo-64838.firebaseapp.com",databaseURL:"https://octo-64838.firebaseio.com",messagingSenderId:"1011232276130",projectId:"octo-64838",storageBucket:"octo-64838.appspot.com"},_Q=()=>{const e=jR(yQ);Wq(e,{experimentalAutoDetectLongPolling:!0}),aK("error"),location.hostname==="localhost"&&!{}.VITE_FIREBASE_EMULATOR_BYPASS&&(T2(sr(),{}.VITE_FIREBASE_EMULATOR_AUTH,{disableWarnings:!0}),jq(Qo(),{}.VITE_FIREBASE_EMULATOR_FIRESTORE_HOST,{}.VITE_FIREBASE_EMULATOR_FIRESTORE_PORT),mQ(pQ(),{}.VITE_FIREBASE_EMULATOR_STORAGE_HOST,{}.VITE_FIREBASE_EMULATOR_STORAGE_PORT))};/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const oA=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Jo=e=>oA?Symbol(e):"_vr_"+e,wQ=Jo("rvlm"),c1=Jo("rvd"),Hf=Jo("r"),jy=Jo("rl"),Jm=Jo("rvl"),zi=typeof window!="undefined";function bQ(e){return e.__esModule||oA&&e[Symbol.toStringTag]==="Module"}const st=Object.assign;function yp(e,t){const n={};for(const r in t){const s=t[r];n[r]=Array.isArray(s)?s.map(e):e(s)}return n}const Ba=()=>{},EQ=/\/$/,SQ=e=>e.replace(EQ,"");function _p(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("?"),c=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),i=t.slice(a+1,c>-1?c:t.length),s=e(i)),c>-1&&(r=r||t.slice(0,c),o=t.slice(c,t.length)),r=CQ(r!=null?r:t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function TQ(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function l1(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function IQ(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&xo(t.matched[r],n.matched[s])&&aA(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function xo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function aA(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!OQ(e[n],t[n]))return!1;return!0}function OQ(e,t){return Array.isArray(e)?u1(e,t):Array.isArray(t)?u1(t,e):e===t}function u1(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function CQ(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let s=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],!(s===1||o==="."))if(o==="..")s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Oc;(function(e){e.pop="pop",e.push="push"})(Oc||(Oc={}));var ja;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ja||(ja={}));function kQ(e){if(!e)if(zi){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),SQ(e)}const AQ=/^[^#]+#/;function xQ(e,t){return e.replace(AQ,"#")+t}function RQ(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Yf=()=>({left:window.pageXOffset,top:window.pageYOffset});function DQ(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=RQ(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function h1(e,t){return(history.state?history.state.position-t:-1)+e}const Zm=new Map;function MQ(e,t){Zm.set(e,t)}function PQ(e){const t=Zm.get(e);return Zm.delete(e),t}let NQ=()=>location.protocol+"//"+location.host;function cA(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),l1(c,"")}return l1(n,e)+r+s}function $Q(e,t,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const p=cA(e,location),v=n.value,k=t.value;let E=0;if(f){if(n.value=p,t.value=f,o&&o===v){o=null;return}E=k?f.position-k.position:0}else r(p);s.forEach(O=>{O(n.value,v,{delta:E,type:Oc.pop,direction:E?E>0?ja.forward:ja.back:ja.unknown})})};function c(){o=n.value}function l(f){s.push(f);const p=()=>{const v=s.indexOf(f);v>-1&&s.splice(v,1)};return i.push(p),p}function u(){const{history:f}=window;!f.state||f.replaceState(st({},f.state,{scroll:Yf()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:h}}function f1(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Yf():null}}function LQ(e){const{history:t,location:n}=window,r={value:cA(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:NQ()+e+c;try{t[u?"replaceState":"pushState"](l,"",f),s.value=l}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function o(c,l){const u=st({},t.state,f1(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=st({},s.value,t.state,{forward:c,scroll:Yf()});i(u.current,u,!0);const h=st({},f1(r.value,c,null),{position:u.position+1},l);i(c,h,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function FQ(e){e=kQ(e);const t=LQ(e),n=$Q(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=st({location:"",base:e,go:r,createHref:xQ.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function UQ(e){return typeof e=="string"||e&&typeof e=="object"}function lA(e){return typeof e=="string"||typeof e=="symbol"}const es={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},uA=Jo("nf");var d1;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(d1||(d1={}));function Ro(e,t){return st(new Error,{type:e,[uA]:!0},t)}function ts(e,t){return e instanceof Error&&uA in e&&(t==null||!!(e.type&t))}const p1="[^/]+?",BQ={sensitive:!1,strict:!1,start:!0,end:!0},jQ=/[.+*?^${}()[\]/\\]/g;function VQ(e,t){const n=st({},BQ,t),r=[];let s=n.start?"^":"";const i=[];for(const l of e){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let h=0;h<l.length;h++){const f=l[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(jQ,"\\$&"),p+=40;else if(f.type===1){const{value:v,repeatable:k,optional:E,regexp:O}=f;i.push({name:v,repeatable:k,optional:E});const R=O||p1;if(R!==p1){p+=10;try{new RegExp(`(${R})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${v}" (${R}): `+V.message)}}let H=k?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;h||(H=E&&l.length<2?`(?:/${H})`:"/"+H),E&&(H+="?"),s+=H,p+=20,E&&(p+=-8),k&&(p+=-20),R===".*"&&(p+=-50)}u.push(p)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",v=i[f-1];h[v.name]=p&&v.repeatable?p.split("/"):p}return h}function c(l){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:v,repeatable:k,optional:E}=p,O=v in l?l[v]:"";if(Array.isArray(O)&&!k)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const R=Array.isArray(O)?O.join("/"):O;if(!R)if(E)f.length<2&&e.length>1&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=R}}return u}return{re:o,score:r,keys:i,parse:a,stringify:c}}function WQ(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function zQ(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=WQ(r[n],s[n]);if(i)return i;n++}return s.length-r.length}const HQ={type:0,value:""},YQ=/[a-zA-Z0-9_]/;function KQ(e){if(!e)return[[]];if(e==="/")return[[HQ]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${l}": ${p}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function h(){!l||(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:c==="("?n=2:YQ.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),h(),o(),s}function GQ(e,t,n){const r=VQ(KQ(e.path),n),s=st(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function qQ(e,t){const n=[],r=new Map;t=g1({strict:!1,end:!0,sensitive:!1},t);function s(u){return r.get(u)}function i(u,h,f){const p=!f,v=QQ(u);v.aliasOf=f&&f.record;const k=g1(t,u),E=[v];if("alias"in u){const H=typeof u.alias=="string"?[u.alias]:u.alias;for(const V of H)E.push(st({},v,{components:f?f.record.components:v.components,path:V,aliasOf:f?f.record:v}))}let O,R;for(const H of E){const{path:V}=H;if(h&&V[0]!=="/"){const D=h.record.path,M=D[D.length-1]==="/"?"":"/";H.path=h.record.path+(V&&M+V)}if(O=GQ(H,h,k),f?f.alias.push(O):(R=R||O,R!==O&&R.alias.push(O),p&&u.name&&!m1(O)&&o(u.name)),"children"in v){const D=v.children;for(let M=0;M<D.length;M++)i(D[M],O,f&&f.children[M])}f=f||O,c(O)}return R?()=>{o(R)}:Ba}function o(u){if(lA(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&zQ(u,n[h])>=0&&(u.record.path!==n[h].record.path||!hA(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!m1(u)&&r.set(u.record.name,u)}function l(u,h){let f,p={},v,k;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw Ro(1,{location:u});k=f.record.name,p=st(XQ(h.params,f.keys.filter(R=>!R.optional).map(R=>R.name)),u.params),v=f.stringify(p)}else if("path"in u)v=u.path,f=n.find(R=>R.re.test(v)),f&&(p=f.parse(v),k=f.record.name);else{if(f=h.name?r.get(h.name):n.find(R=>R.re.test(h.path)),!f)throw Ro(1,{location:u,currentLocation:h});k=f.record.name,p=st({},h.params,u.params),v=f.stringify(p)}const E=[];let O=f;for(;O;)E.unshift(O.record),O=O.parent;return{name:k,path:v,params:p,matched:E,meta:ZQ(E)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function XQ(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function QQ(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:JQ(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function JQ(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function m1(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ZQ(e){return e.reduce((t,n)=>st(t,n.meta),{})}function g1(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function hA(e,t){return t.children.some(n=>n===e||hA(e,n))}const fA=/#/g,eJ=/&/g,tJ=/\//g,nJ=/=/g,rJ=/\?/g,dA=/\+/g,sJ=/%5B/g,iJ=/%5D/g,pA=/%5E/g,oJ=/%60/g,mA=/%7B/g,aJ=/%7C/g,gA=/%7D/g,cJ=/%20/g;function Vy(e){return encodeURI(""+e).replace(aJ,"|").replace(sJ,"[").replace(iJ,"]")}function lJ(e){return Vy(e).replace(mA,"{").replace(gA,"}").replace(pA,"^")}function eg(e){return Vy(e).replace(dA,"%2B").replace(cJ,"+").replace(fA,"%23").replace(eJ,"%26").replace(oJ,"`").replace(mA,"{").replace(gA,"}").replace(pA,"^")}function uJ(e){return eg(e).replace(nJ,"%3D")}function hJ(e){return Vy(e).replace(fA,"%23").replace(rJ,"%3F")}function fJ(e){return e==null?"":hJ(e).replace(tJ,"%2F")}function Oh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function dJ(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(dA," "),o=i.indexOf("="),a=Oh(o<0?i:i.slice(0,o)),c=o<0?null:Oh(i.slice(o+1));if(a in t){let l=t[a];Array.isArray(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function v1(e){let t="";for(let n in e){const r=e[n];if(n=uJ(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map(i=>i&&eg(i)):[r&&eg(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function pJ(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Array.isArray(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}function pa(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function ss(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(Ro(4,{from:n,to:t})):h instanceof Error?a(h):UQ(h)?a(Ro(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},l=e.call(r&&r.instances[s],t,n,c);let u=Promise.resolve(l);e.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function wp(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(mJ(a)){const l=(a.__vccOpts||a)[t];l&&s.push(ss(l,n,r,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=bQ(l)?l.default:l;i.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&ss(f,n,r,i,o)()}))}}return s}function mJ(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function y1(e){const t=Rn(Hf),n=Rn(jy),r=Sn(()=>t.resolve(qs(e.to))),s=Sn(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(xo.bind(null,u));if(f>-1)return f;const p=_1(c[l-2]);return l>1&&_1(u)===p&&h[h.length-1].path!==p?h.findIndex(xo.bind(null,c[l-2])):f}),i=Sn(()=>s.value>-1&&_J(n.params,r.value.params)),o=Sn(()=>s.value>-1&&s.value===n.matched.length-1&&aA(n.params,r.value.params));function a(c={}){return yJ(c)?t[qs(e.replace)?"replace":"push"](qs(e.to)).catch(Ba):Promise.resolve()}return{route:r,href:Sn(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const gJ=Uc({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:y1,setup(e,{slots:t}){const n=ks(y1(e)),{options:r}=Rn(Hf),s=Sn(()=>({[w1(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[w1(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:CS("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),vJ=gJ;function yJ(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function _J(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Array.isArray(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function _1(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const w1=(e,t,n)=>e!=null?e:t!=null?t:n,wJ=Uc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Rn(Jm),s=Sn(()=>e.route||r.value),i=Rn(c1,0),o=Sn(()=>s.value.matched[i]);hu(c1,i+1),hu(wQ,o),hu(Jm,s);const a=Yn();return Xs(()=>[a.value,o.value,e.name],([c,l,u],[h,f,p])=>{l&&(l.instances[u]=c,f&&f!==l&&c&&c===h&&(l.leaveGuards.size||(l.leaveGuards=f.leaveGuards),l.updateGuards.size||(l.updateGuards=f.updateGuards))),c&&l&&(!f||!xo(l,f)||!h)&&(l.enterCallbacks[u]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=s.value,l=o.value,u=l&&l.components[e.name],h=e.name;if(!u)return b1(n.default,{Component:u,route:c});const f=l.props[e.name],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,k=CS(u,st({},p,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(l.instances[h]=null)},ref:a}));return b1(n.default,{Component:k,route:c})||k}}});function b1(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const bJ=wJ;function EJ(e){const t=qQ(e.routes,e),n=e.parseQuery||dJ,r=e.stringifyQuery||v1,s=e.history,i=pa(),o=pa(),a=pa(),c=OM(es);let l=es;zi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=yp.bind(null,x=>""+x),h=yp.bind(null,fJ),f=yp.bind(null,Oh);function p(x,ne){let N,Z;return lA(x)?(N=t.getRecordMatcher(x),Z=ne):Z=x,t.addRoute(Z,N)}function v(x){const ne=t.getRecordMatcher(x);ne&&t.removeRoute(ne)}function k(){return t.getRoutes().map(x=>x.record)}function E(x){return!!t.getRecordMatcher(x)}function O(x,ne){if(ne=st({},ne||c.value),typeof x=="string"){const _e=_p(n,x,ne.path),g=t.resolve({path:_e.path},ne),S=s.createHref(_e.fullPath);return st(_e,g,{params:f(g.params),hash:Oh(_e.hash),redirectedFrom:void 0,href:S})}let N;if("path"in x)N=st({},x,{path:_p(n,x.path,ne.path).path});else{const _e=st({},x.params);for(const g in _e)_e[g]==null&&delete _e[g];N=st({},x,{params:h(x.params)}),ne.params=h(ne.params)}const Z=t.resolve(N,ne),$e=x.hash||"";Z.params=u(f(Z.params));const Ne=TQ(r,st({},x,{hash:lJ($e),path:Z.path})),Se=s.createHref(Ne);return st({fullPath:Ne,hash:$e,query:r===v1?pJ(x.query):x.query||{}},Z,{redirectedFrom:void 0,href:Se})}function R(x){return typeof x=="string"?_p(n,x,c.value.path):st({},x)}function H(x,ne){if(l!==x)return Ro(8,{from:ne,to:x})}function V(x){return w(x)}function D(x){return V(st(R(x),{replace:!0}))}function M(x){const ne=x.matched[x.matched.length-1];if(ne&&ne.redirect){const{redirect:N}=ne;let Z=typeof N=="function"?N(x):N;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=R(Z):{path:Z},Z.params={}),st({query:x.query,hash:x.hash,params:x.params},Z)}}function w(x,ne){const N=l=O(x),Z=c.value,$e=x.state,Ne=x.force,Se=x.replace===!0,_e=M(N);if(_e)return w(st(R(_e),{state:$e,force:Ne,replace:Se}),ne||N);const g=N;g.redirectedFrom=ne;let S;return!Ne&&IQ(r,Z,N)&&(S=Ro(16,{to:g,from:Z}),Ln(Z,Z,!0,!1)),(S?Promise.resolve(S):X(g,Z)).catch(A=>ts(A)?ts(A,2)?A:Ut(A):Me(A,g,Z)).then(A=>{if(A){if(ts(A,2))return w(st(R(A.to),{state:$e,force:Ne,replace:Se}),ne||g)}else A=Ce(g,Z,!0,Se,$e);return de(g,Z,A),A})}function C(x,ne){const N=H(x,ne);return N?Promise.reject(N):Promise.resolve()}function X(x,ne){let N;const[Z,$e,Ne]=SJ(x,ne);N=wp(Z.reverse(),"beforeRouteLeave",x,ne);for(const _e of Z)_e.leaveGuards.forEach(g=>{N.push(ss(g,x,ne))});const Se=C.bind(null,x,ne);return N.push(Se),Ui(N).then(()=>{N=[];for(const _e of i.list())N.push(ss(_e,x,ne));return N.push(Se),Ui(N)}).then(()=>{N=wp($e,"beforeRouteUpdate",x,ne);for(const _e of $e)_e.updateGuards.forEach(g=>{N.push(ss(g,x,ne))});return N.push(Se),Ui(N)}).then(()=>{N=[];for(const _e of x.matched)if(_e.beforeEnter&&!ne.matched.includes(_e))if(Array.isArray(_e.beforeEnter))for(const g of _e.beforeEnter)N.push(ss(g,x,ne));else N.push(ss(_e.beforeEnter,x,ne));return N.push(Se),Ui(N)}).then(()=>(x.matched.forEach(_e=>_e.enterCallbacks={}),N=wp(Ne,"beforeRouteEnter",x,ne),N.push(Se),Ui(N))).then(()=>{N=[];for(const _e of o.list())N.push(ss(_e,x,ne));return N.push(Se),Ui(N)}).catch(_e=>ts(_e,8)?_e:Promise.reject(_e))}function de(x,ne,N){for(const Z of a.list())Z(x,ne,N)}function Ce(x,ne,N,Z,$e){const Ne=H(x,ne);if(Ne)return Ne;const Se=ne===es,_e=zi?history.state:{};N&&(Z||Se?s.replace(x.fullPath,st({scroll:Se&&_e&&_e.scroll},$e)):s.push(x.fullPath,$e)),c.value=x,Ln(x,ne,N,Se),Ut()}let De;function gt(){De||(De=s.listen((x,ne,N)=>{const Z=O(x),$e=M(Z);if($e){w(st($e,{replace:!0}),Z).catch(Ba);return}l=Z;const Ne=c.value;zi&&MQ(h1(Ne.fullPath,N.delta),Yf()),X(Z,Ne).catch(Se=>ts(Se,12)?Se:ts(Se,2)?(w(Se.to,Z).then(_e=>{ts(_e,20)&&!N.delta&&N.type===Oc.pop&&s.go(-1,!1)}).catch(Ba),Promise.reject()):(N.delta&&s.go(-N.delta,!1),Me(Se,Z,Ne))).then(Se=>{Se=Se||Ce(Z,Ne,!1),Se&&(N.delta?s.go(-N.delta,!1):N.type===Oc.pop&&ts(Se,20)&&s.go(-1,!1)),de(Z,Ne,Se)}).catch(Ba)}))}let vt=pa(),nt=pa(),rt;function Me(x,ne,N){Ut(x);const Z=nt.list();return Z.length?Z.forEach($e=>$e(x,ne,N)):console.error(x),Promise.reject(x)}function We(){return rt&&c.value!==es?Promise.resolve():new Promise((x,ne)=>{vt.add([x,ne])})}function Ut(x){return rt||(rt=!x,gt(),vt.list().forEach(([ne,N])=>x?N(x):ne()),vt.reset()),x}function Ln(x,ne,N,Z){const{scrollBehavior:$e}=e;if(!zi||!$e)return Promise.resolve();const Ne=!N&&PQ(h1(x.fullPath,0))||(Z||!N)&&history.state&&history.state.scroll||null;return Og().then(()=>$e(x,ne,Ne)).then(Se=>Se&&DQ(Se)).catch(Se=>Me(Se,x,ne))}const ae=x=>s.go(x);let we;const Oe=new Set;return{currentRoute:c,addRoute:p,removeRoute:v,hasRoute:E,getRoutes:k,resolve:O,options:e,push:V,replace:D,go:ae,back:()=>ae(-1),forward:()=>ae(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:nt.add,isReady:We,install(x){const ne=this;x.component("RouterLink",vJ),x.component("RouterView",bJ),x.config.globalProperties.$router=ne,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>qs(c)}),zi&&!we&&c.value===es&&(we=!0,V(s.location).catch($e=>{}));const N={};for(const $e in es)N[$e]=Sn(()=>c.value[$e]);x.provide(Hf,ne),x.provide(jy,ks(N)),x.provide(Jm,c);const Z=x.unmount;Oe.add(x),x.unmount=function(){Oe.delete(x),Oe.size<1&&(l=es,De&&De(),De=null,c.value=es,we=!1,rt=!1),Z()}}}}function Ui(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function SJ(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(l=>xo(l,a))?r.push(a):n.push(a));const c=e.matched[o];c&&(t.matched.find(l=>xo(l,c))||s.push(c))}return[n,r,s]}function Tne(){return Rn(Hf)}function Ine(){return Rn(jy)}const TJ={},IJ={fill:"currentColor",viewBox:"0 0 136 133",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},OJ=F("path",{d:"M67.867,0c-37.48,0 -67.867,30.388 -67.867,67.875c0,29.988 19.446,55.425 46.417,64.404c3.396,0.621 4.633,-1.475 4.633,-3.275c0,-1.608 -0.058,-5.879 -0.092,-11.541c-18.879,4.1 -22.862,-9.1 -22.862,-9.1c-3.088,-7.842 -7.538,-9.93 -7.538,-9.93c-6.162,-4.208 0.467,-4.125 0.467,-4.125c6.813,0.48 10.396,6.996 10.396,6.996c6.054,10.371 15.887,7.375 19.754,5.638c0.617,-4.384 2.367,-7.375 4.308,-9.071c-15.07,-1.713 -30.916,-7.538 -30.916,-33.546c-0,-7.408 2.646,-13.467 6.987,-18.212c-0.7,-1.717 -3.029,-8.617 0.663,-17.963c-0,0 5.7,-1.825 18.666,6.958c5.413,-1.508 11.221,-2.258 16.992,-2.283c5.763,0.025 11.571,0.775 16.992,2.283c12.958,-8.783 18.646,-6.958 18.646,-6.958c3.704,9.346 1.375,16.246 0.674,17.963c4.35,4.745 6.98,10.804 6.98,18.212c-0,26.075 -15.871,31.813 -30.992,33.492c2.438,2.096 4.608,6.237 4.608,12.571c0,9.07 -0.083,16.391 -0.083,18.616c0,1.817 1.221,3.929 4.667,3.267c26.95,-8.996 46.379,-34.417 46.379,-64.396c-0,-37.487 -30.392,-67.875 -67.879,-67.875"},null,-1),CJ=[OJ];function kJ(e,t){return Fe(),ot("svg",IJ,CJ)}var vA=Qn(TJ,[["render",kJ]]);const AJ={},xJ={fill:"currentColor",version:"1.1",id:"Logo",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 248 204",style:{"enable-background":"new 0 0 248 204"},"xml:space":"preserve"},RJ=F("path",{d:"M221.95,51.29c0.15,2.17,0.15,4.34,0.15,6.53c0,66.73-50.8,143.69-143.69,143.69v-0.04 C50.97,201.51,24.1,193.65,1,178.83c3.99,0.48,8,0.72,12.02,0.73c22.74,0.02,44.83-7.61,62.72-21.66 c-21.61-0.41-40.56-14.5-47.18-35.07c7.57,1.46,15.37,1.16,22.8-0.87C27.8,117.2,10.85,96.5,10.85,72.46c0-0.22,0-0.43,0-0.64 c7.02,3.91,14.88,6.08,22.92,6.32C11.58,63.31,4.74,33.79,18.14,10.71c25.64,31.55,63.47,50.73,104.08,52.76 c-4.07-17.54,1.49-35.92,14.61-48.25c20.34-19.12,52.33-18.14,71.45,2.19c11.31-2.23,22.15-6.38,32.07-12.26 c-3.77,11.69-11.66,21.62-22.2,27.93c10.01-1.18,19.79-3.86,29-7.95C240.37,35.29,231.83,44.14,221.95,51.29z"},null,-1),DJ=[RJ];function MJ(e,t){return Fe(),ot("svg",xJ,DJ)}var yA=Qn(AJ,[["render",MJ]]);const PJ={},NJ={fill:"currentColor",viewBox:"0 0 256 262",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},$J=F("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"},null,-1),LJ=F("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"},null,-1),FJ=F("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"},null,-1),UJ=F("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"},null,-1),BJ=[$J,LJ,FJ,UJ];function jJ(e,t){return Fe(),ot("svg",NJ,BJ)}var VJ=Qn(PJ,[["render",jJ]]);const WJ=async({userId:e})=>{const t=await Yk(Co(ky(Co(Qo(),"customers"),e),"checkout_sessions"),{cancel_url:window.location.href,price:"price_1JXGjVFSSDySG1smmI1f8krR",success_url:window.location.href});return await new Promise((n,r)=>{Kk(t,s=>{var i;(i=s.data())!=null&&i.url&&n(s)},s=>{r(s)})})},zJ=async({doc:e,ownerId:t})=>{const n=await Yk(Co(Qo(),"documents"),{...e,ownerId:t,syncedAt:qk()});return new Promise((r,s)=>{Kk(n,i=>{r(i)},i=>{s(i)})})},HJ=async({ownerId:e,syncedAfter:t})=>(await Hk(zk(Co(Qo(),"documents"),Ih("ownerId","==",e),Ih("syncedAt",">",t)))).docs,One=async({docId:e})=>(await Hk(zk(Co(Qo(),"documents"),Ih("public","==",!0),Ih("id","==",e)))).docs[0],YJ=async({doc:e,docId:t})=>iX(ky(Co(Qo(),"documents"),t),{...e,syncedAt:qk()}),Xl="ACTIVATE_CONTEXT",cs="ADD_DOCUMENT",KJ="BLUR_EDITOR",Ql="DEACTIVATE_CONTEXT",Xi="DISCARD_DOCUMENT",GJ="DUPLICATE_DOCUMENT",Va="DOCUMENTS_LOADED",Wa="EDIT_DOCUMENT",qJ="FOCUS_EDITOR",Jl="LOAD_DOCUMENT",_A="LOAD_DOCUMENTS",uo="MERGE_DOCUMENT",XJ="MERGE_DOCUMENTS",za="RESTORE_DOCUMENT",Ha="RESTRICT_DOCUMENT",bp="SET_CONTEXT_TAGS",ho="SET_DOCUMENT",Ep="SET_EDITOR",ku="SET_MOD_KEY",Ya="SET_OFFLINE",Ka="SET_ONLINE",Sp="SET_RIGHT_SIDEBAR_VISIBILITY",fo="SET_SHOW_WELCOME",Ga="SHARE_DOCUMENT",QJ="SIGN_OUT",wA="SYNC",qa="TOUCH_DOCUMENT",bA="SET_SUBSCRIPTION",Qi="SET_USER";var JJ={state:()=>({isEvaluated:!1,subscription:{pro:!1},user:null}),mutations:{[bA](e,t){e.subscription=t},[Qi](e,t){e.user=t,e.isEvaluated=!0}},actions:{async[Qi](e,t){e.commit(Qi,t)},async[QJ](e,t){return sr().signOut(),e.dispatch(Qi,{user:null})}}};const EA="ADD_CONTEXT",E1="LOAD_CONTEXT",SA="LOAD_CONTEXTS",TA="REMOVE_CONTEXT";var ZJ={state:()=>({all:[]}),getters:{sortedContexts(e,t){return e.all.sort((n,r)=>n.name===r.name?0:n.name<r.name?-1:1)}},mutations:{[EA](e,t){e.all.push(t)},[E1](e,t){e.all.push(t)},[TA](e,t){e.all=e.all.filter(n=>n.id!==t.id)}},actions:{[SA]({commit:e},t){t.forEach(n=>{e(E1,n)})}}};let eZ=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const IA=e=>new TextDecoder().decode(e),tZ=e=>new TextEncoder().encode(e),nZ=()=>window.crypto.getRandomValues(new Uint8Array(12)),Xa=e=>window.btoa(String.fromCharCode.apply(null,new Uint8Array(e))),Ji=e=>{const t=window.atob(e),n=new ArrayBuffer(t.length),r=new Uint8Array(n);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return n},fl={name:"RSA-OAEP"},rZ=async(e,t)=>{const n=await window.crypto.subtle.decrypt(fl,t,e);return IA(n)},sZ=async e=>{const t={};return e.privateKey&&(t.privateKey=await OA(e.privateKey)),e.publicKey&&(t.publicKey=await CA(e.publicKey)),t},OA=async e=>`-----BEGIN PRIVATE KEY-----
${Xa(await window.crypto.subtle.exportKey("pkcs8",e))}
-----END PRIVATE KEY-----`,CA=async e=>`-----BEGIN PUBLIC KEY-----
${Xa(await window.crypto.subtle.exportKey("spki",e))}
-----END PUBLIC KEY-----`,iZ=async()=>window.crypto.subtle.generateKey({hash:"SHA-512",modulusLength:4096,name:fl.name,publicExponent:new Uint8Array([1,0,1])},!0,["encrypt","decrypt"]),oZ=async e=>{const t={};return e.privateKey&&(t.privateKey=await kA(e.privateKey)),e.publicKey&&(t.publicKey=await AA(e.publicKey)),t},kA=async e=>{const t="-----BEGIN PRIVATE KEY-----",n="-----END PRIVATE KEY-----",r=e.substring(t.length,e.length-n.length),s=Ji(r);return window.crypto.subtle.importKey("pkcs8",s,{hash:"SHA-512",name:fl.name},!0,["decrypt","unwrapKey"])},AA=async e=>{const t="-----BEGIN PUBLIC KEY-----",n="-----END PUBLIC KEY-----",r=e.substring(t.length,e.length-n.length),s=Ji(r);return window.crypto.subtle.importKey("spki",s,{hash:"SHA-512",name:fl.name},!0,["encrypt","wrapKey"])};var Cc={algorithm:fl,decrypt:rZ,exportKeys:sZ,exportPrivateKey:OA,exportPublicKey:CA,generateKeys:iZ,importKeys:oZ,importPrivateKey:kA,importPublicKey:AA};const dl={name:"AES-GCM"},aZ=async(e,t,n)=>{const r=await window.crypto.subtle.decrypt({name:dl.name,iv:n},t,e);return IA(r)},cZ=async(e,t)=>{const n=tZ(e),r=nZ();return{cipher:await window.crypto.subtle.encrypt({name:dl.name,iv:r},t,n),iv:r}},lZ=async()=>window.crypto.subtle.generateKey({name:dl.name,length:256},!0,["encrypt","decrypt"]),uZ=async e=>window.crypto.subtle.importKey("raw",e,dl.name,!0,["decrypt","encrypt"]);var kc={algorithm:dl,decrypt:aZ,encrypt:cZ,generateKey:lZ,importKey:uZ};const hZ=async(e,t)=>window.crypto.subtle.unwrapKey("raw",e,t,Cc.algorithm,kc.algorithm,!0,["encrypt","decrypt"]),fZ=async(e,t)=>window.crypto.subtle.wrapKey("raw",e,t,Cc.algorithm),dZ=async e=>{const t=Ji(e.cipher),n=Ji(e.cipherKey),r=Ji(e.iv),{privateKey:s}=await Cc.importKeys({privateKey:e.privateKey});try{var i=await hZ(n,s)}catch{var i=await Cc.decrypt(n,s).then(c=>kc.importKey(Ji(c)))}return kc.decrypt(t,i,r)},pZ=async e=>{const t=await kc.generateKey(),{cipher:n,iv:r}=await kc.encrypt(e.data,t),{publicKey:s}=await Cc.importKeys({publicKey:e.publicKey}),i=await fZ(t,s);return{cipher:Xa(n),cipherKey:Xa(i),iv:Xa(r)}},mZ=/```([^\n\s]*)(?:\s([\w-]+\.[\w]+))?\n(.*?)```/gs,gZ=/````.*?````|```.*?```|``.*?``|`.*?`|\w+:\/?\/?\S*|\(#[\w-]+\)|#([\w-]+)/gs,vZ=/````.*?````|```.*?```|``.*?``|`.*?`|\w+:\/?\/?\S*|# ([^\n]+)/gs,yZ=/````.*?````|```.*?```|``.*?``|`.*?`|- \[ \] ([^\n]+)/gs,Kf=(e,t)=>{let n=[];const r=[];for(;n=e.exec(t);)r.push(n);return r},Cne=e=>{const t=Kf(mZ,e),n=[];return t.forEach(r=>{n.push({filename:r[2],language:r[1],code:r[3]})}),n},S1=e=>{const t=Kf(gZ,e),n=new Set;return t.forEach(r=>{r[1]&&n.add(r[1].toLowerCase())}),Array.from(n).sort()},T1=e=>{const t=Kf(vZ,e),n=[];return t.forEach(r=>{r[1]&&n.push(r[1])}),n},I1=e=>{const t=Kf(yZ,e),n=[];return t.forEach(r=>{r[1]&&n.push(r[1])}),n};class Ac{constructor(t={}){this.id=t.id||eZ(),this.text=t.text||"",this.textKey=t.textKey||null,this.daily=t.daily||!1,this.iv=t.iv||null,this.encrypted=t.encrypted||!1,this.createdAt=t.createdAt||new Date,this.updatedAt=t.updatedAt||new Date,this.touchedAt=t.touchedAt||new Date,this.discardedAt=t.discardedAt||null,this.headers=this.encrypted?[]:T1(this.text),this.tags=this.encrypted?[]:S1(this.text),this.tasks=this.encrypted?[]:I1(this.text),this.firebaseId=t.firebaseId||null,this.ownerId=t.ownerId||null,this.syncedAt=t.syncedAt||null,this.public=t.public||!1}discard(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=new Date}duplicate(){return new Ac({text:this.text})}merge(t){Object.assign(this,t,{id:this.id})}restore(){this.updatedAt=new Date,this.touchedAt=new Date,this.discardedAt=null}restrict(){this.public=!1,this.updatedAt=new Date,this.touchedAt=new Date}share(){this.public=!0,this.updatedAt=new Date,this.touchedAt=new Date}touch(){this.touchedAt=new Date}update({text:t}){this.text=t,this.headers=T1(t),this.tags=S1(t),this.tasks=I1(t),this.updatedAt=new Date,this.touchedAt=new Date}}const xA=async(e,{preferEncryption:t=null,publicKey:n=null})=>{const r=Object.assign({},{...e,headers:[],tags:[],tasks:[]});if(t&&n&&!e.encrypted&&!e.public){const{cipher:s,cipherKey:i,iv:o}=await pZ({data:r.text,publicKey:n});return Object.assign({},r,{encrypted:!0,iv:o,text:s,textKey:i})}return Object.assign({},r)},RA=async(e,{privateKey:t})=>{try{if(t&&e.encrypted){const n=await dZ({cipher:e.text,cipherKey:e.textKey,iv:e.iv,privateKey:t});return new Ac(Object.assign({},e,{encrypted:!1,text:n}))}}catch{}return new Ac(e)},Ir=(e,t)=>e.all.filter(n=>!n.encrypted).find(n=>n.id===t);var _Z={state:()=>({all:[],currentId:null,loaded:!1}),getters:{allKept(e,t){return t.sorted.filter(n=>n.discardedAt===null)},daily(e,t){return t.sortedByCreated.find(n=>n.daily)},currentDoc(e,t){return t.decrypted.find(n=>n.id===e.currentId)},decrypted(e){return e.all.filter(t=>!t.encrypted)},discarded(e,t){return t.sorted.filter(n=>n.discardedAt!==null)},filtered(e,t,n){return n.context.active?t.sorted.filter(r=>n.context.tags.some(s=>r.tags.includes(s))):t.sorted},kept(e,t){return t.filtered.filter(n=>n.discardedAt===null)},sorted(e,t){return t.decrypted.sort((n,r)=>r.updatedAt-n.updatedAt)},sortedByCreated(e,t){return t.decrypted.sort((n,r)=>r.createdAt-n.createdAt)},tasks(e,t,n,r){return t.kept.filter(s=>s.tasks.length>0)},untagged(e,t){return t.allKept.filter(n=>n.tags.length==0)},withTag(e,t){return n=>t.kept.filter(r=>!!r.tags.find(s=>s===n))}},mutations:{[cs](e,t){e.all.push(t)},[Xi](e,{id:t}){Ir(e,t).discard()},[Va](e){e.loaded=!0},[Wa](e,{id:t,text:n}){Ir(e,t).update({text:n})},[Jl](e,t){e.all.push(t)},[uo](e,t){Ir(e,t.id).merge(t)},[za](e,{id:t}){Ir(e,t).restore()},[Ha](e,{id:t}){Ir(e,t).restrict()},[ho](e,{id:t}){e.currentId=t},[Ga](e,{id:t}){Ir(e,t).share()},[qa](e,{id:t}){Ir(e,t).touch()}},actions:{async[cs](e,t){e.commit(cs,t)},async[Xi](e,t){e.commit(Xi,t)},async[Va](e){e.commit(Va)},async[GJ](e,{id:t}){const n=Ir(e.state,t).duplicate();return e.commit(cs,n),n.id},async[Wa](e,t){e.commit(Wa,t)},async[Jl](e,t){e.commit(Jl,t)},async[_A](e,t){return Promise.all(t.map(n=>e.dispatch(Jl,n)))},async[uo](e,t){e.commit(uo,t)},async[XJ](e,t){const n=t.map(s=>Ir(e.state,s.id)),r=new Ac({text:n.map(s=>s.text).join(`

`)});return e.commit(cs,r),n.map(s=>e.dispatch(Xi,s))},async[za](e,t){e.commit(za,t)},async[Ha](e,t){e.commit(Ha,t)},async[ho](e,t){e.commit(ho,t)},async[Ga](e,t){e.commit(Ga,t)},async[qa](e,t){e.commit(qa,t)}}},DA={exports:{}};(function(e){(function(t,n,r){if(!t)return;for(var s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},c,l=1;l<20;++l)s[111+l]="f"+l;for(l=0;l<=9;++l)s[l+96]=l.toString();function u(w,C,X){if(w.addEventListener){w.addEventListener(C,X,!1);return}w.attachEvent("on"+C,X)}function h(w){if(w.type=="keypress"){var C=String.fromCharCode(w.which);return w.shiftKey||(C=C.toLowerCase()),C}return s[w.which]?s[w.which]:i[w.which]?i[w.which]:String.fromCharCode(w.which).toLowerCase()}function f(w,C){return w.sort().join(",")===C.sort().join(",")}function p(w){var C=[];return w.shiftKey&&C.push("shift"),w.altKey&&C.push("alt"),w.ctrlKey&&C.push("ctrl"),w.metaKey&&C.push("meta"),C}function v(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}function k(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}function E(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}function O(){if(!c){c={};for(var w in s)w>95&&w<112||s.hasOwnProperty(w)&&(c[s[w]]=w)}return c}function R(w,C,X){return X||(X=O()[w]?"keydown":"keypress"),X=="keypress"&&C.length&&(X="keydown"),X}function H(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}function V(w,C){var X,de,Ce,De=[];for(X=H(w),Ce=0;Ce<X.length;++Ce)de=X[Ce],a[de]&&(de=a[de]),C&&C!="keypress"&&o[de]&&(de=o[de],De.push("shift")),E(de)&&De.push(de);return C=R(de,De,C),{key:de,modifiers:De,action:C}}function D(w,C){return w===null||w===n?!1:w===C?!0:D(w.parentNode,C)}function M(w){var C=this;if(w=w||n,!(C instanceof M))return new M(w);C.target=w,C._callbacks={},C._directMap={};var X={},de,Ce=!1,De=!1,gt=!1;function vt(ae){ae=ae||{};var we=!1,Oe;for(Oe in X){if(ae[Oe]){we=!0;continue}X[Oe]=0}we||(gt=!1)}function nt(ae,we,Oe,Pe,x,ne){var N,Z,$e=[],Ne=Oe.type;if(!C._callbacks[ae])return[];for(Ne=="keyup"&&E(ae)&&(we=[ae]),N=0;N<C._callbacks[ae].length;++N)if(Z=C._callbacks[ae][N],!(!Pe&&Z.seq&&X[Z.seq]!=Z.level)&&Ne==Z.action&&(Ne=="keypress"&&!Oe.metaKey&&!Oe.ctrlKey||f(we,Z.modifiers))){var Se=!Pe&&Z.combo==x,_e=Pe&&Z.seq==Pe&&Z.level==ne;(Se||_e)&&C._callbacks[ae].splice(N,1),$e.push(Z)}return $e}function rt(ae,we,Oe,Pe){C.stopCallback(we,we.target||we.srcElement,Oe,Pe)||ae(we,Oe)===!1&&(v(we),k(we))}C._handleKey=function(ae,we,Oe){var Pe=nt(ae,we,Oe),x,ne={},N=0,Z=!1;for(x=0;x<Pe.length;++x)Pe[x].seq&&(N=Math.max(N,Pe[x].level));for(x=0;x<Pe.length;++x){if(Pe[x].seq){if(Pe[x].level!=N)continue;Z=!0,ne[Pe[x].seq]=1,rt(Pe[x].callback,Oe,Pe[x].combo,Pe[x].seq);continue}Z||rt(Pe[x].callback,Oe,Pe[x].combo)}var $e=Oe.type=="keypress"&&De;Oe.type==gt&&!E(ae)&&!$e&&vt(ne),De=Z&&Oe.type=="keydown"};function Me(ae){typeof ae.which!="number"&&(ae.which=ae.keyCode);var we=h(ae);if(!!we){if(ae.type=="keyup"&&Ce===we){Ce=!1;return}C.handleKey(we,p(ae),ae)}}function We(){clearTimeout(de),de=setTimeout(vt,1e3)}function Ut(ae,we,Oe,Pe){X[ae]=0;function x(Ne){return function(){gt=Ne,++X[ae],We()}}function ne(Ne){rt(Oe,Ne,ae),Pe!=="keyup"&&(Ce=h(Ne)),setTimeout(vt,10)}for(var N=0;N<we.length;++N){var Z=N+1===we.length,$e=Z?ne:x(Pe||V(we[N+1]).action);Ln(we[N],$e,Pe,ae,N)}}function Ln(ae,we,Oe,Pe,x){C._directMap[ae+":"+Oe]=we,ae=ae.replace(/\s+/g," ");var ne=ae.split(" "),N;if(ne.length>1){Ut(ae,ne,we,Oe);return}N=V(ae,Oe),C._callbacks[N.key]=C._callbacks[N.key]||[],nt(N.key,N.modifiers,{type:N.action},Pe,ae,x),C._callbacks[N.key][Pe?"unshift":"push"]({callback:we,modifiers:N.modifiers,action:N.action,seq:Pe,level:x,combo:ae})}C._bindMultiple=function(ae,we,Oe){for(var Pe=0;Pe<ae.length;++Pe)Ln(ae[Pe],we,Oe)},u(w,"keypress",Me),u(w,"keydown",Me),u(w,"keyup",Me)}M.prototype.bind=function(w,C,X){var de=this;return w=w instanceof Array?w:[w],de._bindMultiple.call(de,w,C,X),de},M.prototype.unbind=function(w,C){var X=this;return X.bind.call(X,w,function(){},C)},M.prototype.trigger=function(w,C){var X=this;return X._directMap[w+":"+C]&&X._directMap[w+":"+C]({},w),X},M.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},M.prototype.stopCallback=function(w,C){var X=this;if((" "+C.className+" ").indexOf(" mousetrap ")>-1||D(C,X.target))return!1;if("composedPath"in w&&typeof w.composedPath=="function"){var de=w.composedPath()[0];de!==w.target&&(C=de)}return C.tagName=="INPUT"||C.tagName=="SELECT"||C.tagName=="TEXTAREA"||C.isContentEditable},M.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},M.addKeycodes=function(w){for(var C in w)w.hasOwnProperty(C)&&(s[C]=w[C]);c=null},M.init=function(){var w=M(n);for(var C in w)C.charAt(0)!=="_"&&(M[C]=function(X){return function(){return w[X].apply(w,arguments)}}(C))},M.init(),t.Mousetrap=M,e.exports&&(e.exports=M),typeof r=="function"&&r.amd&&r(function(){return M})})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)})(DA);var Wy=DA.exports;(function(e){var t={},n=e.prototype.stopCallback;e.prototype.stopCallback=function(r,s,i,o){return this.paused?!0:t[i]||t[o]?!1:n.call(this,r,s,i)},e.prototype.bindGlobal=function(r,s,i){if(this.bind(r,s,i),r instanceof Array)for(s=0;s<r.length;s++)t[r[s]]=!0;else t[r]=!0},e.init()})(Mousetrap);const wZ=({keybinding:e,callback:t})=>{Wy.bind(e,(n,r)=>{n.preventDefault(),t()})},Zl=(e,t)=>{Wy.bindGlobal(e,(n,r)=>{n.preventDefault(),t()})},bZ=({keybinding:e})=>{Wy.unbind(e)},eu="DISABLE_LISTENER",Or="DISABLE_LISTENERS",tu="ENABLE_LISTENER",nu="ENABLE_LISTENERS",O1="KEYBINDINGS_LOADED",MA="LOAD_KEYBINDINGS",C1="TOGGLE_LISTENERS",Fn=e=>{VA({name:e})},EZ=(e,t)=>()=>{e(),t.dispatch(Or)},nr=(e,t,n)=>({keybinding:e,callback:EZ(t,n)}),SZ=e=>[nr("a",()=>Fn("account"),e),nr("c",()=>Fn("context"),e),nr("d",()=>Fn("discarded"),e),nr("e",()=>Fn("graph"),e),nr("n",()=>Fn("new_doc"),e),nr("p",()=>Fn("daily"),e),nr("r",()=>Fn("recent"),e),nr("s",()=>Fn("settings"),e),nr("t",()=>Fn("tasks"),e),nr("u",()=>Fn("untagged"),e)];var TZ={state:()=>({activeElement:null,listeners:[],listening:!1,loaded:!1}),getters:{},mutations:{[eu](e,t){e.listeners=e.listeners.filter(n=>n!==t)},[Or](e){e.listening=!1},[tu](e,t){e.listeners.push(t)},[nu](e){e.listening=!0},[O1](e){e.loaded=!0}},actions:{async[MA](e){Zl("esc",()=>e.dispatch(Or)),Zl("mod+k",()=>e.dispatch(C1)),Zl("mod+s",()=>e.dispatch(Or)),Zl("mod+shift+f",()=>{e.dispatch(Or),Fn("documents")}),window.addEventListener("click",()=>e.dispatch(Or)),e.commit(O1)},async[eu](e,t){bZ(t),e.commit(eu,t)},async[Or](e){await Promise.all(e.state.listeners.map(t=>{e.dispatch(eu,t)})),e.state.activeElement&&(e.state.activeElement.focus(),e.state.activeElement=null),e.commit(Or)},async[tu](e,t){wZ(t),e.commit(tu,t)},async[nu](e){e.state.activeElement=document.activeElement,e.state.activeElement.blur(),await Promise.all(SZ(e).map(t=>{e.dispatch(tu,t)})),e.commit(nu)},async[C1](e,t){return e.state.listening?e.dispatch(Or):e.dispatch(nu)}}},IZ=function(t){return OZ(t)&&!CZ(t)};function OZ(e){return!!e&&typeof e=="object"}function CZ(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||xZ(e)}var kZ=typeof Symbol=="function"&&Symbol.for,AZ=kZ?Symbol.for("react.element"):60103;function xZ(e){return e.$$typeof===AZ}function RZ(e){return Array.isArray(e)?[]:{}}function xc(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Do(RZ(e),e,t):e}function DZ(e,t,n){return e.concat(t).map(function(r){return xc(r,n)})}function MZ(e,t){if(!t.customMerge)return Do;var n=t.customMerge(e);return typeof n=="function"?n:Do}function PZ(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function k1(e){return Object.keys(e).concat(PZ(e))}function PA(e,t){try{return t in e}catch{return!1}}function NZ(e,t){return PA(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function $Z(e,t,n){var r={};return n.isMergeableObject(e)&&k1(e).forEach(function(s){r[s]=xc(e[s],n)}),k1(t).forEach(function(s){NZ(e,s)||(PA(e,s)&&n.isMergeableObject(t[s])?r[s]=MZ(s,n)(e[s],t[s],n):r[s]=xc(t[s],n))}),r}function Do(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||DZ,n.isMergeableObject=n.isMergeableObject||IZ,n.cloneUnlessOtherwiseSpecified=xc;var r=Array.isArray(t),s=Array.isArray(e),i=r===s;return i?r?n.arrayMerge(e,t,n):$Z(e,t,n):xc(t,n)}Do.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,s){return Do(r,s,n)},{})};var LZ=Do,FZ=LZ;const Au="LOAD_SETTINGS",xu="SET_CRYPTO_ENABLED",Ru="SET_CRYPTO_KEYS",Du="SET_EDITOR_IMAGES_ENABLED",Mu="SET_EDITOR_IMAGES_SHOW_CAPTIONS",Pu="SET_EDITOR_KEY_MAP",NA="SET_EDITOR_LIGATURES",$A="SET_EDITOR_READABILITY_ENABLED",UZ="SET_EDITOR_READABILITY_MAX_WIDTH",LA="SET_EDITOR_READABILITY_WORDS_PER_MINUTE",FA="SET_EDITOR_SPELLCHECK",Nu="SET_EDITOR_TAB_SIZE",UA="SET_EDITOR_TOOLBAR",BA="SET_EXPERIMENTAL",$u="SET_THEME",ys="SETTINGS_LOADED";var BZ={state:()=>({crypto:{enabled:!1,privateKey:null,publicKey:null},editor:{images:{enabled:!0,showCaptions:!0},keyMap:"default",ligatures:!0,readability:{enabled:!0,maxWidthInChars:100,wordsPerMinute:225},spellcheck:!0,tabSize:2,toolbar:!0},experimental:!1,loaded:!1,theme:"auto"}),getters:{},mutations:{[Au](e,t){Object.assign(e,FZ(e,t))},[xu](e,t){e.crypto.enabled=t},[Ru](e,t){t.privateKey&&(e.crypto.privateKey=t.privateKey),t.publicKey&&(e.crypto.publicKey=t.publicKey)},[Du](e,t){e.editor.images.enabled=t},[Mu](e,t){e.editor.images.showCaptions=t},[Pu](e,t){e.editor.keyMap=t},[NA](e,t){e.editor.ligatures=t},[$A](e,t){e.editor.readability.enabled=t},[UZ](e,t){e.editor.readability.maxWidthInChars=t},[LA](e,t){e.editor.readability.wordsPerMinute=t},[FA](e,t){e.editor.spellcheck=t},[Nu](e,t){e.editor.tabSize=t},[UA](e,t){e.editor.toolbar=t},[BA](e,t){e.experimental=t},[$u](e,t){e.theme=t},[ys](e){e.loaded=!0}},actions:{async[Au](e,t){e.commit(Au,t)},async[xu](e,t){e.commit(xu,t)},async[Ru](e,t){e.commit(Ru,t)},async[Du](e,t){e.commit(Du,t)},async[Mu](e,t){e.commit(Mu,t)},async[Pu](e,t){e.commit(Pu,t)},async[Nu](e,t){e.commit(Nu,t)},async[$u](e,t){e.commit($u,t)},async[ys](e){e.commit(ys)}}};const zy={Array:"[object Array]",Boolean:"[object Boolean]",Date:"[object Date]",Number:"[object Number]",Object:"[object Object]",String:"[object String]"},Hy=(e,t)=>Object.prototype.toString.call(e)===t,jZ=e=>Hy(e,zy.Array),VZ=e=>Hy(e,zy.Date),WZ=e=>Hy(e,zy.Object),Zo=e=>jZ(e)?zZ(e):VZ(e)?HZ(e):WZ(e)?YZ(e):e,zZ=e=>e.map(t=>Zo(t)),HZ=e=>new Date(e),YZ=e=>Object.keys(e).reduce((t,n)=>({...t,[n]:Zo(e[n])}),{}),A1="PULL_DOCUMENT",Tp="PULL_DOCUMENTS",x1="PUSH_DOCUMENT",R1="PUSH_DOCUMENTS",KZ=(e,t)=>e.documents.all.find(n=>n.id===t);var GZ={state:()=>({}),getters:{lastSyncedAt(e,t,n){return new Date(Math.max(0,...n.documents.all.map(r=>r.syncedAt)))}},actions:{async[A1](e,t){const n=KZ(e.rootState,t.id);if(n){if(n.updatedAt<t.updatedAt)return e.dispatch(uo,t);if(!(n.updatedAt>t.updatedAt)){if(!n.syncedAt||n.syncedAt<t.syncedAt)return e.dispatch(uo,t)}}else return e.dispatch(cs,t)},async[Tp](e){const t=await HJ({ownerId:e.rootState.auth.user.uid,syncedAfter:e.getters.lastSyncedAt});return Promise.all(t.map(async n=>{const r=n.data(),s={...r,id:r.id||r.clientId,firebaseId:n.id,textKey:r.textKey||r.dataKey,createdAt:r.createdAt?r.createdAt.toDate():null,discardedAt:r.discardedAt?r.discardedAt.toDate():null,updatedAt:r.updatedAt?r.updatedAt.toDate():null,touchedAt:r.touchedAt?r.touchedAt.toDate():null,syncedAt:r.syncedAt.toDate()},i=await RA(s,{privateKey:e.rootState.settings.crypto.privateKey});return e.dispatch(A1,i)}))},async[x1](e,t){const n=Zo(await xA(t,{preferEncryption:e.rootState.settings.crypto.enabled,publicKey:e.rootState.settings.crypto.publicKey}));if(n.syncedAt){if(n.updatedAt>n.syncedAt||n.touchedAt>n.syncedAt)return YJ({doc:n,docId:n.firebaseId})}else return zJ({doc:n,ownerId:e.rootState.auth.user.uid})},async[R1](e){await Promise.all(e.rootState.documents.all.map(t=>e.dispatch(x1,t)))},async[wA](e){await e.dispatch(Tp),await e.dispatch(R1),await e.dispatch(Tp)}}},jA={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(l,u){if(!s[l]){if(!r[l]){var h=typeof Il=="function"&&Il;if(!u&&h)return h(l,!0);if(a)return a(l,!0);var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}var p=s[l]={exports:{}};r[l][0].call(p.exports,function(v){var k=r[l][1][v];return o(k||v)},p,p.exports,n,r,s,i)}return s[l].exports}for(var a=typeof Il=="function"&&Il,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(n,r,s){(function(i){var o=i.MutationObserver||i.WebKitMutationObserver,a;if(o){var c=0,l=new o(v),u=i.document.createTextNode("");l.observe(u,{characterData:!0}),a=function(){u.data=c=++c%2}}else if(!i.setImmediate&&typeof i.MessageChannel!="undefined"){var h=new i.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?a=function(){var E=i.document.createElement("script");E.onreadystatechange=function(){v(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},i.document.documentElement.appendChild(E)}:a=function(){setTimeout(v,0)};var f,p=[];function v(){f=!0;for(var E,O,R=p.length;R;){for(O=p,p=[],E=-1;++E<R;)O[E]();R=p.length}f=!1}r.exports=k;function k(E){p.push(E)===1&&!f&&a()}}).call(this,typeof $t!="undefined"?$t:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,s){var i=n(1);function o(){}var a={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];r.exports=h;function h(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,D!==o&&k(this,D)}h.prototype.catch=function(D){return this.then(null,D)},h.prototype.then=function(D,M){if(typeof D!="function"&&this.state===l||typeof M!="function"&&this.state===c)return this;var w=new this.constructor(o);if(this.state!==u){var C=this.state===l?D:M;p(w,C,this.outcome)}else this.queue.push(new f(w,D,M));return w};function f(D,M,w){this.promise=D,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(D){a.resolve(this.promise,D)},f.prototype.otherCallFulfilled=function(D){p(this.promise,this.onFulfilled,D)},f.prototype.callRejected=function(D){a.reject(this.promise,D)},f.prototype.otherCallRejected=function(D){p(this.promise,this.onRejected,D)};function p(D,M,w){i(function(){var C;try{C=M(w)}catch(X){return a.reject(D,X)}C===D?a.reject(D,new TypeError("Cannot resolve promise with itself")):a.resolve(D,C)})}a.resolve=function(D,M){var w=E(v,M);if(w.status==="error")return a.reject(D,w.value);var C=w.value;if(C)k(D,C);else{D.state=l,D.outcome=M;for(var X=-1,de=D.queue.length;++X<de;)D.queue[X].callFulfilled(M)}return D},a.reject=function(D,M){D.state=c,D.outcome=M;for(var w=-1,C=D.queue.length;++w<C;)D.queue[w].callRejected(M);return D};function v(D){var M=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof M=="function")return function(){M.apply(D,arguments)}}function k(D,M){var w=!1;function C(De){w||(w=!0,a.reject(D,De))}function X(De){w||(w=!0,a.resolve(D,De))}function de(){M(X,C)}var Ce=E(de);Ce.status==="error"&&C(Ce.value)}function E(D,M){var w={};try{w.value=D(M),w.status="success"}catch(C){w.status="error",w.value=C}return w}h.resolve=O;function O(D){return D instanceof this?D:a.resolve(new this(o),D)}h.reject=R;function R(D){var M=new this(o);return a.reject(M,D)}h.all=H;function H(D){var M=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=D.length,C=!1;if(!w)return this.resolve([]);for(var X=new Array(w),de=0,Ce=-1,De=new this(o);++Ce<w;)gt(D[Ce],Ce);return De;function gt(vt,nt){M.resolve(vt).then(rt,function(Me){C||(C=!0,a.reject(De,Me))});function rt(Me){X[nt]=Me,++de===w&&!C&&(C=!0,a.resolve(De,X))}}}h.race=V;function V(D){var M=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=D.length,C=!1;if(!w)return this.resolve([]);for(var X=-1,de=new this(o);++X<w;)Ce(D[X]);return de;function Ce(De){M.resolve(De).then(function(gt){C||(C=!0,a.resolve(de,gt))},function(gt){C||(C=!0,a.reject(de,gt))})}}},{1:1}],3:[function(n,r,s){(function(i){typeof i.Promise!="function"&&(i.Promise=n(2))}).call(this,typeof $t!="undefined"?$t:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(n,r,s){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function o(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var c=a();function l(){try{if(!c||!c.open)return!1;var d=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),y=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!d||y)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function u(d,y){d=d||[],y=y||{};try{return new Blob(d,y)}catch(b){if(b.name!=="TypeError")throw b;for(var m=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,T=new m,I=0;I<d.length;I+=1)T.append(d[I]);return T.getBlob(y.type)}}typeof Promise=="undefined"&&n(3);var h=Promise;function f(d,y){y&&d.then(function(m){y(null,m)},function(m){y(m)})}function p(d,y,m){typeof y=="function"&&d.then(y),typeof m=="function"&&d.catch(m)}function v(d){return typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),d}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var E="local-forage-detect-blob-support",O=void 0,R={},H=Object.prototype.toString,V="readonly",D="readwrite";function M(d){for(var y=d.length,m=new ArrayBuffer(y),T=new Uint8Array(m),I=0;I<y;I++)T[I]=d.charCodeAt(I);return m}function w(d){return new h(function(y){var m=d.transaction(E,D),T=u([""]);m.objectStore(E).put(T,"key"),m.onabort=function(I){I.preventDefault(),I.stopPropagation(),y(!1)},m.oncomplete=function(){var I=navigator.userAgent.match(/Chrome\/(\d+)/),b=navigator.userAgent.match(/Edge\//);y(b||!I||parseInt(I[1],10)>=43)}}).catch(function(){return!1})}function C(d){return typeof O=="boolean"?h.resolve(O):w(d).then(function(y){return O=y,O})}function X(d){var y=R[d.name],m={};m.promise=new h(function(T,I){m.resolve=T,m.reject=I}),y.deferredOperations.push(m),y.dbReady?y.dbReady=y.dbReady.then(function(){return m.promise}):y.dbReady=m.promise}function de(d){var y=R[d.name],m=y.deferredOperations.pop();if(m)return m.resolve(),m.promise}function Ce(d,y){var m=R[d.name],T=m.deferredOperations.pop();if(T)return T.reject(y),T.promise}function De(d,y){return new h(function(m,T){if(R[d.name]=R[d.name]||we(),d.db)if(y)X(d),d.db.close();else return m(d.db);var I=[d.name];y&&I.push(d.version);var b=c.open.apply(c,I);y&&(b.onupgradeneeded=function(P){var B=b.result;try{B.createObjectStore(d.storeName),P.oldVersion<=1&&B.createObjectStore(E)}catch(Y){if(Y.name==="ConstraintError")console.warn('The database "'+d.name+'" has been upgraded from version '+P.oldVersion+" to version "+P.newVersion+', but the storage "'+d.storeName+'" already exists.');else throw Y}}),b.onerror=function(P){P.preventDefault(),T(b.error)},b.onsuccess=function(){var P=b.result;P.onversionchange=function(B){B.target.close()},m(P),de(d)}})}function gt(d){return De(d,!1)}function vt(d){return De(d,!0)}function nt(d,y){if(!d.db)return!0;var m=!d.db.objectStoreNames.contains(d.storeName),T=d.version<d.db.version,I=d.version>d.db.version;if(T&&(d.version!==y&&console.warn('The database "'+d.name+`" can't be downgraded from version `+d.db.version+" to version "+d.version+"."),d.version=d.db.version),I||m){if(m){var b=d.db.version+1;b>d.version&&(d.version=b)}return!0}return!1}function rt(d){return new h(function(y,m){var T=new FileReader;T.onerror=m,T.onloadend=function(I){var b=btoa(I.target.result||"");y({__local_forage_encoded_blob:!0,data:b,type:d.type})},T.readAsBinaryString(d)})}function Me(d){var y=M(atob(d.data));return u([y],{type:d.type})}function We(d){return d&&d.__local_forage_encoded_blob}function Ut(d){var y=this,m=y._initReady().then(function(){var T=R[y._dbInfo.name];if(T&&T.dbReady)return T.dbReady});return p(m,d,d),m}function Ln(d){X(d);for(var y=R[d.name],m=y.forages,T=0;T<m.length;T++){var I=m[T];I._dbInfo.db&&(I._dbInfo.db.close(),I._dbInfo.db=null)}return d.db=null,gt(d).then(function(b){return d.db=b,nt(d)?vt(d):b}).then(function(b){d.db=y.db=b;for(var P=0;P<m.length;P++)m[P]._dbInfo.db=b}).catch(function(b){throw Ce(d,b),b})}function ae(d,y,m,T){T===void 0&&(T=1);try{var I=d.db.transaction(d.storeName,y);m(null,I)}catch(b){if(T>0&&(!d.db||b.name==="InvalidStateError"||b.name==="NotFoundError"))return h.resolve().then(function(){if(!d.db||b.name==="NotFoundError"&&!d.db.objectStoreNames.contains(d.storeName)&&d.version<=d.db.version)return d.db&&(d.version=d.db.version+1),vt(d)}).then(function(){return Ln(d).then(function(){ae(d,y,m,T-1)})}).catch(m);m(b)}}function we(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Oe(d){var y=this,m={db:null};if(d)for(var T in d)m[T]=d[T];var I=R[m.name];I||(I=we(),R[m.name]=I),I.forages.push(y),y._initReady||(y._initReady=y.ready,y.ready=Ut);var b=[];function P(){return h.resolve()}for(var B=0;B<I.forages.length;B++){var Y=I.forages[B];Y!==y&&b.push(Y._initReady().catch(P))}var K=I.forages.slice(0);return h.all(b).then(function(){return m.db=I.db,gt(m)}).then(function(Q){return m.db=Q,nt(m,y._defaultConfig.version)?vt(m):Q}).then(function(Q){m.db=I.db=Q,y._dbInfo=m;for(var ce=0;ce<K.length;ce++){var Ae=K[ce];Ae!==y&&(Ae._dbInfo.db=m.db,Ae._dbInfo.version=m.version)}})}function Pe(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){ae(m._dbInfo,V,function(P,B){if(P)return b(P);try{var Y=B.objectStore(m._dbInfo.storeName),K=Y.get(d);K.onsuccess=function(){var Q=K.result;Q===void 0&&(Q=null),We(Q)&&(Q=Me(Q)),I(Q)},K.onerror=function(){b(K.error)}}catch(Q){b(Q)}})}).catch(b)});return f(T,y),T}function x(d,y){var m=this,T=new h(function(I,b){m.ready().then(function(){ae(m._dbInfo,V,function(P,B){if(P)return b(P);try{var Y=B.objectStore(m._dbInfo.storeName),K=Y.openCursor(),Q=1;K.onsuccess=function(){var ce=K.result;if(ce){var Ae=ce.value;We(Ae)&&(Ae=Me(Ae));var Xe=d(Ae,ce.key,Q++);Xe!==void 0?I(Xe):ce.continue()}else I()},K.onerror=function(){b(K.error)}}catch(ce){b(ce)}})}).catch(b)});return f(T,y),T}function ne(d,y,m){var T=this;d=v(d);var I=new h(function(b,P){var B;T.ready().then(function(){return B=T._dbInfo,H.call(y)==="[object Blob]"?C(B.db).then(function(Y){return Y?y:rt(y)}):y}).then(function(Y){ae(T._dbInfo,D,function(K,Q){if(K)return P(K);try{var ce=Q.objectStore(T._dbInfo.storeName);Y===null&&(Y=void 0);var Ae=ce.put(Y,d);Q.oncomplete=function(){Y===void 0&&(Y=null),b(Y)},Q.onabort=Q.onerror=function(){var Xe=Ae.error?Ae.error:Ae.transaction.error;P(Xe)}}catch(Xe){P(Xe)}})}).catch(P)});return f(I,m),I}function N(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){ae(m._dbInfo,D,function(P,B){if(P)return b(P);try{var Y=B.objectStore(m._dbInfo.storeName),K=Y.delete(d);B.oncomplete=function(){I()},B.onerror=function(){b(K.error)},B.onabort=function(){var Q=K.error?K.error:K.transaction.error;b(Q)}}catch(Q){b(Q)}})}).catch(b)});return f(T,y),T}function Z(d){var y=this,m=new h(function(T,I){y.ready().then(function(){ae(y._dbInfo,D,function(b,P){if(b)return I(b);try{var B=P.objectStore(y._dbInfo.storeName),Y=B.clear();P.oncomplete=function(){T()},P.onabort=P.onerror=function(){var K=Y.error?Y.error:Y.transaction.error;I(K)}}catch(K){I(K)}})}).catch(I)});return f(m,d),m}function $e(d){var y=this,m=new h(function(T,I){y.ready().then(function(){ae(y._dbInfo,V,function(b,P){if(b)return I(b);try{var B=P.objectStore(y._dbInfo.storeName),Y=B.count();Y.onsuccess=function(){T(Y.result)},Y.onerror=function(){I(Y.error)}}catch(K){I(K)}})}).catch(I)});return f(m,d),m}function Ne(d,y){var m=this,T=new h(function(I,b){if(d<0){I(null);return}m.ready().then(function(){ae(m._dbInfo,V,function(P,B){if(P)return b(P);try{var Y=B.objectStore(m._dbInfo.storeName),K=!1,Q=Y.openKeyCursor();Q.onsuccess=function(){var ce=Q.result;if(!ce){I(null);return}d===0||K?I(ce.key):(K=!0,ce.advance(d))},Q.onerror=function(){b(Q.error)}}catch(ce){b(ce)}})}).catch(b)});return f(T,y),T}function Se(d){var y=this,m=new h(function(T,I){y.ready().then(function(){ae(y._dbInfo,V,function(b,P){if(b)return I(b);try{var B=P.objectStore(y._dbInfo.storeName),Y=B.openKeyCursor(),K=[];Y.onsuccess=function(){var Q=Y.result;if(!Q){T(K);return}K.push(Q.key),Q.continue()},Y.onerror=function(){I(Y.error)}}catch(Q){I(Q)}})}).catch(I)});return f(m,d),m}function _e(d,y){y=k.apply(this,arguments);var m=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||m.name,d.storeName=d.storeName||m.storeName);var T=this,I;if(!d.name)I=h.reject("Invalid arguments");else{var b=d.name===m.name&&T._dbInfo.db,P=b?h.resolve(T._dbInfo.db):gt(d).then(function(B){var Y=R[d.name],K=Y.forages;Y.db=B;for(var Q=0;Q<K.length;Q++)K[Q]._dbInfo.db=B;return B});d.storeName?I=P.then(function(B){if(!!B.objectStoreNames.contains(d.storeName)){var Y=B.version+1;X(d);var K=R[d.name],Q=K.forages;B.close();for(var ce=0;ce<Q.length;ce++){var Ae=Q[ce];Ae._dbInfo.db=null,Ae._dbInfo.version=Y}var Xe=new h(function(Je,St){var _t=c.open(d.name,Y);_t.onerror=function(An){var ra=_t.result;ra.close(),St(An)},_t.onupgradeneeded=function(){var An=_t.result;An.deleteObjectStore(d.storeName)},_t.onsuccess=function(){var An=_t.result;An.close(),Je(An)}});return Xe.then(function(Je){K.db=Je;for(var St=0;St<Q.length;St++){var _t=Q[St];_t._dbInfo.db=Je,de(_t._dbInfo)}}).catch(function(Je){throw(Ce(d,Je)||h.resolve()).catch(function(){}),Je})}}):I=P.then(function(B){X(d);var Y=R[d.name],K=Y.forages;B.close();for(var Q=0;Q<K.length;Q++){var ce=K[Q];ce._dbInfo.db=null}var Ae=new h(function(Xe,Je){var St=c.deleteDatabase(d.name);St.onerror=function(){var _t=St.result;_t&&_t.close(),Je(St.error)},St.onblocked=function(){console.warn('dropInstance blocked for database "'+d.name+'" until all open connections are closed')},St.onsuccess=function(){var _t=St.result;_t&&_t.close(),Xe(_t)}});return Ae.then(function(Xe){Y.db=Xe;for(var Je=0;Je<K.length;Je++){var St=K[Je];de(St._dbInfo)}}).catch(function(Xe){throw(Ce(d,Xe)||h.resolve()).catch(function(){}),Xe})})}return f(I,y),I}var g={_driver:"asyncStorage",_initStorage:Oe,_support:l(),iterate:x,getItem:Pe,setItem:ne,removeItem:N,clear:Z,length:$e,key:Ne,keys:Se,dropInstance:_e};function S(){return typeof openDatabase=="function"}var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U="~~local_forage_type~",L=/^~~local_forage_type~([^~]+)~/,q="__lfsc__:",ee=q.length,G="arbf",J="blob",j="si08",le="ui08",oe="uic8",ue="si16",ge="si32",Le="ur16",Ge="ui32",qe="fl32",Ze="fl64",dn=ee+G.length,Er=Object.prototype.toString;function ea(d){var y=d.length*.75,m=d.length,T,I=0,b,P,B,Y;d[d.length-1]==="="&&(y--,d[d.length-2]==="="&&y--);var K=new ArrayBuffer(y),Q=new Uint8Array(K);for(T=0;T<m;T+=4)b=A.indexOf(d[T]),P=A.indexOf(d[T+1]),B=A.indexOf(d[T+2]),Y=A.indexOf(d[T+3]),Q[I++]=b<<2|P>>4,Q[I++]=(P&15)<<4|B>>2,Q[I++]=(B&3)<<6|Y&63;return K}function Sr(d){var y=new Uint8Array(d),m="",T;for(T=0;T<y.length;T+=3)m+=A[y[T]>>2],m+=A[(y[T]&3)<<4|y[T+1]>>4],m+=A[(y[T+1]&15)<<2|y[T+2]>>6],m+=A[y[T+2]&63];return y.length%3===2?m=m.substring(0,m.length-1)+"=":y.length%3===1&&(m=m.substring(0,m.length-2)+"=="),m}function pl(d,y){var m="";if(d&&(m=Er.call(d)),d&&(m==="[object ArrayBuffer]"||d.buffer&&Er.call(d.buffer)==="[object ArrayBuffer]")){var T,I=q;d instanceof ArrayBuffer?(T=d,I+=G):(T=d.buffer,m==="[object Int8Array]"?I+=j:m==="[object Uint8Array]"?I+=le:m==="[object Uint8ClampedArray]"?I+=oe:m==="[object Int16Array]"?I+=ue:m==="[object Uint16Array]"?I+=Le:m==="[object Int32Array]"?I+=ge:m==="[object Uint32Array]"?I+=Ge:m==="[object Float32Array]"?I+=qe:m==="[object Float64Array]"?I+=Ze:y(new Error("Failed to get type for BinaryArray"))),y(I+Sr(T))}else if(m==="[object Blob]"){var b=new FileReader;b.onload=function(){var P=U+d.type+"~"+Sr(this.result);y(q+J+P)},b.readAsArrayBuffer(d)}else try{y(JSON.stringify(d))}catch(P){console.error("Couldn't convert value into a JSON string: ",d),y(null,P)}}function nn(d){if(d.substring(0,ee)!==q)return JSON.parse(d);var y=d.substring(dn),m=d.substring(ee,dn),T;if(m===J&&L.test(y)){var I=y.match(L);T=I[1],y=y.substring(I[0].length)}var b=ea(y);switch(m){case G:return b;case J:return u([b],{type:T});case j:return new Int8Array(b);case le:return new Uint8Array(b);case oe:return new Uint8ClampedArray(b);case ue:return new Int16Array(b);case Le:return new Uint16Array(b);case ge:return new Int32Array(b);case Ge:return new Uint32Array(b);case qe:return new Float32Array(b);case Ze:return new Float64Array(b);default:throw new Error("Unkown type: "+m)}}var pn={serialize:pl,deserialize:nn,stringToBuffer:ea,bufferToString:Sr};function ta(d,y,m,T){d.executeSql("CREATE TABLE IF NOT EXISTS "+y.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],m,T)}function KA(d){var y=this,m={db:null};if(d)for(var T in d)m[T]=typeof d[T]!="string"?d[T].toString():d[T];var I=new h(function(b,P){try{m.db=openDatabase(m.name,String(m.version),m.description,m.size)}catch(B){return P(B)}m.db.transaction(function(B){ta(B,m,function(){y._dbInfo=m,b()},function(Y,K){P(K)})},P)});return m.serializer=pn,I}function qr(d,y,m,T,I,b){d.executeSql(m,T,I,function(P,B){B.code===B.SYNTAX_ERR?P.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[y.storeName],function(Y,K){K.rows.length?b(Y,B):ta(Y,y,function(){Y.executeSql(m,T,I,b)},b)},b):b(P,B)},b)}function GA(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(B){qr(B,P,"SELECT * FROM "+P.storeName+" WHERE key = ? LIMIT 1",[d],function(Y,K){var Q=K.rows.length?K.rows.item(0).value:null;Q&&(Q=P.serializer.deserialize(Q)),I(Q)},function(Y,K){b(K)})})}).catch(b)});return f(T,y),T}function qA(d,y){var m=this,T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(B){qr(B,P,"SELECT * FROM "+P.storeName,[],function(Y,K){for(var Q=K.rows,ce=Q.length,Ae=0;Ae<ce;Ae++){var Xe=Q.item(Ae),Je=Xe.value;if(Je&&(Je=P.serializer.deserialize(Je)),Je=d(Je,Xe.key,Ae+1),Je!==void 0){I(Je);return}}I()},function(Y,K){b(K)})})}).catch(b)});return f(T,y),T}function Gy(d,y,m,T){var I=this;d=v(d);var b=new h(function(P,B){I.ready().then(function(){y===void 0&&(y=null);var Y=y,K=I._dbInfo;K.serializer.serialize(y,function(Q,ce){ce?B(ce):K.db.transaction(function(Ae){qr(Ae,K,"INSERT OR REPLACE INTO "+K.storeName+" (key, value) VALUES (?, ?)",[d,Q],function(){P(Y)},function(Xe,Je){B(Je)})},function(Ae){if(Ae.code===Ae.QUOTA_ERR){if(T>0){P(Gy.apply(I,[d,Y,m,T-1]));return}B(Ae)}})})}).catch(B)});return f(b,m),b}function XA(d,y,m){return Gy.apply(this,[d,y,m,1])}function QA(d,y){var m=this;d=v(d);var T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(B){qr(B,P,"DELETE FROM "+P.storeName+" WHERE key = ?",[d],function(){I()},function(Y,K){b(K)})})}).catch(b)});return f(T,y),T}function JA(d){var y=this,m=new h(function(T,I){y.ready().then(function(){var b=y._dbInfo;b.db.transaction(function(P){qr(P,b,"DELETE FROM "+b.storeName,[],function(){T()},function(B,Y){I(Y)})})}).catch(I)});return f(m,d),m}function ZA(d){var y=this,m=new h(function(T,I){y.ready().then(function(){var b=y._dbInfo;b.db.transaction(function(P){qr(P,b,"SELECT COUNT(key) as c FROM "+b.storeName,[],function(B,Y){var K=Y.rows.item(0).c;T(K)},function(B,Y){I(Y)})})}).catch(I)});return f(m,d),m}function ex(d,y){var m=this,T=new h(function(I,b){m.ready().then(function(){var P=m._dbInfo;P.db.transaction(function(B){qr(B,P,"SELECT key FROM "+P.storeName+" WHERE id = ? LIMIT 1",[d+1],function(Y,K){var Q=K.rows.length?K.rows.item(0).key:null;I(Q)},function(Y,K){b(K)})})}).catch(b)});return f(T,y),T}function tx(d){var y=this,m=new h(function(T,I){y.ready().then(function(){var b=y._dbInfo;b.db.transaction(function(P){qr(P,b,"SELECT key FROM "+b.storeName,[],function(B,Y){for(var K=[],Q=0;Q<Y.rows.length;Q++)K.push(Y.rows.item(Q).key);T(K)},function(B,Y){I(Y)})})}).catch(I)});return f(m,d),m}function nx(d){return new h(function(y,m){d.transaction(function(T){T.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(I,b){for(var P=[],B=0;B<b.rows.length;B++)P.push(b.rows.item(B).name);y({db:d,storeNames:P})},function(I,b){m(b)})},function(T){m(T)})})}function rx(d,y){y=k.apply(this,arguments);var m=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||m.name,d.storeName=d.storeName||m.storeName);var T=this,I;return d.name?I=new h(function(b){var P;d.name===m.name?P=T._dbInfo.db:P=openDatabase(d.name,"","",0),d.storeName?b({db:P,storeNames:[d.storeName]}):b(nx(P))}).then(function(b){return new h(function(P,B){b.db.transaction(function(Y){function K(Xe){return new h(function(Je,St){Y.executeSql("DROP TABLE IF EXISTS "+Xe,[],function(){Je()},function(_t,An){St(An)})})}for(var Q=[],ce=0,Ae=b.storeNames.length;ce<Ae;ce++)Q.push(K(b.storeNames[ce]));h.all(Q).then(function(){P()}).catch(function(Xe){B(Xe)})},function(Y){B(Y)})})}):I=h.reject("Invalid arguments"),f(I,y),I}var sx={_driver:"webSQLStorage",_initStorage:KA,_support:S(),iterate:qA,getItem:GA,setItem:XA,removeItem:QA,clear:JA,length:ZA,key:ex,keys:tx,dropInstance:rx};function ix(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function qy(d,y){var m=d.name+"/";return d.storeName!==y.storeName&&(m+=d.storeName+"/"),m}function ox(){var d="_localforage_support_test";try{return localStorage.setItem(d,!0),localStorage.removeItem(d),!1}catch{return!0}}function ax(){return!ox()||localStorage.length>0}function cx(d){var y=this,m={};if(d)for(var T in d)m[T]=d[T];return m.keyPrefix=qy(d,y._defaultConfig),ax()?(y._dbInfo=m,m.serializer=pn,h.resolve()):h.reject()}function lx(d){var y=this,m=y.ready().then(function(){for(var T=y._dbInfo.keyPrefix,I=localStorage.length-1;I>=0;I--){var b=localStorage.key(I);b.indexOf(T)===0&&localStorage.removeItem(b)}});return f(m,d),m}function ux(d,y){var m=this;d=v(d);var T=m.ready().then(function(){var I=m._dbInfo,b=localStorage.getItem(I.keyPrefix+d);return b&&(b=I.serializer.deserialize(b)),b});return f(T,y),T}function hx(d,y){var m=this,T=m.ready().then(function(){for(var I=m._dbInfo,b=I.keyPrefix,P=b.length,B=localStorage.length,Y=1,K=0;K<B;K++){var Q=localStorage.key(K);if(Q.indexOf(b)===0){var ce=localStorage.getItem(Q);if(ce&&(ce=I.serializer.deserialize(ce)),ce=d(ce,Q.substring(P),Y++),ce!==void 0)return ce}}});return f(T,y),T}function fx(d,y){var m=this,T=m.ready().then(function(){var I=m._dbInfo,b;try{b=localStorage.key(d)}catch{b=null}return b&&(b=b.substring(I.keyPrefix.length)),b});return f(T,y),T}function dx(d){var y=this,m=y.ready().then(function(){for(var T=y._dbInfo,I=localStorage.length,b=[],P=0;P<I;P++){var B=localStorage.key(P);B.indexOf(T.keyPrefix)===0&&b.push(B.substring(T.keyPrefix.length))}return b});return f(m,d),m}function px(d){var y=this,m=y.keys().then(function(T){return T.length});return f(m,d),m}function mx(d,y){var m=this;d=v(d);var T=m.ready().then(function(){var I=m._dbInfo;localStorage.removeItem(I.keyPrefix+d)});return f(T,y),T}function gx(d,y,m){var T=this;d=v(d);var I=T.ready().then(function(){y===void 0&&(y=null);var b=y;return new h(function(P,B){var Y=T._dbInfo;Y.serializer.serialize(y,function(K,Q){if(Q)B(Q);else try{localStorage.setItem(Y.keyPrefix+d,K),P(b)}catch(ce){(ce.name==="QuotaExceededError"||ce.name==="NS_ERROR_DOM_QUOTA_REACHED")&&B(ce),B(ce)}})})});return f(I,m),I}function vx(d,y){if(y=k.apply(this,arguments),d=typeof d!="function"&&d||{},!d.name){var m=this.config();d.name=d.name||m.name,d.storeName=d.storeName||m.storeName}var T=this,I;return d.name?I=new h(function(b){d.storeName?b(qy(d,T._defaultConfig)):b(d.name+"/")}).then(function(b){for(var P=localStorage.length-1;P>=0;P--){var B=localStorage.key(P);B.indexOf(b)===0&&localStorage.removeItem(B)}}):I=h.reject("Invalid arguments"),f(I,y),I}var yx={_driver:"localStorageWrapper",_initStorage:cx,_support:ix(),iterate:hx,getItem:ux,setItem:gx,removeItem:mx,clear:lx,length:px,key:fx,keys:dx,dropInstance:vx},_x=function(y,m){return y===m||typeof y=="number"&&typeof m=="number"&&isNaN(y)&&isNaN(m)},wx=function(y,m){for(var T=y.length,I=0;I<T;){if(_x(y[I],m))return!0;I++}return!1},Xy=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"},na={},Qy={},Ai={INDEXEDDB:g,WEBSQL:sx,LOCALSTORAGE:yx},bx=[Ai.INDEXEDDB._driver,Ai.WEBSQL._driver,Ai.LOCALSTORAGE._driver],ml=["dropInstance"],qf=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ml),Ex={description:"",driver:bx.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Sx(d,y){d[y]=function(){var m=arguments;return d.ready().then(function(){return d[y].apply(d,m)})}}function Xf(){for(var d=1;d<arguments.length;d++){var y=arguments[d];if(y)for(var m in y)y.hasOwnProperty(m)&&(Xy(y[m])?arguments[0][m]=y[m].slice():arguments[0][m]=y[m])}return arguments[0]}var Tx=function(){function d(y){o(this,d);for(var m in Ai)if(Ai.hasOwnProperty(m)){var T=Ai[m],I=T._driver;this[m]=I,na[I]||this.defineDriver(T)}this._defaultConfig=Xf({},Ex),this._config=Xf({},this._defaultConfig,y),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return d.prototype.config=function(m){if((typeof m=="undefined"?"undefined":i(m))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var T in m){if(T==="storeName"&&(m[T]=m[T].replace(/\W/g,"_")),T==="version"&&typeof m[T]!="number")return new Error("Database version must be a number.");this._config[T]=m[T]}return"driver"in m&&m.driver?this.setDriver(this._config.driver):!0}else return typeof m=="string"?this._config[m]:this._config},d.prototype.defineDriver=function(m,T,I){var b=new h(function(P,B){try{var Y=m._driver,K=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!m._driver){B(K);return}for(var Q=qf.concat("_initStorage"),ce=0,Ae=Q.length;ce<Ae;ce++){var Xe=Q[ce],Je=!wx(ml,Xe);if((Je||m[Xe])&&typeof m[Xe]!="function"){B(K);return}}var St=function(){for(var ra=function(Cx){return function(){var kx=new Error("Method "+Cx+" is not implemented by the current driver"),Jy=h.reject(kx);return f(Jy,arguments[arguments.length-1]),Jy}},Qf=0,Ox=ml.length;Qf<Ox;Qf++){var Jf=ml[Qf];m[Jf]||(m[Jf]=ra(Jf))}};St();var _t=function(ra){na[Y]&&console.info("Redefining LocalForage driver: "+Y),na[Y]=m,Qy[Y]=ra,P()};"_support"in m?m._support&&typeof m._support=="function"?m._support().then(_t,B):_t(!!m._support):_t(!0)}catch(An){B(An)}});return p(b,T,I),b},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(m,T,I){var b=na[m]?h.resolve(na[m]):h.reject(new Error("Driver not found."));return p(b,T,I),b},d.prototype.getSerializer=function(m){var T=h.resolve(pn);return p(T,m),T},d.prototype.ready=function(m){var T=this,I=T._driverSet.then(function(){return T._ready===null&&(T._ready=T._initDriver()),T._ready});return p(I,m,m),I},d.prototype.setDriver=function(m,T,I){var b=this;Xy(m)||(m=[m]);var P=this._getSupportedDrivers(m);function B(){b._config.driver=b.driver()}function Y(ce){return b._extend(ce),B(),b._ready=b._initStorage(b._config),b._ready}function K(ce){return function(){var Ae=0;function Xe(){for(;Ae<ce.length;){var Je=ce[Ae];return Ae++,b._dbInfo=null,b._ready=null,b.getDriver(Je).then(Y).catch(Xe)}B();var St=new Error("No available storage method found.");return b._driverSet=h.reject(St),b._driverSet}return Xe()}}var Q=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=Q.then(function(){var ce=P[0];return b._dbInfo=null,b._ready=null,b.getDriver(ce).then(function(Ae){b._driver=Ae._driver,B(),b._wrapLibraryMethodsWithReady(),b._initDriver=K(P)})}).catch(function(){B();var ce=new Error("No available storage method found.");return b._driverSet=h.reject(ce),b._driverSet}),p(this._driverSet,T,I),this._driverSet},d.prototype.supports=function(m){return!!Qy[m]},d.prototype._extend=function(m){Xf(this,m)},d.prototype._getSupportedDrivers=function(m){for(var T=[],I=0,b=m.length;I<b;I++){var P=m[I];this.supports(P)&&T.push(P)}return T},d.prototype._wrapLibraryMethodsWithReady=function(){for(var m=0,T=qf.length;m<T;m++)Sx(this,qf[m])},d.prototype.createInstance=function(m){return new d(m)},d}(),Ix=new Tx;r.exports=Ix},{3:3}]},{},[4])(4)})})(jA);var Gf=jA.exports;class Yy{constructor(t){this.timeout=t,this.timers=[]}debounce(t=null,n){const r=this._findTimer(t);r&&this._clearTimer(r),this._setTimer(t,n)}_clearTimer(t){clearTimeout(t.instance),this.timers=this.timers.filter(n=>n.identifier!==t.identifier)}_findTimer(t){return this.timers.find(n=>n.identifier===t)}_setTimer(t,n){this.timers.push({identifier:t,instance:setTimeout(n,this.timeout)})}}const ru=Gf.createInstance({name:"contexts"}),qZ=new Yy(800),XZ=(e,t)=>e.contexts.all.find(n=>n.id===t);var QZ=e=>{e.subscribe(({type:t,payload:n},r)=>{switch(t){case EA:const s=XZ(r,n.id);s&&qZ.debounce(s.id,async()=>{ru.setItem(s.id,Zo(s))});break;case TA:ru.removeItem(n.id);break;case ys:ru.keys().then(i=>Promise.all(i.map(o=>ru.getItem(o)))).then(i=>e.dispatch(SA,i));break}})};const Ip=Gf.createInstance({name:"firebase/documents"}),JZ=new Yy(800),ZZ=(e,t)=>e.documents.all.find(n=>n.id===t);var eee=e=>{e.subscribe(({type:t,payload:n},r)=>{switch(t){case cs:case Xi:case Wa:case uo:case za:case Ha:case Ga:case qa:const s=ZZ(r,n.id);s&&JZ.debounce(s.id,async()=>{const i=await xA(s,{preferEncryption:r.settings.crypto.enabled,publicKey:r.settings.crypto.publicKey});Ip.setItem(s.id,i)});break;case ys:Ip.keys().then(i=>Promise.all(i.map(o=>Ip.getItem(o)))).then(i=>Promise.all(i.map(o=>{const a=Object.assign({},o,{id:o.id||o.clientId,textKey:o.textKey||o.dataKey});return RA(a,{privateKey:r.settings.crypto.privateKey})}))).then(i=>e.dispatch(_A,i)).then(()=>e.dispatch(Va));break}})},tee=e=>{e.subscribe(({type:t,_payload:n},r)=>{switch(t){case ys:e.dispatch(MA);break}})};const D1="main",M1=Gf.createInstance({name:"settings"});var nee=e=>{M1.getItem(D1).then(t=>{t?e.dispatch(Au,t).then(()=>{e.dispatch(ys)}):e.dispatch(ys)}),e.subscribe(({type:t,_payload:n},r)=>{switch(t){case xu:case Ru:case Du:case Mu:case Pu:case NA:case $A:case LA:case FA:case Nu:case UA:case BA:case $u:M1.setItem(D1,Zo(r.settings));break}})};const ree=new Yy(1500);var see=e=>{e.subscribe(async({type:t,payload:n},r)=>{switch(t){case cs:case Xi:case Va:case Wa:case za:case Ha:case Ka:case Qi:case Ga:case qa:e.state.online&&e.state.auth.user&&ree.debounce("sync",()=>{e.dispatch(wA)});break}})};const Zi="SET_STRIPE_MODAL_VISIBILITY",Gt=p6({state(){return{context:{active:!1,editing:!1,tags:[]},editor:null,modKey:"\u2303 ctrl",online:!0,showLeftSidebar:!0,showRightSidebar:!1,showStripeModal:!1,showWelcome:!1}},getters:{allTags(e,t){return Array.from(t.allKept.reduce((n,r)=>{for(let s of r.tags)n.add(s);return n},new Set)).sort()},contextTags(e){return e.context.tags.sort()},tags(e,t){return Array.from(t.kept.reduce((n,r)=>{for(let s of r.tags)n.add(s);return n},new Set)).sort()}},mutations:{[Xl](e,t){e.context.active=!0},[Ql](e,t){e.context.active=!1,e.context.tags=[]},[bp](e,t){e.context.tags=t.context.tags},[Ep](e,t){e.editor=t.editor},[ku](e,t){e.modKey=t},[Ya](e){e.online=!1},[Ka](e){e.online=!0},[Sp](e,t){e.showRightSidebar=t},[Zi](e,t){e.showStripeModal=t},[fo](e,t){e.showWelcome=t}},actions:{async[Xl](e){e.commit(Xl)},async[KJ](e){e.state.editor&&e.state.editor.getInputField().blur()},async[Ql](e){e.commit(Ql)},async[qJ](e){e.state.editor&&e.state.editor.focus()},async[bp](e,t){if(e.commit(bp,t),t.context.tags.length>0){if(!e.state.context.active)return e.dispatch(Xl)}else if(e.state.context.active)return e.dispatch(Ql)},async[Ep](e,t){e.commit(Ep,t)},async[ku](e,t){e.commit(ku,t)},async[Ya](e){e.commit(Ya)},async[Ka](e){e.commit(Ka)},async[Sp](e,t){e.commit(Sp,t)},async[fo](e,t){e.commit(fo,t)},async[Zi](e,t){e.commit(Zi,t),t&&setTimeout(()=>{e.state.showStripeModal&&e.commit(Zi,!1)},15e3)}},modules:{auth:JJ,contexts:ZJ,documents:_Z,keybindings:TZ,settings:BZ,sync:GZ},plugins:[QZ,eee,tee,nee,see]}),iee={name:"Subscriptions",components:{GitHubIcon:vA,GoogleIcon:VJ,TwitterIcon:yA},data(){return{accountConflict:!1,stripeError:null,subscribed:!1}},watch:{user(){this.user&&this.checkSubscription()}},computed:{github(){return this.providers.find(e=>e.providerId==="github.com")},google(){return this.providers.find(e=>e.providerId==="google.com")},online(){return this.$store.state.online},providers(){return this.user?this.user.providerData:[]},twitter(){return this.providers.find(e=>e.providerId==="twitter.com")},user(){return this.$store.state.auth.user}},methods:{linkGithub(){this.user.linkWithRedirect(new ar)},linkGoogle(){this.user.linkWithRedirect(new or)},linkTwitter(){this.user.linkWithRedirect(new cr)},signInGithub(){id(sr(),new ar)},signInGithubPro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInGithub()},signInGoogle(){id(sr(),new or)},signInGooglePro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInGoogle()},signInTwitter(){id(sr(),new cr)},signInTwitterPro(){window.location.hash="pro",this.trackCtaContinueWithPro(),this.signInTwitter()},signOut(){sr().signOut()},trackCtaContinue(){window.fathom.trackGoal({}.VITE_FATHOM_EVENT_CTA_CONTINUE,0)},trackCtaContinueWithPro(){window.fathom.trackGoal("YKH3CBR1",0)},trackCtaUpgradeToPro(){window.fathom.trackGoal("WGUAVK63",0)},upgrade(){this.trackCtaUpgradeToPro(),this.subscribe()},async checkSubscription(){await sr().currentUser.getIdToken(!0);const e=await sr().currentUser.getIdTokenResult();this.subscribed=e.claims.stripeRole==="subscriber"},async subscribe(){this.$store.dispatch(Zi,!0);const e=await WJ({userId:this.user.uid}),{error:t,url:n}=e.data();t&&(this.stripeError=t.message,this.$store.dispatch(Zi,!1)),n&&window.location.assign(n)}},created(){this.user&&this.checkSubscription(),oD(sr()).then(e=>{e.additionalUserInfo&&e.additionalUserInfo.isNewUser&&window.fathom.trackGoal("SQC05HQB",0),window.location.hash==="#pro"?this.checkSubscription().then(()=>{this.subscribed||this.subscribe()}):VA({name:"new_doc"})}).catch(e=>{switch(e.code){case"auth/account-exists-with-different-credential":this.accountConflict=!0;break}})}},oee={key:0,role:"alert",class:"flex items-center rounded p-2 bg-blue-100 dark:bg-blue-400 text-gray-900 mb-4 shadow"},aee=F("svg",{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),cee=F("span",{class:"ml-3"},"You have an account with another provider. If you want to link these accounts, you need to sign in with the correct provider first.",-1),lee=[aee,cee],uee={key:1,role:"alert",class:"flex items-center rounded p-2 bg-blue-100 dark:bg-blue-400 text-gray-900 mb-4 shadow"},hee=F("svg",{height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),fee=F("span",{class:"ml-3"},"We could not connect to Stripe for checkout. Please try again.",-1),dee=[hee,fee],pee={class:"flex flex-col justify-center lg:flex-row gap-4"},mee={class:"flex-shrink flex-basis-1/2 bg-gray-100 dark:bg-darkest shadow rounded p-4"},gee=F("h3",{class:"text-3xl flex justify-between mb-2"},[F("span",{class:"font-bold"},"Personal"),F("span",{class:"font-semibold ml-4"},[F("span",null,"$0"),mi(),F("span",{class:"text-base font-normal"},"per month")])],-1),vee={key:0,class:"bg-gray-200 dark:bg-gray-900 text-base font-normal py-0.5 px-2 rounded ml-2"},yee=F("p",{class:"mb-4"},"For individuals who want to maintain a personal knowledge base",-1),_ee={key:1,class:"flex flex-col gap-2 mb-4"},wee=["disabled"],bee=F("span",{class:"action ml-3"},"Continue with GitHub",-1),Eee=["disabled"],See=F("span",{class:"action ml-3"},"Continue with Google",-1),Tee=["disabled"],Iee=F("span",{class:"action ml-3"},"Continue with Twitter",-1),Oee=gi('<p class="font-bold mb-4">What&#39;s included?</p><ul><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited private docs</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited syncing</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Backups and retention</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>End-to-End Encryption (E2EE)</span></li></ul>',2),Cee={class:"flex-grow flex-shrink flex-basis-1/2 bg-gray-100 dark:bg-darkest shadow rounded p-4 ring ring-blue-400 ring-opacity-75"},kee=gi('<h3 class="text-3xl flex justify-between mb-2"><span class="font-bold">Pro</span><span class="font-semibold ml-4"><span class="text-blue-400">$4</span> <span class="text-base font-normal">per month</span></span></h3>',1),Aee={key:0,class:"bg-gray-200 dark:bg-gray-900 text-base font-normal py-0.5 px-2 rounded ml-2"},xee=F("p",{class:"mb-4"},"For professionals who want to collaborate on documentation and more",-1),Ree={key:1,class:"flex flex-col gap-2 mb-4"},Dee=["disabled"],Mee=F("span",{class:"action ml-3"},"Continue with GitHub",-1),Pee=["disabled"],Nee=F("span",{class:"action ml-3"},"Continue with Google",-1),$ee=["disabled"],Lee=F("span",{class:"action ml-3"},"Continue with Twitter",-1),Fee=F("p",{class:"text-gray-500 mb-4"},"You will be redirected to Stripe for checkout after you sign up with your preferred auth provider.",-1),Uee={key:2,class:"flex flex-col gap-2 mb-4"},Bee=["disabled"],jee=F("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"})],-1),Vee=F("span",{class:"action ml-3"},"Upgrade Subscription",-1),Wee=[jee,Vee],zee=gi('<p class="font-bold mb-4">What&#39;s included?</p><ul><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Everything in <span class="font-bold">Personal</span></span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited public docs</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Unlimited file attachments</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Realtime collaboration (coming soon)</span></li><li class="flex gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>1% of revenue <a href="https://stripe.com/climate" target="_blank" rel="noopener noreferrer" class="text-blue-400">funds carbon removal</a></span></li></ul>',2);function Hee(e,t,n,r,s,i){const o=jn("GitHubIcon"),a=jn("GoogleIcon"),c=jn("TwitterIcon");return Fe(),ot("section",null,[s.accountConflict?(Fe(),ot("div",oee,lee)):wn("",!0),s.stripeError?(Fe(),ot("div",uee,dee)):wn("",!0),F("div",pee,[F("div",mee,[gee,i.user&&!s.subscribed?(Fe(),ot("p",vee,"Active")):wn("",!0),yee,i.user?wn("",!0):(Fe(),ot("div",_ee,[F("button",{onClick:t[0]||(t[0]=(...l)=>i.signInGithub&&i.signInGithub(...l)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center"},[et(o,{class:"h-5 w-5"}),bee],8,wee),F("button",{onClick:t[1]||(t[1]=(...l)=>i.signInGoogle&&i.signInGoogle(...l)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center"},[et(a,{class:"h-5 w-5"}),See],8,Eee),F("button",{onClick:t[2]||(t[2]=(...l)=>i.signInTwitter&&i.signInTwitter(...l)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center"},[et(c,{class:"h-5 w-5"}),Iee],8,Tee)])),Oee]),F("div",Cee,[kee,i.user&&s.subscribed?(Fe(),ot("p",Aee,"Active")):wn("",!0),xee,i.user?wn("",!0):(Fe(),ot("div",Ree,[F("button",{onClick:t[3]||(t[3]=(...l)=>i.signInGithubPro&&i.signInGithubPro(...l)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},[et(o,{class:"h-5 w-5"}),Mee],8,Dee),F("button",{onClick:t[4]||(t[4]=(...l)=>i.signInGooglePro&&i.signInGooglePro(...l)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},[et(a,{class:"h-5 w-5"}),Nee],8,Pee),F("button",{onClick:t[5]||(t[5]=(...l)=>i.signInTwitterPro&&i.signInTwitterPro(...l)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},[et(c,{class:"h-5 w-5"}),Lee],8,$ee)])),Fee,i.user&&!s.subscribed?(Fe(),ot("div",Uee,[F("button",{onClick:t[6]||(t[6]=(...l)=>i.upgrade&&i.upgrade(...l)),disabled:!i.online,class:"button-base button-size-medium button-color-surface shadow w-full whitespace-nowrap justify-center text-blue-400"},Wee,8,Bee)])):wn("",!0),zee])])])}var Yee=Qn(iee,[["render",Hee]]);const Kee={name:"TheLogo",props:{size:{type:String,default:"1.25em",required:!1}}},Gee=["height"],qee=gi('<path d="M22.5178 3.79666L22.4777 3.987L22.3993 3.80889C22.2838 3.54603 22.0628 3.34162 21.7934 3.24773C21.4453 3.12643 21.0561 3.1995 20.7762 3.43789C20.681 3.519 20.67 3.66221 20.7519 3.75683C20.8337 3.85146 20.9774 3.86223 21.0728 3.78131C21.2288 3.64796 21.4469 3.60668 21.6427 3.67463C21.9452 3.77985 22.1054 4.10975 22.0001 4.40988C21.9667 4.50451 21.9093 4.58872 21.8343 4.65357L21.7989 4.68499C21.6331 4.75952 21.4574 4.79751 21.2775 4.79751C20.5788 4.79751 20.0104 4.23251 20.0104 3.53781C20.0104 2.84329 20.5788 2.27811 21.2775 2.27811C21.9764 2.27811 22.5448 2.84329 22.5448 3.53781C22.5448 3.62367 22.5358 3.7108 22.5178 3.79666ZM21.2775 1.82582C20.3278 1.82582 19.5552 2.59395 19.5552 3.53781C19.5552 4.48186 20.3278 5.24999 21.2775 5.24999C22.2274 5.24999 23 4.48186 23 3.53781C23 2.59395 22.2274 1.82582 21.2775 1.82582Z"></path><path d="M16.7047 2.62332H16.9357L16.9408 4.14552C16.9408 4.75418 17.439 5.24922 18.0512 5.24922C18.6635 5.24922 19.1615 4.75418 19.1615 4.14552C19.1615 3.75314 18.9493 3.38707 18.6074 3.19015C18.5549 3.15983 18.4933 3.15197 18.4349 3.16713C18.3763 3.18284 18.3268 3.22011 18.2963 3.27235C18.266 3.3246 18.2575 3.38561 18.2733 3.44406C18.289 3.50234 18.3265 3.55129 18.379 3.58143C18.581 3.69798 18.7065 3.9139 18.7065 4.14552C18.7065 4.50465 18.4125 4.79675 18.0512 4.79675C17.6899 4.79675 17.396 4.50465 17.396 4.14552L17.3907 2.62332H18.5025C18.6282 2.62332 18.73 2.52176 18.73 2.39699C18.73 2.27241 18.6282 2.17085 18.5025 2.17085H17.389L17.3857 1.47523C17.3854 1.3512 17.2832 1.25 17.1584 1.25C17.0318 1.25073 16.9303 1.35248 16.9305 1.47724L16.9338 2.17085H16.7047C16.579 2.17085 16.4772 2.27241 16.4772 2.39699C16.4772 2.52176 16.579 2.62332 16.7047 2.62332Z"></path><path d="M14.6305 1.82582C13.681 1.82582 12.9084 2.59395 12.9084 3.53799C12.9084 4.48204 13.681 5.24999 14.6305 5.24999C15.1781 5.24999 15.6809 4.99973 16.0099 4.56369C16.085 4.46377 16.0647 4.32184 15.9643 4.24694C15.8638 4.17241 15.7208 4.19287 15.6457 4.29224C15.4036 4.61338 15.0337 4.79769 14.6305 4.79769C13.9318 4.79769 13.3632 4.23251 13.3632 3.53799C13.3632 2.8433 13.9318 2.27829 14.6305 2.27829C14.9719 2.27829 15.2923 2.41128 15.5323 2.65259C15.6199 2.741 15.7646 2.74228 15.854 2.6546C15.9434 2.5671 15.9441 2.42352 15.8561 2.33474C15.5297 2.00648 15.0945 1.82582 14.6305 1.82582Z"></path><path d="M10.7223 4.79752C10.5088 4.79752 10.2969 4.74309 10.1096 4.6397L10.0962 4.62983C10.0322 4.56736 9.98336 4.49137 9.95469 4.40971C9.84939 4.10958 10.0096 3.77986 10.3121 3.67464C10.5073 3.60687 10.7262 3.64797 10.8826 3.78132C10.9776 3.86243 11.1216 3.8511 11.2032 3.75666C11.285 3.66204 11.2736 3.51882 11.1782 3.43772C10.8985 3.19933 10.5091 3.12663 10.1616 3.24756C9.91408 3.33378 9.71009 3.50951 9.58733 3.7426L9.49857 3.91102L9.47027 3.72305C9.45998 3.65382 9.45502 3.595 9.45502 3.53782C9.45502 2.84331 10.0236 2.27812 10.7223 2.27812C11.4212 2.27812 11.9896 2.84331 11.9896 3.53782C11.9896 4.23234 11.4212 4.79752 10.7223 4.79752ZM10.7223 1.82564C9.77257 1.82564 9 2.59378 9 3.53782C9 4.13242 9.30561 4.67586 9.8176 4.99189C9.84131 5.01088 9.86005 5.02203 9.88155 5.03116C10.1421 5.17529 10.431 5.25 10.7223 5.25C11.672 5.25 12.4446 4.48187 12.4446 3.53782C12.4446 2.59378 11.672 1.82564 10.7223 1.82564Z"></path><path d="M5.0172 2.52242C5.07005 2.43324 5.18702 2.40283 5.27856 2.45431C5.37017 2.50566 5.40139 2.61962 5.34855 2.70879C5.2957 2.79796 5.17879 2.8286 5.08725 2.77712C4.99572 2.72563 4.96436 2.61159 5.0172 2.52242ZM3.77932 2.04145C3.68779 1.98996 3.65657 1.876 3.70942 1.78683C3.76226 1.69766 3.87909 1.66716 3.97063 1.71864C4.06216 1.77013 4.09361 1.88403 4.04076 1.9732C3.98792 2.06237 3.87086 2.09293 3.77932 2.04145ZM6.97456 5.24405C6.92443 5.1633 6.81672 5.1375 6.73375 5.18648C6.1733 5.51732 5.63054 5.49027 5.03345 5.09848C4.61413 4.81631 4.55782 4.4461 4.55782 4.4461C4.83958 4.742 5.199 4.90655 5.199 4.90655C5.25052 4.93553 5.30367 4.96108 5.35826 4.9829C5.73494 5.13371 6.13786 5.09061 6.46359 4.86478C6.78057 4.64518 6.95111 4.35871 6.9439 4.05789C6.93777 3.79813 6.79513 3.5559 6.56247 3.40992C6.37448 3.2917 6.21177 3.29451 6.1085 3.31751C5.87158 3.37025 5.74324 3.56553 5.7293 3.58774C5.67887 3.66825 5.70484 3.7734 5.78748 3.82253C5.87004 3.8718 5.97699 3.84652 6.02787 3.76721C6.0458 3.74024 6.10886 3.66722 6.18843 3.65016C6.24342 3.63856 6.30367 3.65411 6.37254 3.69701C6.50727 3.78168 6.58981 3.9194 6.59328 4.06577C6.59761 4.24966 6.47947 4.43461 6.26031 4.58637C6.03139 4.74511 5.75832 4.77373 5.49163 4.66683C5.08739 4.50523 4.78526 4.06953 4.68372 3.50224C4.68157 3.4895 4.67758 3.47724 4.67242 3.46565L4.67561 3.46026C4.67561 3.46026 4.73185 3.07037 5.1276 3.02399C5.1276 3.02399 5.42218 3.22559 5.63034 2.92116C5.8385 2.61672 5.50933 2.56616 5.65686 2.31722C5.8043 2.06841 5.78113 2.38712 6.20364 1.67417C6.59817 1.00843 6.25954 0.477158 5.74877 0.189863C5.23785 -0.097513 4.59611 -0.117661 4.20158 0.548075C3.77907 1.26102 4.05079 1.08212 3.90335 1.33092C3.75582 1.57986 3.54642 1.3275 3.37974 1.65526C3.21319 1.98311 3.53969 2.13084 3.53969 2.13084C3.69634 2.48793 3.37787 2.73032 3.37787 2.73032C3.37663 2.73208 3.37577 2.73386 3.37468 2.73571C3.36179 2.73715 3.3489 2.73992 3.33635 2.74439C2.78145 2.94245 2.24307 2.90539 1.89715 2.64504C1.66893 2.47358 1.55768 2.22879 1.58433 1.95628C1.60981 1.69557 1.715 1.50334 1.88078 1.41513C2.01263 1.34488 2.17632 1.34565 2.31881 1.41691C2.39152 1.45365 2.43547 1.49671 2.45265 1.5489C2.47728 1.62456 2.44404 1.71437 2.42888 1.74289C2.38368 1.82539 2.41482 1.92835 2.4999 1.97337C2.5849 2.01853 2.69135 1.98787 2.73756 1.90498C2.75034 1.88211 2.85991 1.67627 2.78824 1.45016C2.75714 1.35138 2.67828 1.2127 2.47905 1.11312C2.23309 0.989898 1.94631 0.990581 1.71247 1.11537C1.44145 1.2597 1.27199 1.54696 1.23521 1.92398C1.19733 2.31171 1.36047 2.67321 1.68287 2.91561C1.72971 2.95083 1.779 2.98291 1.83037 3.0118C1.83037 3.0118 2.1565 3.23285 2.56027 3.32254C2.56027 3.32254 2.20302 3.46014 1.74253 3.24744C1.09586 2.93965 0.800346 2.49539 0.814306 1.85697C0.816279 1.76262 0.739562 1.68451 0.642719 1.68258C0.54573 1.68058 0.465543 1.75531 0.463716 1.84974C0.448007 2.56543 0.758465 3.09579 1.41083 3.46273C1.50571 3.51609 1.60802 3.56608 1.71763 3.61261C1.92171 3.69942 2.10748 3.75231 2.27494 3.7811C1.96828 4.01765 1.46664 4.3262 0.946575 4.31683C0.55872 4.30962 0.387347 4.14764 0.35612 3.99833C0.333299 3.88852 0.382929 3.78677 0.479535 3.74489C0.569103 3.70605 0.608389 3.72456 0.621178 3.73081C0.686456 3.76242 0.73208 3.86747 0.743753 3.9126C0.765802 4.00439 0.860226 4.06147 0.95453 4.03985C1.04875 4.01837 1.10734 3.92638 1.08515 3.83451C1.07791 3.80416 1.00656 3.53626 0.777845 3.4252C0.686697 3.38092 0.536001 3.34644 0.336838 3.4327C0.0904172 3.53945 -0.0429087 3.79978 0.0124192 4.06623C0.0466814 4.23105 0.156189 4.40379 0.362826 4.52002C0.506163 4.60064 0.696122 4.654 0.940056 4.65851C1.26973 4.66437 1.58564 4.56968 1.8621 4.43975C1.78873 4.52853 1.73558 4.6336 1.67293 4.73899C1.14167 5.63347 1.49024 6.13783 1.63689 6.28685C1.6488 6.29884 1.66182 6.30862 1.67594 6.31656C1.74171 6.35356 1.82726 6.34573 1.88501 6.29183C1.95476 6.22652 1.95712 6.11841 1.89003 6.05024C1.79836 5.95709 1.73777 5.80166 1.79565 5.49152C1.85701 5.16141 2.05232 4.86393 2.33983 4.67935C2.58075 4.5249 2.89483 4.39894 3.18181 4.52104C3.43369 4.70203 3.4789 5.03008 3.46193 5.3105C3.4416 5.64535 3.27481 5.95888 3.01205 6.17571C2.76529 6.37961 2.59682 6.40621 2.46818 6.37544C2.37404 6.35292 2.27912 6.40897 2.25594 6.50046C2.2369 6.57614 2.27271 6.65223 2.33849 6.68923C2.3526 6.69717 2.36781 6.70326 2.38443 6.70731C2.59022 6.75653 3.21285 6.79845 3.74236 5.90298C3.80487 5.79751 3.87155 5.70005 3.91378 5.59376C3.93666 5.89205 4.01044 6.20593 4.18049 6.48115C4.30632 6.68462 4.44872 6.81821 4.59206 6.89883C4.7987 7.01506 5.00701 7.02108 5.17088 6.96752C5.43517 6.88103 5.59993 6.63838 5.5717 6.37696C5.5488 6.16579 5.44271 6.05603 5.35801 6.00121C5.1447 5.86384 4.87087 5.93759 4.84028 5.94665C4.74751 5.97387 4.69503 6.06929 4.72305 6.15953C4.75113 6.24998 4.84893 6.30103 4.94156 6.27373C4.98751 6.26102 5.1037 6.24699 5.16444 6.28626C5.17639 6.29392 5.21263 6.3179 5.22274 6.4128C5.23397 6.51533 5.16819 6.608 5.05917 6.64364C4.91097 6.69204 4.68114 6.62836 4.48081 6.30473C4.21245 5.87063 4.23605 5.29321 4.29286 4.91612C4.40218 5.04301 4.54208 5.1733 4.72129 5.30208C4.81745 5.37129 4.91305 5.43262 5.00807 5.48606C5.66029 5.85292 6.28712 5.84975 6.91547 5.47866C6.99835 5.42982 7.02478 5.32465 6.97456 5.24405Z"></path>',5),Xee=[qee];function Qee(e,t,n,r,s,i){return Fe(),ot("svg",{height:n.size,class:"text-theme",viewBox:"0 0 23 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},Xee,8,Gee)}var Jee=Qn(Kee,[["render",Qee]]),Zee="/img/screenshot.png";const ete={name:"Home",components:{GitHubIcon:vA,TwitterIcon:yA,Subscriptions:Yee,TheLogo:Jee},computed:{discordInviteLink(){return"https://link.octo.app/discord"}},methods:{trackCtaSignUpNow(){window.fathom.trackGoal("TOVMVZSW",0)}}},Ci=e=>(BM("data-v-400cb7ef"),e=e(),jM(),e),tte={class:"text-gray-100 text-lg overflow-auto home"},nte={class:"p-4 lg:p-8 container mx-auto"},rte={class:"max-w-[100ch] mx-auto mb-8"},ste={class:"flex flex-col"},ite=Ci(()=>F("h1",{class:"text-4xl lg:text-6xl text-brand font-semibold text-center mt-20 lg:mt-40"},"Build your knowledge base",-1)),ote=Ci(()=>F("p",{class:"text-xl lg:text-4xl text-gray-600 text-center mt-8"},"Access your information anywhere, anytime",-1)),ate={class:"flex flex-col gap-4 items-center text-center mt-16"},cte=Ci(()=>F("span",{class:"flex items-center gap-3 align-center"},[F("span",null,"Get started for free"),F("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1)),lte=[cte],ute=gi('<section class="p-4 lg:p-8" data-v-400cb7ef><div class="container mx-auto mb-8 lg:mt-20" data-v-400cb7ef><div class="aspect-w-16 aspect-h-9 w-full" data-v-400cb7ef><img src="'+Zee+'" class="w-full" data-v-400cb7ef></div></div></section><section class="p-4 lg:p-8 container mx-auto" data-v-400cb7ef><div class="max-w-[100ch] mx-auto mb-8" data-v-400cb7ef><h2 class="text-2xl lg:text-4xl font-bold" data-v-400cb7ef>Experience Something Different</h2><div class="grid lg:grid-cols-2 gap-8 mt-8" data-v-400cb7ef><div data-v-400cb7ef><h3 class="text-xl lg:text-2xl text-gray-400" data-v-400cb7ef>Better for focus</h3><p class="lg:text-xl mt-2" data-v-400cb7ef>Markdown has become a widespread format for note-taking, but most editors still leave much to be desired. The effect is friction in writing down your thoughts which leads to interruptions in your concentration.</p><p class="lg:text-xl mt-2" data-v-400cb7ef>We have crafted a beautiful new editor that bridges the gap between plain-text and <a class="underline" href="https://en.wikipedia.org/wiki/WYSIWYG" target="_blank" rel="noopener noreferrer" data-v-400cb7ef>WYSIWYG</a>, and we are constantly improving it with your feedback.</p></div><div data-v-400cb7ef><h3 class="text-xl lg:text-2xl text-gray-400" data-v-400cb7ef>Always available</h3><p class="lg:text-xl mt-2" data-v-400cb7ef>Your information should be available to you anywhere, anytime. Whether you are on a plane, at home, or using an incognito tab on a temporary device, you should have access to your information.</p><p class="lg:text-xl mt-2" data-v-400cb7ef>Using modern technologies, Octo takes an offline-first approach by storing <strong data-v-400cb7ef>everything</strong> in your browser. If <a class="underline" href="https://aws.amazon.com/message/41926/" target="_blank" rel="noopener noreferrer" data-v-400cb7ef>your entire region of the internet goes out</a>, you will still be able to open Octo and access your docs.</p></div><div data-v-400cb7ef><h3 class="text-xl lg:text-2xl text-gray-400" data-v-400cb7ef>Native spellcheck &amp; Grammarly support</h3><p class="lg:text-xl mt-2" data-v-400cb7ef>Improve your spelling, grammar, and overall readability with your favorite tools. Since Octo is a Progressive Web App built on <a class="underline" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable" target="_blank" rel="noopener noreferrer" data-v-400cb7ef>contenteditable</a>, you can use all of your favorite browser extensions, Grammarly included.</p></div></div></div></section>',2),hte={class:"p-4 lg:p-8 container mx-auto"},fte={class:"max-w-[100ch] mx-auto mb-8"},dte=Ci(()=>F("h2",{class:"text-2xl lg:text-4xl font-bold"},"Open Source",-1)),pte={class:"grid lg:grid-cols-2 gap-8 mt-4"},mte=gi('<div data-v-400cb7ef><h3 class="text-xl lg:text-2xl text-gray-400" data-v-400cb7ef>Transparency</h3><p class="lg:text-xl mt-2" data-v-400cb7ef>You get full visibility of the <a class="underline" href="https://github.com/writewithocto/octo" target="_blank" rel="noopener noreferrer" data-v-400cb7ef>codebase</a> that powers Octo. This means you can participate in feature discussions, track bugs, and collaborate with the developer community that relies on us.</p></div><div data-v-400cb7ef><h3 class="text-xl lg:text-2xl text-gray-400" data-v-400cb7ef>Security &amp; Reliability</h3><p class="lg:text-xl mt-2" data-v-400cb7ef>We have a lot of eyes on our code, so you can hold us accountable when something is not up to your standards. We strive to uphold best practices, and we will always listen to feedback from our community.</p></div>',2),gte=Ci(()=>F("h3",{class:"text-xl lg:text-2xl text-gray-400"},"Community",-1)),vte={class:"lg:text-xl mt-2"},yte=mi("We love to connect with our community of developers and writers. Whether you want to collaborate on improving Octo itself or you want to meet other knowledge workers, creators, or enthusiasts, you can connect with us on "),_te=["href"],wte=mi("."),bte=gi('<section class="p-4 lg:p-8 container mx-auto" data-v-400cb7ef><div class="max-w-[100ch] mx-auto mb-8" data-v-400cb7ef><h2 class="text-2xl lg:text-4xl font-bold" data-v-400cb7ef>Privacy Focused</h2><div class="grid lg:grid-cols-2 gap-8 mt-4" data-v-400cb7ef><div data-v-400cb7ef><h3 class="text-xl lg:text-2xl text-gray-400" data-v-400cb7ef>End-to-End Encryption (E2EE)</h3><p class="lg:text-xl mt-2" data-v-400cb7ef><strong class="font-semibold" data-v-400cb7ef>Trust is earned</strong>, yet many organizations expect it from you in order to use their services. We support end-to-end encryption, because <strong class="font-semibold" data-v-400cb7ef>we believe you deserve to make that choice</strong>. Whether you are end-to-end encrypted or not, we will always use best practices to secure your data.</p></div><div data-v-400cb7ef><h3 class="text-xl lg:text-2xl text-gray-400" data-v-400cb7ef>Transparent Analytics</h3><p class="lg:text-xl mt-2" data-v-400cb7ef>We use privacy-first tools to ensure we only track a minimal amount of basic analytics, and all of that information is available to view on our <a class="underline" href="https://app.usefathom.com/share/npcchoaz/octo.app" target="_blank" rel="noopener noreferrer" data-v-400cb7ef>public dashboard</a>. <strong class="font-semibold" data-v-400cb7ef>We sell software, not data.</strong></p></div><div data-v-400cb7ef><h3 class="text-xl lg:text-2xl text-gray-400" data-v-400cb7ef>No Cookies</h3><p class="lg:text-xl mt-2" data-v-400cb7ef>You heard that right! No annoying cookie banners are necessary since we do not use them. We use token-based authentication and cookieless third-party integrations.</p></div></div></div></section>',1),Ete={class:"p-4 lg:p-8 bg-gray-900"},Ste={class:"container mx-auto"},Tte={class:"max-w-[100ch] mx-auto mb-8"},Ite=Ci(()=>F("h2",{id:"pricing",class:"text-2xl lg:text-4xl font-bold"},"Pricing",-1)),Ote={class:"text-gray-500 p-4 lg:p-8 container mx-auto"},Cte={class:"max-w-[100ch] mx-auto mb-8"},kte={class:"flex flex-col items-center lg:items-start gap-2"},Ate={class:"flex flex-col items-center lg:flex-row gap-2 lg:gap-4"},xte=mi("Privacy Policy"),Rte=mi("Terms & Conditions"),Dte={class:"flex items-center gap-2 mt-1 lg:mt-0"},Mte={href:"https://twitter.com/writewithocto",target:"_blank",rel:"noopener noreferrer"},Pte={href:"https://github.com/writewithocto",target:"_blank",rel:"noopener noreferrer"},Nte=Ci(()=>F("p",{class:"mt-4"},"\xA9 2022 Octo",-1));function $te(e,t,n,r,s,i){const o=jn("Subscriptions"),a=jn("router-link"),c=jn("TwitterIcon"),l=jn("GitHubIcon");return Fe(),ot("div",tte,[F("section",nte,[F("div",rte,[F("div",ste,[ite,ote,F("div",ate,[F("a",{onClick:t[0]||(t[0]=(...u)=>i.trackCtaSignUpNow&&i.trackCtaSignUpNow(...u)),href:"#pricing",class:"button-base bg-blue-600 shadow whitespace-nowrap justify-center gap-3 text-blue-100 text-xl py-2 px-8"},lte)])])])]),ute,F("section",hte,[F("div",fte,[dte,F("div",pte,[mte,F("div",null,[gte,F("p",vte,[yte,F("a",{class:"underline",href:i.discordInviteLink,target:"_blank",rel:"noopener noreferrer"},"Discord",8,_te),wte])])])])]),bte,F("section",Ete,[F("div",Ste,[F("div",Tte,[Ite,et(o,{class:"bg-gray-900 rounded mt-4"})])])]),F("footer",Ote,[F("div",Cte,[F("div",kte,[F("div",Ate,[et(a,{to:{name:"privacy_policy"},class:"font-semibold"},{default:xr(()=>[xte]),_:1}),et(a,{to:{name:"terms_and_conditions"},class:"font-semibold"},{default:xr(()=>[Rte]),_:1}),F("div",Dte,[F("a",Mte,[et(c,{class:"h-6 lg:h-4"})]),F("a",Pte,[et(l,{class:"h-6 lg:h-4"})])])]),Nte])])])])}var Lte=Qn(ete,[["render",$te],["__scopeId","data-v-400cb7ef"]]);const Fte="Build your knowledge base",Ute=e=>{document.title=`${e||Fte} | Octo`},Ky=EJ({history:FQ(),routes:[{path:"/index.html",meta:{track:!0},redirect:{name:"editor"}},{path:"/home",name:"home",meta:{track:!0},component:Lte,beforeEnter(e,t,n){Gt.state.showWelcome&&(localStorage.setItem("octo/welcome/v1","done"),Gt.dispatch(fo,!1)),n()}},{path:"/",name:"editor",component:()=>mt(()=>import("./Dashboard.84055caf.js"),["assets/Dashboard.84055caf.js","assets/Dashboard.2a6e8295.css","assets/TheLeftSidebar.d4ebfabb.js","assets/TagLink.4a9b5e5f.js","assets/Tag.3fc79494.js","assets/files.38b882d1.js","assets/TheRightSidebar.1cae30d6.js"]),children:[{path:"",meta:{track:!0},beforeEnter(e,t,n){Gt.state.showWelcome?n({name:"home"}):n({name:"new_doc"})}},{path:"account",name:"account",meta:{title:"My Account",track:!0},component:()=>mt(()=>import("./Account.eaf2c3c4.js"),[])},{path:"docs",name:"docs",meta:{title:"My Docs",track:!0},component:()=>mt(()=>import("./Documents.70d49dde.js"),["assets/Documents.70d49dde.js","assets/DocumentList.fca0deb3.js","assets/Tag.3fc79494.js"])},{path:"docs/new",name:"new_doc",meta:{track:!0},component:()=>mt(()=>import("./Editor.0681abdb.js"),["assets/Editor.0681abdb.js","assets/Editor.0a54d941.js","assets/Editor.c5469e4a.css"]),props:!0,beforeEnter(e,t,n){Gt.dispatch(ho,{id:null}),Gt.state.showWelcome?(localStorage.setItem("octo/welcome/v1","done"),Gt.dispatch(fo,!1),n({name:"home"})):n()}},{path:"docs/f/:filter",name:"filtered_docs",meta:{title:"My Docs"},component:()=>mt(()=>import("./Documents.70d49dde.js"),["assets/Documents.70d49dde.js","assets/DocumentList.fca0deb3.js","assets/Tag.3fc79494.js"]),props:!0},{path:"docs/t/:tag",name:"tagged_docs",meta:{title:"My Docs"},component:()=>mt(()=>import("./Documents.70d49dde.js"),["assets/Documents.70d49dde.js","assets/DocumentList.fca0deb3.js","assets/Tag.3fc79494.js"]),props:!0},{path:"notepad",name:"notepad",meta:{title:"Notepad",track:!0},component:()=>mt(()=>import("./Daily.3469c974.js"),["assets/Daily.3469c974.js","assets/Editor.0681abdb.js","assets/Editor.0a54d941.js","assets/Editor.c5469e4a.css"]),props:!0},{path:"docs/:id",name:"doc",component:()=>mt(()=>import("./Editor.0681abdb.js"),["assets/Editor.0681abdb.js","assets/Editor.0a54d941.js","assets/Editor.c5469e4a.css"]),props({params:e}){return typeof(e==null?void 0:e.props)=="string"?{...e,...JSON.parse(e.props)}:e},beforeEnter(e,t,n){Gt.dispatch(ho,{id:e.params.id}),n()}},{path:"docs/:id/meta",name:"doc_meta",component:()=>mt(()=>import("./TheRightSidebar.1cae30d6.js"),["assets/TheRightSidebar.1cae30d6.js","assets/TagLink.4a9b5e5f.js","assets/Tag.3fc79494.js"]),props:!0,beforeEnter(e,t,n){Gt.dispatch(ho,{id:e.params.id}),n()}},{path:"public/:id",name:"public_doc",component:()=>mt(()=>import("./Editor.0681abdb.js"),["assets/Editor.0681abdb.js","assets/Editor.0a54d941.js","assets/Editor.c5469e4a.css"]),props:{readonly:!0}},{path:"force-graph",name:"force_graph",meta:{title:"Force Graph",track:!0},component:()=>mt(()=>import("./Graph.c148789d.js"),["assets/Graph.c148789d.js","assets/Graph.e6cff609.css","assets/DocumentList.fca0deb3.js","assets/Tag.3fc79494.js"]),props:!0},{path:"documents",name:"documents",meta:{track:!0},redirect:{name:"docs"}},{path:"documents/new",name:"dashboard",meta:{track:!0},redirect:{name:"new_doc"}},{path:"documents/export",name:"export",meta:{title:"Export Docs",track:!0},component:()=>mt(()=>import("./Exporter.bb3959b2.js"),[])},{path:"documents/import",name:"import",meta:{title:"Import Docs",track:!0},component:()=>mt(()=>import("./Importer.e7090a6c.js"),[])},{path:"documents/recent",name:"recent",meta:{track:!0},redirect:{name:"docs"}},{path:"documents/actionable",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"tasks"}}},{path:"documents/discarded",name:"discarded",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"discarded"}}},{path:"documents/tasks",name:"tasks",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"tasks"}}},{path:"documents/untagged",name:"untagged",meta:{track:!0},redirect:{name:"filtered_docs",params:{filter:"untagged"}}},{path:"documents/daily",name:"daily",meta:{track:!0},redirect:{name:"notepad"}},{path:"documents/:id",name:"document",redirect:{name:"doc"}},{path:"documents/:id/meta",name:"document-meta",redirect:{name:"doc_meta"}},{path:"example",name:"example",meta:{title:"Example",track:!0},component:()=>mt(()=>import("./Example.52591661.js"),["assets/Example.52591661.js","assets/Editor.0a54d941.js","assets/Editor.c5469e4a.css"]),props:{url:"/example.md"}},{path:"file-editor/:id",name:"file_editor",meta:{title:"File Editor"},component:()=>mt(()=>import("./FileEditor.203c699a.js"),["assets/FileEditor.203c699a.js","assets/Editor.0a54d941.js","assets/Editor.c5469e4a.css","assets/files.38b882d1.js"]),props:!0},{path:"quick-action",name:"quick_action",meta:{title:"Quick Action",track:!0},component:()=>mt(()=>import("./QuickAction.e925d99d.js"),[])},{path:"menu",name:"menu",meta:{track:!0},component:()=>mt(()=>import("./TheLeftSidebar.d4ebfabb.js").then(function(e){return e.b}),["assets/TheLeftSidebar.d4ebfabb.js","assets/TagLink.4a9b5e5f.js","assets/Tag.3fc79494.js","assets/files.38b882d1.js"])},{path:"shared/:id",name:"shared",redirect:{name:"public_doc"}},{path:"context",name:"context",meta:{track:!0},redirect:{name:"contexts"}},{path:"contexts",name:"contexts",meta:{title:"Context Switching",track:!0},component:()=>mt(()=>import("./Context.3d1a65fc.js"),["assets/Context.3d1a65fc.js","assets/Context.fc4d976a.css","assets/Tag.3fc79494.js"])},{path:"tags/:tag",name:"tag",redirect:{name:"tagged_docs"}},{path:"tags",name:"tags",meta:{title:"Tags",track:!0},component:()=>mt(()=>import("./TagList.5068c0d0.js"),["assets/TagList.5068c0d0.js","assets/TagList.063e6a70.css","assets/TagLink.4a9b5e5f.js","assets/Tag.3fc79494.js"]),props:!0},{path:"settings",name:"settings",meta:{title:"App Settings",track:!0},component:()=>mt(()=>import("./TheSettings.8660a1e6.js"),[])},{path:"graph",name:"graph",meta:{track:!0},redirect:{name:"force_graph"}},{path:"privacy-policy",name:"privacy_policy",meta:{title:"Privacy Policy",track:!0},component:()=>mt(()=>import("./Privacy.ae5c4e88.js"),[])},{path:"terms-and-conditions",name:"terms_and_conditions",meta:{title:"Terms & Conditions",track:!0},component:()=>mt(()=>import("./Terms.255f19be.js"),[])}]}]});Ky.beforeEach(e=>{var t;return e.meta.title&&Ute(e.meta.title),e.meta.track&&((t=window.fathom)==null||t.trackPageview()),!0});const VA=e=>{var t;(t=e.params)!=null&&t.props&&(e.params.props=JSON.stringify(e.params.props)),Ky.push(e)};function P1(e){return typeof e!="object"||e===null?0:Array.isArray(e)?2:Vte(e)?1:e instanceof Set?3:e instanceof Map?4:5}function Bte(e){const t=new Set;for(const n of e)for(const r of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])t.add(r);return t}function jte(e,t){return typeof e=="object"&&Object.prototype.propertyIsEnumerable.call(e,t)}function WA(e){return{*[Symbol.iterator](){for(const t of e)for(const n of t)yield n}}}const N1=new Set(["[object Object]","[object Module]"]);function Vte(e){if(!N1.has(Object.prototype.toString.call(e)))return!1;const{constructor:t}=e;if(t===void 0)return!0;const n=t.prototype;return!(n===null||typeof n!="object"||!N1.has(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}const Op={mergeMaps:ene,mergeSets:Zte,mergeArrays:Jte,mergeRecords:Qte,mergeOthers:HA},ki={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};function Wte(e,t){return t}function zte(...e){return Hte({})(...e)}function Hte(e,t){const n=Yte(e,r);function r(...s){return zA(s,n,t)}return r}function Yte(e,t){var n,r;return{defaultMergeFunctions:Op,mergeFunctions:{...Op,...Object.fromEntries(Object.entries(e).filter(([s,i])=>Object.prototype.hasOwnProperty.call(Op,s)).map(([s,i])=>i===!1?[s,HA]:[s,i]))},metaDataUpdater:(n=e.metaDataUpdater)!==null&&n!==void 0?n:Wte,deepmerge:t,useImplicitDefaultMerging:(r=e.enableImplicitDefaultMerging)!==null&&r!==void 0?r:!1,actions:ki}}function zA(e,t,n){if(e.length===0)return;if(e.length===1)return Cp(e,t,n);const r=P1(e[0]);if(r!==0&&r!==5){for(let s=1;s<e.length;s++)if(P1(e[s])!==r)return Cp(e,t,n)}switch(r){case 1:return Kte(e,t,n);case 2:return Gte(e,t,n);case 3:return qte(e,t,n);case 4:return Xte(e,t,n);default:return Cp(e,t,n)}}function Kte(e,t,n){const r=t.mergeFunctions.mergeRecords(e,t,n);return r===ki.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeRecords!==t.defaultMergeFunctions.mergeRecords?t.defaultMergeFunctions.mergeRecords(e,t,n):r}function Gte(e,t,n){const r=t.mergeFunctions.mergeArrays(e,t,n);return r===ki.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeArrays!==t.defaultMergeFunctions.mergeArrays?t.defaultMergeFunctions.mergeArrays(e):r}function qte(e,t,n){const r=t.mergeFunctions.mergeSets(e,t,n);return r===ki.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeSets!==t.defaultMergeFunctions.mergeSets?t.defaultMergeFunctions.mergeSets(e):r}function Xte(e,t,n){const r=t.mergeFunctions.mergeMaps(e,t,n);return r===ki.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeMaps!==t.defaultMergeFunctions.mergeMaps?t.defaultMergeFunctions.mergeMaps(e):r}function Cp(e,t,n){const r=t.mergeFunctions.mergeOthers(e,t,n);return r===ki.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeOthers!==t.defaultMergeFunctions.mergeOthers?t.defaultMergeFunctions.mergeOthers(e):r}function Qte(e,t,n){const r={};for(const s of Bte(e)){const i=[];for(const c of e)jte(c,s)&&i.push(c[s]);if(i.length===0)continue;const o=t.metaDataUpdater(n,{key:s,parents:e}),a=zA(i,t,o);a!==ki.skip&&(s==="__proto__"?Object.defineProperty(r,s,{value:a,configurable:!0,enumerable:!0,writable:!0}):r[s]=a)}return r}function Jte(e){return e.flat()}function Zte(e){return new Set(WA(e))}function ene(e){return new Map(WA(e))}function HA(e){return e[e.length-1]}const tne=async({options:{caching:e},store:t})=>{if(!e)return;e===!0&&(e={});const{actions:n=!1,mutations:r=!0,namespace:s=t.$id,hydrate:i=async c=>{const l=await c.getItem(s);l&&(t.$state=zte(t.$state,l))},persist:o=async c=>{await c.setItem(s,Zo(t.$state))}}=e,a=Gf.createInstance({name:s});await i(a),r?t.$subscribe((c,l)=>{o(a)},{detached:!0}):n&&t.$onAction(c=>{o(a)},!0)};try{self["workbox:window:6.5.2"]&&_()}catch{}function $1(e,t){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(s){n(s.data)},e.postMessage(t,[r.port2])})}function nne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rne(e,t){var n;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(s,i){if(s){if(typeof s=="string")return L1(s,i);var o=Object.prototype.toString.call(s).slice(8,-1);return o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set"?Array.from(s):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?L1(s,i):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var kp=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function Ap(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var ma=function(e,t){this.type=e,Object.assign(this,t)};function su(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function sne(){}var ine={type:"SKIP_WAITING"};function F1(e,t){if(!t)return e&&e.then?e.then(sne):Promise.resolve()}var one=function(e){var t,n;function r(a,c){var l,u;return c===void 0&&(c={}),(l=e.call(this)||this).nn={},l.tn=0,l.rn=new kp,l.en=new kp,l.on=new kp,l.un=0,l.an=new Set,l.cn=function(){var h=l.fn,f=h.installing;l.tn>0||!Ap(f.scriptURL,l.sn.toString())||performance.now()>l.un+6e4?(l.vn=f,h.removeEventListener("updatefound",l.cn)):(l.hn=f,l.an.add(f),l.rn.resolve(f)),++l.tn,f.addEventListener("statechange",l.ln)},l.ln=function(h){var f=l.fn,p=h.target,v=p.state,k=p===l.vn,E={sw:p,isExternal:k,originalEvent:h};!k&&l.mn&&(E.isUpdate=!0),l.dispatchEvent(new ma(v,E)),v==="installed"?l.wn=self.setTimeout(function(){v==="installed"&&f.waiting===p&&l.dispatchEvent(new ma("waiting",E))},200):v==="activating"&&(clearTimeout(l.wn),k||l.en.resolve(p))},l.dn=function(h){var f=l.hn,p=f!==navigator.serviceWorker.controller;l.dispatchEvent(new ma("controlling",{isExternal:p,originalEvent:h,sw:f,isUpdate:l.mn})),p||l.on.resolve(f)},l.gn=(u=function(h){var f=h.data,p=h.ports,v=h.source;return su(l.getSW(),function(){l.an.has(v)&&l.dispatchEvent(new ma("message",{data:f,originalEvent:h,ports:p,sw:v}))})},function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];try{return Promise.resolve(u.apply(this,h))}catch(p){return Promise.reject(p)}}),l.sn=a,l.nn=c,navigator.serviceWorker.addEventListener("message",l.gn),l}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s,i,o=r.prototype;return o.register=function(a){var c=(a===void 0?{}:a).immediate,l=c!==void 0&&c;try{var u=this;return function(h,f){var p=h();return p&&p.then?p.then(f):f(p)}(function(){if(!l&&document.readyState!=="complete")return F1(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),su(u.bn(),function(h){u.fn=h,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var f=u.fn.waiting;return f&&Ap(f.scriptURL,u.sn.toString())&&(u.hn=f,Promise.resolve().then(function(){u.dispatchEvent(new ma("waiting",{sw:f,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(h){return Promise.reject(h)}},o.update=function(){try{return this.fn?F1(this.fn.update()):void 0}catch(a){return Promise.reject(a)}},o.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(a){try{return su(this.getSW(),function(c){return $1(c,a)})}catch(c){return Promise.reject(c)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&$1(this.fn.waiting,ine)},o.pn=function(){var a=navigator.serviceWorker.controller;return a&&Ap(a.scriptURL,this.sn.toString())?a:void 0},o.bn=function(){try{var a=this;return function(c,l){try{var u=c()}catch(h){return l(h)}return u&&u.then?u.then(void 0,l):u}(function(){return su(navigator.serviceWorker.register(a.sn,a.nn),function(c){return a.un=performance.now(),c})},function(c){throw c})}catch(c){return Promise.reject(c)}},s=r,(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&nne(s.prototype,i),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,r){this.Sn(n).add(r)},t.removeEventListener=function(n,r){this.Sn(n).delete(r)},t.dispatchEvent=function(n){n.target=this;for(var r,s=rne(this.Sn(n.type));!(r=s()).done;)(0,r.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function ane(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisterError:i}=e;let o;const a=async(c=!0)=>{};return"serviceWorker"in navigator&&(o=new one("/sw.js",{scope:"/",type:"classic"}),o.addEventListener("activated",c=>{c.isUpdate?window.location.reload():r==null||r()}),o.register({immediate:t}).then(c=>{s==null||s(c)}).catch(c=>{i==null||i(c)})),a}ane({immediate:!0,onOfflineReady(){},onNeedRefresh(){window.dispatchEvent(new Event("swupdated"))},onRegistered(e){},onRegisterError(e){}});class cne{constructor(){this.components=new Set}registerComponent({component:t,container:n,position:r}){this.components.add({component:t,container:n,position:r})}}class lne{constructor(){this.packages=new Set,this.components=new Set}emit(t,n){this.packages.forEach(r=>r.emit(t,n))}getComponents(t,n){return[...this.components].filter(r=>r.container===t&&r.position===n).map(({component:r})=>r)}register(t){const n=new cne;t.register(n),n.components.forEach(r=>this.components.add(r)),this.packages.add(t)}}var une=new lne;_Q();localStorage.getItem("octo/welcome/v1")===null&&Gt.dispatch(fo,!0);window.addEventListener("offline",()=>{Gt.dispatch(Ya)});window.addEventListener("online",()=>{Gt.dispatch(Ka)});navigator.onLine||Gt.dispatch(Ya);/Mac|iPod|iPhone|iPad/.test(navigator.platform||navigator.userAgentData.platform)&&Gt.dispatch(ku,"\u2318 cmd");const Ps=aN(Y6),YA=yN();YA.use(tne);Ps.config.globalProperties.$packageManager=une;Ps.use(YA);Ps.use(Ky);Ps.use(Gt);Ps.component("Extendable",q6);Ps.component("SimpleBar",JH);Ps.use(qN,{breakpoints:{xs:0,sm:577,md:769,lg:993,xl:1201}});Ps.mount("#app");sr().onAuthStateChanged(async e=>{if(Gt.commit(Qi,e),e){await e.getIdToken(!0);const t=await e.getIdTokenResult(),n=t.claims.ambassador||t.claims.stripeRole==="subscriber";Gt.commit(bA,{pro:n})}});export{Ac as $,qs as A,VJ as B,yA as C,Ql as D,ar as E,on as F,vA as G,or as H,cr as I,id as J,sr as K,oD as L,Yee as M,Uc as N,Ine as O,Tne as P,Yn as Q,za as R,bp as S,Jee as T,Xs as U,XJ as V,dne as W,mne as X,_ne as Y,OP as Z,Qn as _,Fe as a,Wa as a0,cs as a1,One as a2,RA as a3,Ute as a4,ho as a5,mt as a6,bne as a7,Sne as a8,pQ as a9,qa as aA,iZ as aB,sZ as aC,BA as aD,yt as aE,$u as aF,vne as aG,Ene as aa,m6 as ab,pg as ac,BM as ad,jM as ae,Va as af,Mw as ag,LT as ah,Sn as ai,fne as aj,Yy as ak,TA as al,EA as am,Du as an,NA as ao,$A as ap,UZ as aq,LA as ar,Mu as as,FA as at,Nu as au,UA as av,Pu as aw,gne as ax,Ru as ay,xu as az,et as b,ot as c,Mr as d,F as e,wn as f,gi as g,Oa as h,mi as i,Rh as j,Yu as k,yne as l,te as m,eZ as n,VA as o,Cne as p,Xi as q,jn as r,GJ as s,S_ as t,Ha as u,Ga as v,xr as w,Sp as x,wne as y,pne as z};
