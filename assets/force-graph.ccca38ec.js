import{s as pt,l as ce,m as je,T as Yt,p as Kt,t as on,o as sn,q as mt}from"./transform.812ac62b.js";import{as as un,_ as fn,r as ln,o as ye,c as cn,d as hn,f as dn,a as gn}from"./index.b8eb6ee5.js";import{D as pn}from"./DocumentList.19c478ae.js";import"./moment.9709ab41.js";import"./Tag.240c13ff.js";import"./TheLogo.d77959ed.js";function yn(n){let e;for(;e=n.sourceEvent;)n=e;return n}function xt(n,e){if(n=yn(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[n.clientX-a.left-e.clientLeft,n.clientY-a.top-e.clientTop]}}return[n.pageX,n.pageY]}const vn={passive:!1},Gt={capture:!0,passive:!1};function Qt(n){n.stopImmediatePropagation()}function Tt(n){n.preventDefault(),n.stopImmediatePropagation()}function $e(n){var e=n.document.documentElement,r=pt(n).on("dragstart.drag",Tt,Gt);"onselectstart"in e?r.on("selectstart.drag",Tt,Gt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ue(n,e){var r=n.document.documentElement,i=pt(n).on("dragstart.drag",null);e&&(i.on("click.drag",Tt,Gt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Bt=n=>()=>n;function ie(n,{sourceEvent:e,subject:r,target:i,identifier:a,active:o,x:s,y:u,dx:l,dy:f,dispatch:d}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:d}})}ie.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function _n(n){return!n.ctrlKey&&!n.button}function mn(){return this.parentNode}function xn(n,e){return e==null?{x:n.x,y:n.y}:e}function bn(){return navigator.maxTouchPoints||"ontouchstart"in this}function wn(){var n=_n,e=mn,r=xn,i=bn,a={},o=ce("start","drag","end"),s=0,u,l,f,d,c=0;function h(m){m.on("mousedown.drag",y).filter(i).on("touchstart.drag",k).on("touchmove.drag",g,vn).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(m,x){if(!(d||!n.call(this,m,x))){var A=M(this,e.call(this,m,x),m,x,"mouse");!A||(pt(m.view).on("mousemove.drag",_,Gt).on("mouseup.drag",w,Gt),$e(m.view),Qt(m),f=!1,u=m.clientX,l=m.clientY,A("start",m))}}function _(m){if(Tt(m),!f){var x=m.clientX-u,A=m.clientY-l;f=x*x+A*A>c}a.mouse("drag",m)}function w(m){pt(m.view).on("mousemove.drag mouseup.drag",null),Ue(m.view,f),Tt(m),a.mouse("end",m)}function k(m,x){if(!!n.call(this,m,x)){var A=m.changedTouches,C=e.call(this,m,x),P=A.length,D,I;for(D=0;D<P;++D)(I=M(this,C,m,x,A[D].identifier,A[D]))&&(Qt(m),I("start",m,A[D]))}}function g(m){var x=m.changedTouches,A=x.length,C,P;for(C=0;C<A;++C)(P=a[x[C].identifier])&&(Tt(m),P("drag",m,x[C]))}function S(m){var x=m.changedTouches,A=x.length,C,P;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<A;++C)(P=a[x[C].identifier])&&(Qt(m),P("end",m,x[C]))}function M(m,x,A,C,P,D){var I=o.copy(),F=xt(D||A,x),L,B,z;if((z=r.call(m,new ie("beforestart",{sourceEvent:A,target:h,identifier:P,active:s,x:F[0],y:F[1],dx:0,dy:0,dispatch:I}),C))!=null)return L=z.x-F[0]||0,B=z.y-F[1]||0,function E(T,U,q){var H=F,j;switch(T){case"start":a[P]=E,j=s++;break;case"end":delete a[P],--s;case"drag":F=xt(q||U,x),j=s;break}I.call(T,m,new ie(T,{sourceEvent:U,subject:z,target:h,identifier:P,active:j,x:F[0]+L,y:F[1]+B,dx:F[0]-H[0],dy:F[1]-H[1],dispatch:I}),C)}}return h.filter=function(m){return arguments.length?(n=typeof m=="function"?m:Bt(!!m),h):n},h.container=function(m){return arguments.length?(e=typeof m=="function"?m:Bt(m),h):e},h.subject=function(m){return arguments.length?(r=typeof m=="function"?m:Bt(m),h):r},h.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Bt(!!m),h):i},h.on=function(){var m=o.on.apply(o,arguments);return m===o?h:m},h.clickDistance=function(m){return arguments.length?(c=(m=+m)*m,h):Math.sqrt(c)},h}var kn=1e-12;function ve(n){return((n=Math.exp(n))+1/n)/2}function zn(n){return((n=Math.exp(n))-1/n)/2}function Cn(n){return((n=Math.exp(2*n))-1)/(n+1)}var An=function n(e,r,i){function a(o,s){var u=o[0],l=o[1],f=o[2],d=s[0],c=s[1],h=s[2],y=d-u,_=c-l,w=y*y+_*_,k,g;if(w<kn)g=Math.log(h/f)/e,k=function(C){return[u+C*y,l+C*_,f*Math.exp(e*C*g)]};else{var S=Math.sqrt(w),M=(h*h-f*f+i*w)/(2*f*r*S),m=(h*h-f*f-i*w)/(2*h*r*S),x=Math.log(Math.sqrt(M*M+1)-M),A=Math.log(Math.sqrt(m*m+1)-m);g=(A-x)/e,k=function(C){var P=C*g,D=ve(x),I=f/(r*S)*(D*Cn(e*P+x)-zn(x));return[u+I*y,l+I*_,f*D/ve(e*P+x)]}}return k.duration=g*1e3*e/Math.SQRT2,k}return a.rho=function(o){var s=Math.max(.001,+o),u=s*s,l=u*u;return n(s,u,l)},a}(Math.SQRT2,2,4);function Sn(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return Fe(this.cover(e,r),e,r,n)}function Fe(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var a,o=n._root,s={data:i},u=n._x0,l=n._y0,f=n._x1,d=n._y1,c,h,y,_,w,k,g,S;if(!o)return n._root=s,n;for(;o.length;)if((w=e>=(c=(u+f)/2))?u=c:f=c,(k=r>=(h=(l+d)/2))?l=h:d=h,a=o,!(o=o[g=k<<1|w]))return a[g]=s,n;if(y=+n._x.call(null,o.data),_=+n._y.call(null,o.data),e===y&&r===_)return s.next=o,a?a[g]=s:n._root=s,n;do a=a?a[g]=new Array(4):n._root=new Array(4),(w=e>=(c=(u+f)/2))?u=c:f=c,(k=r>=(h=(l+d)/2))?l=h:d=h;while((g=k<<1|w)===(S=(_>=h)<<1|y>=c));return a[S]=o,a[g]=s,n}function Mn(n){var e,r,i=n.length,a,o,s=new Array(i),u=new Array(i),l=1/0,f=1/0,d=-1/0,c=-1/0;for(r=0;r<i;++r)isNaN(a=+this._x.call(null,e=n[r]))||isNaN(o=+this._y.call(null,e))||(s[r]=a,u[r]=o,a<l&&(l=a),a>d&&(d=a),o<f&&(f=o),o>c&&(c=o));if(l>d||f>c)return this;for(this.cover(l,f).cover(d,c),r=0;r<i;++r)Fe(this,s[r],u[r],n[r]);return this}function Pn(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,a=this._x1,o=this._y1;if(isNaN(r))a=(r=Math.floor(n))+1,o=(i=Math.floor(e))+1;else{for(var s=a-r||1,u=this._root,l,f;r>n||n>=a||i>e||e>=o;)switch(f=(e<i)<<1|n<r,l=new Array(4),l[f]=u,u=l,s*=2,f){case 0:a=r+s,o=i+s;break;case 1:r=a-s,o=i+s;break;case 2:a=r+s,i=o-s;break;case 3:r=a-s,i=o-s;break}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=i,this._x1=a,this._y1=o,this}function Tn(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function On(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ot(n,e,r,i,a){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=a}function Rn(n,e,r){var i,a=this._x0,o=this._y0,s,u,l,f,d=this._x1,c=this._y1,h=[],y=this._root,_,w;for(y&&h.push(new ot(y,a,o,d,c)),r==null?r=1/0:(a=n-r,o=e-r,d=n+r,c=e+r,r*=r);_=h.pop();)if(!(!(y=_.node)||(s=_.x0)>d||(u=_.y0)>c||(l=_.x1)<a||(f=_.y1)<o))if(y.length){var k=(s+l)/2,g=(u+f)/2;h.push(new ot(y[3],k,g,l,f),new ot(y[2],s,g,k,f),new ot(y[1],k,u,l,g),new ot(y[0],s,u,k,g)),(w=(e>=g)<<1|n>=k)&&(_=h[h.length-1],h[h.length-1]=h[h.length-1-w],h[h.length-1-w]=_)}else{var S=n-+this._x.call(null,y.data),M=e-+this._y.call(null,y.data),m=S*S+M*M;if(m<r){var x=Math.sqrt(r=m);a=n-x,o=e-x,d=n+x,c=e+x,i=y.data}}return i}function En(n){if(isNaN(d=+this._x.call(null,n))||isNaN(c=+this._y.call(null,n)))return this;var e,r=this._root,i,a,o,s=this._x0,u=this._y0,l=this._x1,f=this._y1,d,c,h,y,_,w,k,g;if(!r)return this;if(r.length)for(;;){if((_=d>=(h=(s+l)/2))?s=h:l=h,(w=c>=(y=(u+f)/2))?u=y:f=y,e=r,!(r=r[k=w<<1|_]))return this;if(!r.length)break;(e[k+1&3]||e[k+2&3]||e[k+3&3])&&(i=e,g=k)}for(;r.data!==n;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):e?(o?e[k]=o:delete e[k],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[g]=r:this._root=r),this):(this._root=o,this)}function In(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Dn(){return this._root}function Nn(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function jn(n){var e=[],r,i=this._root,a,o,s,u,l;for(i&&e.push(new ot(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(i=r.node,o=r.x0,s=r.y0,u=r.x1,l=r.y1)&&i.length){var f=(o+u)/2,d=(s+l)/2;(a=i[3])&&e.push(new ot(a,f,d,u,l)),(a=i[2])&&e.push(new ot(a,o,d,f,l)),(a=i[1])&&e.push(new ot(a,f,s,u,d)),(a=i[0])&&e.push(new ot(a,o,s,f,d))}return this}function $n(n){var e=[],r=[],i;for(this._root&&e.push(new ot(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var a=i.node;if(a.length){var o,s=i.x0,u=i.y0,l=i.x1,f=i.y1,d=(s+l)/2,c=(u+f)/2;(o=a[0])&&e.push(new ot(o,s,u,d,c)),(o=a[1])&&e.push(new ot(o,d,u,l,c)),(o=a[2])&&e.push(new ot(o,s,c,d,f)),(o=a[3])&&e.push(new ot(o,d,c,l,f))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Un(n){return n[0]}function Fn(n){return arguments.length?(this._x=n,this):this._x}function Ln(n){return n[1]}function qn(n){return arguments.length?(this._y=n,this):this._y}function Le(n,e,r){var i=new he(e==null?Un:e,r==null?Ln:r,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function he(n,e,r,i,a,o){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=a,this._y1=o,this._root=void 0}function _e(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var st=Le.prototype=he.prototype;st.copy=function(){var n=new he(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=_e(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var a=0;a<4;++a)(i=e.source[a])&&(i.length?r.push({source:i,target:e.target[a]=new Array(4)}):e.target[a]=_e(i));return n};st.add=Sn;st.addAll=Mn;st.cover=Pn;st.data=Tn;st.extent=On;st.find=Rn;st.remove=En;st.removeAll=In;st.root=Dn;st.size=Nn;st.visit=jn;st.visitAfter=$n;st.x=Fn;st.y=qn;function Hn(n){for(var e=n.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+n.slice(i*6,++i*6);return r}var Gn=Hn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Wt=n=>()=>n;function Vn(n,{sourceEvent:e,target:r,transform:i,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Jt(n){n.stopImmediatePropagation()}function Rt(n){n.preventDefault(),n.stopImmediatePropagation()}function Bn(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Wn(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function me(){return this.__zoom||je}function Zn(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Xn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Yn(n,e,r){var i=n.invertX(e[0][0])-r[0][0],a=n.invertX(e[1][0])-r[1][0],o=n.invertY(e[0][1])-r[0][1],s=n.invertY(e[1][1])-r[1][1];return n.translate(a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Kn(){var n=Bn,e=Wn,r=Yn,i=Zn,a=Xn,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,l=An,f=ce("start","zoom","end"),d,c,h,y=500,_=150,w=0,k=10;function g(z){z.property("__zoom",me).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",I).filter(a).on("touchstart.zoom",F).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(z,E,T,U){var q=z.selection?z.selection():z;q.property("__zoom",me),z!==q?x(z,E,T,U):q.interrupt().each(function(){A(this,arguments).event(U).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},g.scaleBy=function(z,E,T,U){g.scaleTo(z,function(){var q=this.__zoom.k,H=typeof E=="function"?E.apply(this,arguments):E;return q*H},T,U)},g.scaleTo=function(z,E,T,U){g.transform(z,function(){var q=e.apply(this,arguments),H=this.__zoom,j=T==null?m(q):typeof T=="function"?T.apply(this,arguments):T,V=H.invert(j),G=typeof E=="function"?E.apply(this,arguments):E;return r(M(S(H,G),j,V),q,s)},T,U)},g.translateBy=function(z,E,T,U){g.transform(z,function(){return r(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof T=="function"?T.apply(this,arguments):T),e.apply(this,arguments),s)},null,U)},g.translateTo=function(z,E,T,U,q){g.transform(z,function(){var H=e.apply(this,arguments),j=this.__zoom,V=U==null?m(H):typeof U=="function"?U.apply(this,arguments):U;return r(je.translate(V[0],V[1]).scale(j.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof T=="function"?-T.apply(this,arguments):-T),H,s)},U,q)};function S(z,E){return E=Math.max(o[0],Math.min(o[1],E)),E===z.k?z:new Yt(E,z.x,z.y)}function M(z,E,T){var U=E[0]-T[0]*z.k,q=E[1]-T[1]*z.k;return U===z.x&&q===z.y?z:new Yt(z.k,U,q)}function m(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function x(z,E,T,U){z.on("start.zoom",function(){A(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(U).end()}).tween("zoom",function(){var q=this,H=arguments,j=A(q,H).event(U),V=e.apply(q,H),G=T==null?m(V):typeof T=="function"?T.apply(q,H):T,et=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),K=q.__zoom,Q=typeof E=="function"?E.apply(q,H):E,it=l(K.invert(G).concat(et/K.k),Q.invert(G).concat(et/Q.k));return function(ut){if(ut===1)ut=Q;else{var lt=it(ut),at=et/lt[2];ut=new Yt(at,G[0]-lt[0]*at,G[1]-lt[1]*at)}j.zoom(null,ut)}})}function A(z,E,T){return!T&&z.__zooming||new C(z,E)}function C(z,E){this.that=z,this.args=E,this.active=0,this.sourceEvent=null,this.extent=e.apply(z,E),this.taps=0}C.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,E){return this.mouse&&z!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var E=pt(this.that).datum();f.call(z,this.that,new Vn(z,{sourceEvent:this.sourceEvent,target:g,type:z,transform:this.that.__zoom,dispatch:f}),E)}};function P(z,...E){if(!n.apply(this,arguments))return;var T=A(this,E).event(z),U=this.__zoom,q=Math.max(o[0],Math.min(o[1],U.k*Math.pow(2,i.apply(this,arguments)))),H=xt(z);if(T.wheel)(T.mouse[0][0]!==H[0]||T.mouse[0][1]!==H[1])&&(T.mouse[1]=U.invert(T.mouse[0]=H)),clearTimeout(T.wheel);else{if(U.k===q)return;T.mouse=[H,U.invert(H)],Kt(this),T.start()}Rt(z),T.wheel=setTimeout(j,_),T.zoom("mouse",r(M(S(U,q),T.mouse[0],T.mouse[1]),T.extent,s));function j(){T.wheel=null,T.end()}}function D(z,...E){if(h||!n.apply(this,arguments))return;var T=z.currentTarget,U=A(this,E,!0).event(z),q=pt(z.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",et,!0),H=xt(z,T),j=z.clientX,V=z.clientY;$e(z.view),Jt(z),U.mouse=[H,this.__zoom.invert(H)],Kt(this),U.start();function G(K){if(Rt(K),!U.moved){var Q=K.clientX-j,it=K.clientY-V;U.moved=Q*Q+it*it>w}U.event(K).zoom("mouse",r(M(U.that.__zoom,U.mouse[0]=xt(K,T),U.mouse[1]),U.extent,s))}function et(K){q.on("mousemove.zoom mouseup.zoom",null),Ue(K.view,U.moved),Rt(K),U.event(K).end()}}function I(z,...E){if(!!n.apply(this,arguments)){var T=this.__zoom,U=xt(z.changedTouches?z.changedTouches[0]:z,this),q=T.invert(U),H=T.k*(z.shiftKey?.5:2),j=r(M(S(T,H),U,q),e.apply(this,E),s);Rt(z),u>0?pt(this).transition().duration(u).call(x,j,U,z):pt(this).call(g.transform,j,U,z)}}function F(z,...E){if(!!n.apply(this,arguments)){var T=z.touches,U=T.length,q=A(this,E,z.changedTouches.length===U).event(z),H,j,V,G;for(Jt(z),j=0;j<U;++j)V=T[j],G=xt(V,this),G=[G,this.__zoom.invert(G),V.identifier],q.touch0?!q.touch1&&q.touch0[2]!==G[2]&&(q.touch1=G,q.taps=0):(q.touch0=G,H=!0,q.taps=1+!!d);d&&(d=clearTimeout(d)),H&&(q.taps<2&&(c=G[0],d=setTimeout(function(){d=null},y)),Kt(this),q.start())}}function L(z,...E){if(!!this.__zooming){var T=A(this,E).event(z),U=z.changedTouches,q=U.length,H,j,V,G;for(Rt(z),H=0;H<q;++H)j=U[H],V=xt(j,this),T.touch0&&T.touch0[2]===j.identifier?T.touch0[0]=V:T.touch1&&T.touch1[2]===j.identifier&&(T.touch1[0]=V);if(j=T.that.__zoom,T.touch1){var et=T.touch0[0],K=T.touch0[1],Q=T.touch1[0],it=T.touch1[1],ut=(ut=Q[0]-et[0])*ut+(ut=Q[1]-et[1])*ut,lt=(lt=it[0]-K[0])*lt+(lt=it[1]-K[1])*lt;j=S(j,Math.sqrt(ut/lt)),V=[(et[0]+Q[0])/2,(et[1]+Q[1])/2],G=[(K[0]+it[0])/2,(K[1]+it[1])/2]}else if(T.touch0)V=T.touch0[0],G=T.touch0[1];else return;T.zoom("touch",r(M(j,V,G),T.extent,s))}}function B(z,...E){if(!!this.__zooming){var T=A(this,E).event(z),U=z.changedTouches,q=U.length,H,j;for(Jt(z),h&&clearTimeout(h),h=setTimeout(function(){h=null},y),H=0;H<q;++H)j=U[H],T.touch0&&T.touch0[2]===j.identifier?delete T.touch0:T.touch1&&T.touch1[2]===j.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(j=xt(j,this),Math.hypot(c[0]-j[0],c[1]-j[1])<k)){var V=pt(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return g.wheelDelta=function(z){return arguments.length?(i=typeof z=="function"?z:Wt(+z),g):i},g.filter=function(z){return arguments.length?(n=typeof z=="function"?z:Wt(!!z),g):n},g.touchable=function(z){return arguments.length?(a=typeof z=="function"?z:Wt(!!z),g):a},g.extent=function(z){return arguments.length?(e=typeof z=="function"?z:Wt([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),g):e},g.scaleExtent=function(z){return arguments.length?(o[0]=+z[0],o[1]=+z[1],g):[o[0],o[1]]},g.translateExtent=function(z){return arguments.length?(s[0][0]=+z[0][0],s[1][0]=+z[1][0],s[0][1]=+z[0][1],s[1][1]=+z[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(z){return arguments.length?(r=z,g):r},g.duration=function(z){return arguments.length?(u=+z,g):u},g.interpolate=function(z){return arguments.length?(l=z,g):l},g.on=function(){var z=f.on.apply(f,arguments);return z===f?g:z},g.clickDistance=function(z){return arguments.length?(w=(z=+z)*z,g):Math.sqrt(w)},g.tapDistance=function(z){return arguments.length?(k=+z,g):k},g}function xe(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let a of n)(a=e(a,++i,n))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function be(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let a of n)(a=e(a,++i,n))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}var Ft={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}},Back:{In:function(n){var e=1.70158;return n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}},Bounce:{In:function(n){return 1-Ft.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Ft.Bounce.In(n*2)*.5:Ft.Bounce.Out(n*2-1)*.5+.5}}},Ut;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?Ut=function(){var n=process.hrtime();return n[0]*1e3+n[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?Ut=self.performance.now.bind(self.performance):Date.now!==void 0?Ut=Date.now:Ut=function(){return new Date().getTime()};var At=Ut,qe=function(){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},n.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},n.prototype.update=function(e,r){e===void 0&&(e=At()),r===void 0&&(r=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<i.length;a++){var o=this._tweens[i[a]],s=!r;o&&o.update(e,s)===!1&&!r&&delete this._tweens[i[a]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},n}(),Pt={Linear:function(n,e){var r=n.length-1,i=r*e,a=Math.floor(i),o=Pt.Utils.Linear;return e<0?o(n[0],n[1],i):e>1?o(n[r],n[r-1],r-i):o(n[a],n[a+1>r?r:a+1],i-a)},Bezier:function(n,e){for(var r=0,i=n.length-1,a=Math.pow,o=Pt.Utils.Bernstein,s=0;s<=i;s++)r+=a(1-e,i-s)*a(e,s)*n[s]*o(i,s);return r},CatmullRom:function(n,e){var r=n.length-1,i=r*e,a=Math.floor(i),o=Pt.Utils.CatmullRom;return n[0]===n[r]?(e<0&&(a=Math.floor(i=r*(1+e))),o(n[(a-1+r)%r],n[a],n[(a+1)%r],n[(a+2)%r],i-a)):e<0?n[0]-(o(n[0],n[0],n[1],n[1],-i)-n[0]):e>1?n[r]-(o(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):o(n[a?a-1:0],n[a],n[r<a+1?r:a+1],n[r<a+2?r:a+2],i-a)},Utils:{Linear:function(n,e,r){return(e-n)*r+n},Bernstein:function(n,e){var r=Pt.Utils.Factorial;return r(n)/r(e)/r(n-e)},Factorial:function(){var n=[1];return function(e){var r=1;if(n[e])return n[e];for(var i=e;i>1;i--)r*=i;return n[e]=r,r}}(),CatmullRom:function(n,e,r,i,a){var o=(r-n)*.5,s=(i-e)*.5,u=a*a,l=a*u;return(2*e-2*r+o+s)*l+(-3*e+3*r-2*o-s)*u+o*a+e}}},de=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),He=new qe,Qn=function(){function n(e,r){r===void 0&&(r=He),this._object=e,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ft.Linear.None,this._interpolationFunction=Pt.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=de.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.to=function(e,r){return this._valuesEnd=Object.create(e),r!==void 0&&(this._duration=r),this},n.prototype.duration=function(e){return this._duration=e,this},n.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?At()+parseFloat(e):e:At(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},n.prototype._setupProperties=function(e,r,i,a){for(var o in i){var s=e[o],u=Array.isArray(s),l=u?"array":typeof s,f=!u&&Array.isArray(i[o]);if(!(l==="undefined"||l==="function")){if(f){var d=i[o];if(d.length===0)continue;d=d.map(this._handleRelativeValue.bind(this,s)),i[o]=[s].concat(d)}if((l==="object"||u)&&s&&!f){r[o]=u?[]:{};for(var c in s)r[o][c]=s[c];a[o]=u?[]:{},this._setupProperties(s,r[o],i[o],a[o])}else typeof r[o]=="undefined"&&(r[o]=s),u||(r[o]*=1),f?a[o]=i[o].slice().reverse():a[o]=r[o]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},n.prototype.pause=function(e){return e===void 0&&(e=At()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},n.prototype.resume=function(e){return e===void 0&&(e=At()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return this._group=e,this},n.prototype.delay=function(e){return this._delayTime=e,this},n.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return this._yoyo=e,this},n.prototype.easing=function(e){return this._easingFunction=e,this},n.prototype.interpolation=function(e){return this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){if(e===void 0&&(e=At()),r===void 0&&(r=!0),this._isPaused)return!0;var i,a,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>o)return!1;r&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),a=(e-this._startTime)/this._duration,a=this._duration===0||a>1?1:a;var s=this._easingFunction(a);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,s),this._onUpdateCallback&&this._onUpdateCallback(this._object,a),a===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,l=this._chainedTweens.length;u<l;u++)this._chainedTweens[u].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,i,a){for(var o in i)if(r[o]!==void 0){var s=r[o]||0,u=i[o],l=Array.isArray(e[o]),f=Array.isArray(u),d=!l&&f;d?e[o]=this._interpolationFunction(u,a):typeof u=="object"&&u?this._updateProperties(e[o],s,u,a):(u=this._handleRelativeValue(s,u),typeof u=="number"&&(e[o]=s+(u-s)*a))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n}(),Jn="18.6.4",tr=de.nextId,yt=He,er=yt.getAll.bind(yt),nr=yt.removeAll.bind(yt),rr=yt.add.bind(yt),ir=yt.remove.bind(yt),ar=yt.update.bind(yt),Et={Easing:Ft,Group:qe,Interpolation:Pt,now:At,Sequence:de,nextId:tr,Tween:Qn,VERSION:Jn,getAll:er,removeAll:nr,add:rr,remove:ir,update:ar};function ae(n,e,r){var i,a,o,s,u;e==null&&(e=100);function l(){var d=Date.now()-s;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,r||(u=n.apply(o,a),o=a=null))}var f=function(){o=this,a=arguments,s=Date.now();var d=r&&!i;return i||(i=setTimeout(l,e)),d&&(u=n.apply(o,a),o=a=null),u};return f.clear=function(){i&&(clearTimeout(i),i=null)},f.flush=function(){i&&(u=n.apply(o,a),o=a=null,clearTimeout(i),i=null)},f}ae.debounce=ae;var or=ae;function sr(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function we(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function ur(n,e,r){return e&&we(n.prototype,e),r&&we(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function fr(n,e){return lr(n)||cr(n,e)||hr(n,e)||dr()}function lr(n){if(Array.isArray(n))return n}function cr(n,e){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i=[],a=!0,o=!1,s,u;try{for(r=r.call(n);!(a=(s=r.next()).done)&&(i.push(s.value),!(e&&i.length===e));a=!0);}catch(l){o=!0,u=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}return i}}function hr(n,e){if(!!n){if(typeof n=="string")return ke(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ke(n,e)}}function ke(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function dr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gr=ur(function n(e,r){var i=r.default,a=i===void 0?null:i,o=r.triggerUpdate,s=o===void 0?!0:o,u=r.onChange,l=u===void 0?function(f,d){}:u;sr(this,n),this.name=e,this.defaultVal=a,this.triggerUpdate=s,this.onChange=l});function Ge(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,i=n.props,a=i===void 0?{}:i,o=n.methods,s=o===void 0?{}:o,u=n.aliases,l=u===void 0?{}:u,f=n.init,d=f===void 0?function(){}:f,c=n.update,h=c===void 0?function(){}:c,y=Object.keys(a).map(function(_){return new gr(_,a[_])});return function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=Object.assign({},r instanceof Function?r(_):r,{initialised:!1}),k={};function g(m){return S(m,_),M(),g}var S=function(x,A){d.call(g,x,w,A),w.initialised=!0},M=or(function(){!w.initialised||(h.call(g,w,k),k={})},1);return y.forEach(function(m){g[m.name]=x(m);function x(A){var C=A.name,P=A.triggerUpdate,D=P===void 0?!1:P,I=A.onChange,F=I===void 0?function(z,E){}:I,L=A.defaultVal,B=L===void 0?null:L;return function(z){var E=w[C];if(!arguments.length)return E;var T=z===void 0?B:z;return w[C]=T,F.call(g,T,w,E),!k.hasOwnProperty(C)&&(k[C]=E),D&&M(),g}}}),Object.keys(s).forEach(function(m){g[m]=function(){for(var x,A=arguments.length,C=new Array(A),P=0;P<A;P++)C[P]=arguments[P];return(x=s[m]).call.apply(x,[g,w].concat(C))}}),Object.entries(l).forEach(function(m){var x=fr(m,2),A=x[0],C=x[1];return g[A]=g[C]}),g.resetProps=function(){return y.forEach(function(m){g[m.name](m.defaultVal)}),g},g.resetProps(),w._rerender=M,g}}var X=function(n){return n instanceof Function?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}},Ve={exports:{}};(function(n){(function(e){var r=/^\s+/,i=/\s+$/,a=0,o=e.round,s=e.min,u=e.max,l=e.random;function f(p,b){if(p=p||"",b=b||{},p instanceof f)return p;if(!(this instanceof f))return new f(p,b);var v=d(p);this._originalInput=p,this._r=v.r,this._g=v.g,this._b=v.b,this._a=v.a,this._roundA=o(100*this._a)/100,this._format=b.format||v.format,this._gradientType=b.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=v.ok,this._tc_id=a++}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var p=this.toRgb();return(p.r*299+p.g*587+p.b*114)/1e3},getLuminance:function(){var p=this.toRgb(),b,v,O,$,N,W;return b=p.r/255,v=p.g/255,O=p.b/255,b<=.03928?$=b/12.92:$=e.pow((b+.055)/1.055,2.4),v<=.03928?N=v/12.92:N=e.pow((v+.055)/1.055,2.4),O<=.03928?W=O/12.92:W=e.pow((O+.055)/1.055,2.4),.2126*$+.7152*N+.0722*W},setAlpha:function(p){return this._a=H(p),this._roundA=o(100*this._a)/100,this},toHsv:function(){var p=_(this._r,this._g,this._b);return{h:p.h*360,s:p.s,v:p.v,a:this._a}},toHsvString:function(){var p=_(this._r,this._g,this._b),b=o(p.h*360),v=o(p.s*100),O=o(p.v*100);return this._a==1?"hsv("+b+", "+v+"%, "+O+"%)":"hsva("+b+", "+v+"%, "+O+"%, "+this._roundA+")"},toHsl:function(){var p=h(this._r,this._g,this._b);return{h:p.h*360,s:p.s,l:p.l,a:this._a}},toHslString:function(){var p=h(this._r,this._g,this._b),b=o(p.h*360),v=o(p.s*100),O=o(p.l*100);return this._a==1?"hsl("+b+", "+v+"%, "+O+"%)":"hsla("+b+", "+v+"%, "+O+"%, "+this._roundA+")"},toHex:function(p){return k(this._r,this._g,this._b,p)},toHexString:function(p){return"#"+this.toHex(p)},toHex8:function(p){return g(this._r,this._g,this._b,this._a,p)},toHex8String:function(p){return"#"+this.toHex8(p)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(j(this._r,255)*100)+"%",g:o(j(this._g,255)*100)+"%",b:o(j(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+o(j(this._r,255)*100)+"%, "+o(j(this._g,255)*100)+"%, "+o(j(this._b,255)*100)+"%)":"rgba("+o(j(this._r,255)*100)+"%, "+o(j(this._g,255)*100)+"%, "+o(j(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:U[k(this._r,this._g,this._b,!0)]||!1},toFilter:function(p){var b="#"+S(this._r,this._g,this._b,this._a),v=b,O=this._gradientType?"GradientType = 1, ":"";if(p){var $=f(p);v="#"+S($._r,$._g,$._b,$._a)}return"progid:DXImageTransform.Microsoft.gradient("+O+"startColorstr="+b+",endColorstr="+v+")"},toString:function(p){var b=!!p;p=p||this._format;var v=!1,O=this._a<1&&this._a>=0,$=!b&&O&&(p==="hex"||p==="hex6"||p==="hex3"||p==="hex4"||p==="hex8"||p==="name");return $?p==="name"&&this._a===0?this.toName():this.toRgbString():(p==="rgb"&&(v=this.toRgbString()),p==="prgb"&&(v=this.toPercentageRgbString()),(p==="hex"||p==="hex6")&&(v=this.toHexString()),p==="hex3"&&(v=this.toHexString(!0)),p==="hex4"&&(v=this.toHex8String(!0)),p==="hex8"&&(v=this.toHex8String()),p==="name"&&(v=this.toName()),p==="hsl"&&(v=this.toHslString()),p==="hsv"&&(v=this.toHsvString()),v||this.toHexString())},clone:function(){return f(this.toString())},_applyModification:function(p,b){var v=p.apply(null,[this].concat([].slice.call(b)));return this._r=v._r,this._g=v._g,this._b=v._b,this.setAlpha(v._a),this},lighten:function(){return this._applyModification(A,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(M,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(D,arguments)},_applyCombination:function(p,b){return p.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(z,arguments)},complement:function(){return this._applyCombination(I,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(B,arguments)},triad:function(){return this._applyCombination(F,arguments)},tetrad:function(){return this._applyCombination(L,arguments)}},f.fromRatio=function(p,b){if(typeof p=="object"){var v={};for(var O in p)p.hasOwnProperty(O)&&(O==="a"?v[O]=p[O]:v[O]=it(p[O]));p=v}return f(p,b)};function d(p){var b={r:0,g:0,b:0},v=1,O=null,$=null,N=null,W=!1,J=!1;return typeof p=="string"&&(p=rn(p)),typeof p=="object"&&(vt(p.r)&&vt(p.g)&&vt(p.b)?(b=c(p.r,p.g,p.b),W=!0,J=String(p.r).substr(-1)==="%"?"prgb":"rgb"):vt(p.h)&&vt(p.s)&&vt(p.v)?(O=it(p.s),$=it(p.v),b=w(p.h,O,$),W=!0,J="hsv"):vt(p.h)&&vt(p.s)&&vt(p.l)&&(O=it(p.s),N=it(p.l),b=y(p.h,O,N),W=!0,J="hsl"),p.hasOwnProperty("a")&&(v=p.a)),v=H(v),{ok:W,format:p.format||J,r:s(255,u(b.r,0)),g:s(255,u(b.g,0)),b:s(255,u(b.b,0)),a:v}}function c(p,b,v){return{r:j(p,255)*255,g:j(b,255)*255,b:j(v,255)*255}}function h(p,b,v){p=j(p,255),b=j(b,255),v=j(v,255);var O=u(p,b,v),$=s(p,b,v),N,W,J=(O+$)/2;if(O==$)N=W=0;else{var tt=O-$;switch(W=J>.5?tt/(2-O-$):tt/(O+$),O){case p:N=(b-v)/tt+(b<v?6:0);break;case b:N=(v-p)/tt+2;break;case v:N=(p-b)/tt+4;break}N/=6}return{h:N,s:W,l:J}}function y(p,b,v){var O,$,N;p=j(p,360),b=j(b,100),v=j(v,100);function W(ct,Ot,gt){return gt<0&&(gt+=1),gt>1&&(gt-=1),gt<1/6?ct+(Ot-ct)*6*gt:gt<1/2?Ot:gt<2/3?ct+(Ot-ct)*(2/3-gt)*6:ct}if(b===0)O=$=N=v;else{var J=v<.5?v*(1+b):v+b-v*b,tt=2*v-J;O=W(tt,J,p+1/3),$=W(tt,J,p),N=W(tt,J,p-1/3)}return{r:O*255,g:$*255,b:N*255}}function _(p,b,v){p=j(p,255),b=j(b,255),v=j(v,255);var O=u(p,b,v),$=s(p,b,v),N,W,J=O,tt=O-$;if(W=O===0?0:tt/O,O==$)N=0;else{switch(O){case p:N=(b-v)/tt+(b<v?6:0);break;case b:N=(v-p)/tt+2;break;case v:N=(p-b)/tt+4;break}N/=6}return{h:N,s:W,v:J}}function w(p,b,v){p=j(p,360)*6,b=j(b,100),v=j(v,100);var O=e.floor(p),$=p-O,N=v*(1-b),W=v*(1-$*b),J=v*(1-(1-$)*b),tt=O%6,ct=[v,W,N,N,J,v][tt],Ot=[J,v,v,W,N,N][tt],gt=[N,N,J,v,v,W][tt];return{r:ct*255,g:Ot*255,b:gt*255}}function k(p,b,v,O){var $=[Q(o(p).toString(16)),Q(o(b).toString(16)),Q(o(v).toString(16))];return O&&$[0].charAt(0)==$[0].charAt(1)&&$[1].charAt(0)==$[1].charAt(1)&&$[2].charAt(0)==$[2].charAt(1)?$[0].charAt(0)+$[1].charAt(0)+$[2].charAt(0):$.join("")}function g(p,b,v,O,$){var N=[Q(o(p).toString(16)),Q(o(b).toString(16)),Q(o(v).toString(16)),Q(ut(O))];return $&&N[0].charAt(0)==N[0].charAt(1)&&N[1].charAt(0)==N[1].charAt(1)&&N[2].charAt(0)==N[2].charAt(1)&&N[3].charAt(0)==N[3].charAt(1)?N[0].charAt(0)+N[1].charAt(0)+N[2].charAt(0)+N[3].charAt(0):N.join("")}function S(p,b,v,O){var $=[Q(ut(O)),Q(o(p).toString(16)),Q(o(b).toString(16)),Q(o(v).toString(16))];return $.join("")}f.equals=function(p,b){return!p||!b?!1:f(p).toRgbString()==f(b).toRgbString()},f.random=function(){return f.fromRatio({r:l(),g:l(),b:l()})};function M(p,b){b=b===0?0:b||10;var v=f(p).toHsl();return v.s-=b/100,v.s=V(v.s),f(v)}function m(p,b){b=b===0?0:b||10;var v=f(p).toHsl();return v.s+=b/100,v.s=V(v.s),f(v)}function x(p){return f(p).desaturate(100)}function A(p,b){b=b===0?0:b||10;var v=f(p).toHsl();return v.l+=b/100,v.l=V(v.l),f(v)}function C(p,b){b=b===0?0:b||10;var v=f(p).toRgb();return v.r=u(0,s(255,v.r-o(255*-(b/100)))),v.g=u(0,s(255,v.g-o(255*-(b/100)))),v.b=u(0,s(255,v.b-o(255*-(b/100)))),f(v)}function P(p,b){b=b===0?0:b||10;var v=f(p).toHsl();return v.l-=b/100,v.l=V(v.l),f(v)}function D(p,b){var v=f(p).toHsl(),O=(v.h+b)%360;return v.h=O<0?360+O:O,f(v)}function I(p){var b=f(p).toHsl();return b.h=(b.h+180)%360,f(b)}function F(p){var b=f(p).toHsl(),v=b.h;return[f(p),f({h:(v+120)%360,s:b.s,l:b.l}),f({h:(v+240)%360,s:b.s,l:b.l})]}function L(p){var b=f(p).toHsl(),v=b.h;return[f(p),f({h:(v+90)%360,s:b.s,l:b.l}),f({h:(v+180)%360,s:b.s,l:b.l}),f({h:(v+270)%360,s:b.s,l:b.l})]}function B(p){var b=f(p).toHsl(),v=b.h;return[f(p),f({h:(v+72)%360,s:b.s,l:b.l}),f({h:(v+216)%360,s:b.s,l:b.l})]}function z(p,b,v){b=b||6,v=v||30;var O=f(p).toHsl(),$=360/v,N=[f(p)];for(O.h=(O.h-($*b>>1)+720)%360;--b;)O.h=(O.h+$)%360,N.push(f(O));return N}function E(p,b){b=b||6;for(var v=f(p).toHsv(),O=v.h,$=v.s,N=v.v,W=[],J=1/b;b--;)W.push(f({h:O,s:$,v:N})),N=(N+J)%1;return W}f.mix=function(p,b,v){v=v===0?0:v||50;var O=f(p).toRgb(),$=f(b).toRgb(),N=v/100,W={r:($.r-O.r)*N+O.r,g:($.g-O.g)*N+O.g,b:($.b-O.b)*N+O.b,a:($.a-O.a)*N+O.a};return f(W)},f.readability=function(p,b){var v=f(p),O=f(b);return(e.max(v.getLuminance(),O.getLuminance())+.05)/(e.min(v.getLuminance(),O.getLuminance())+.05)},f.isReadable=function(p,b,v){var O=f.readability(p,b),$,N;switch(N=!1,$=an(v),$.level+$.size){case"AAsmall":case"AAAlarge":N=O>=4.5;break;case"AAlarge":N=O>=3;break;case"AAAsmall":N=O>=7;break}return N},f.mostReadable=function(p,b,v){var O=null,$=0,N,W,J,tt;v=v||{},W=v.includeFallbackColors,J=v.level,tt=v.size;for(var ct=0;ct<b.length;ct++)N=f.readability(p,b[ct]),N>$&&($=N,O=f(b[ct]));return f.isReadable(p,O,{level:J,size:tt})||!W?O:(v.includeFallbackColors=!1,f.mostReadable(p,["#fff","#000"],v))};var T=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=f.hexNames=q(T);function q(p){var b={};for(var v in p)p.hasOwnProperty(v)&&(b[p[v]]=v);return b}function H(p){return p=parseFloat(p),(isNaN(p)||p<0||p>1)&&(p=1),p}function j(p,b){et(p)&&(p="100%");var v=K(p);return p=s(b,u(0,parseFloat(p))),v&&(p=parseInt(p*b,10)/100),e.abs(p-b)<1e-6?1:p%b/parseFloat(b)}function V(p){return s(1,u(0,p))}function G(p){return parseInt(p,16)}function et(p){return typeof p=="string"&&p.indexOf(".")!=-1&&parseFloat(p)===1}function K(p){return typeof p=="string"&&p.indexOf("%")!=-1}function Q(p){return p.length==1?"0"+p:""+p}function it(p){return p<=1&&(p=p*100+"%"),p}function ut(p){return e.round(parseFloat(p)*255).toString(16)}function lt(p){return G(p)/255}var at=function(){var p="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",v="(?:"+b+")|(?:"+p+")",O="[\\s|\\(]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")\\s*\\)?",$="[\\s|\\(]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")\\s*\\)?";return{CSS_UNIT:new RegExp(v),rgb:new RegExp("rgb"+O),rgba:new RegExp("rgba"+$),hsl:new RegExp("hsl"+O),hsla:new RegExp("hsla"+$),hsv:new RegExp("hsv"+O),hsva:new RegExp("hsva"+$),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function vt(p){return!!at.CSS_UNIT.exec(p)}function rn(p){p=p.replace(r,"").replace(i,"").toLowerCase();var b=!1;if(T[p])p=T[p],b=!0;else if(p=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var v;return(v=at.rgb.exec(p))?{r:v[1],g:v[2],b:v[3]}:(v=at.rgba.exec(p))?{r:v[1],g:v[2],b:v[3],a:v[4]}:(v=at.hsl.exec(p))?{h:v[1],s:v[2],l:v[3]}:(v=at.hsla.exec(p))?{h:v[1],s:v[2],l:v[3],a:v[4]}:(v=at.hsv.exec(p))?{h:v[1],s:v[2],v:v[3]}:(v=at.hsva.exec(p))?{h:v[1],s:v[2],v:v[3],a:v[4]}:(v=at.hex8.exec(p))?{r:G(v[1]),g:G(v[2]),b:G(v[3]),a:lt(v[4]),format:b?"name":"hex8"}:(v=at.hex6.exec(p))?{r:G(v[1]),g:G(v[2]),b:G(v[3]),format:b?"name":"hex"}:(v=at.hex4.exec(p))?{r:G(v[1]+""+v[1]),g:G(v[2]+""+v[2]),b:G(v[3]+""+v[3]),a:lt(v[4]+""+v[4]),format:b?"name":"hex8"}:(v=at.hex3.exec(p))?{r:G(v[1]+""+v[1]),g:G(v[2]+""+v[2]),b:G(v[3]+""+v[3]),format:b?"name":"hex"}:!1}function an(p){var b,v;return p=p||{level:"AA",size:"small"},b=(p.level||"AA").toUpperCase(),v=(p.size||"small").toLowerCase(),b!=="AA"&&b!=="AAA"&&(b="AA"),v!=="small"&&v!=="large"&&(v="small"),{level:b,size:v}}n.exports?n.exports=f:window.tinycolor=f})(Math)})(Ve);var pr=Ve.exports;function yr(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ze(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function vr(n,e,r){return e&&ze(n.prototype,e),r&&ze(n,r),n}function _r(n){return mr(n)||xr(n)||br(n)||wr()}function mr(n){if(Array.isArray(n))return oe(n)}function xr(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}function br(n,e){if(!!n){if(typeof n=="string")return oe(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(n,e)}}function oe(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function wr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var kr=123,zr=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},Be=function(e,r,i){return(e<<16)+(r<<8)+i},Cr=function(e){var r=pr(e).toRgb(),i=r.r,a=r.g,o=r.b;return Be(i,a,o)},Ce=function(e,r){return e*kr%Math.pow(2,r)},Ar=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;yr(this,n),this.csBits=e,this.registry=["__reserved for background__"]}return vr(n,[{key:"register",value:function(r){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var i=this.registry.length,a=Ce(i,this.csBits),o=zr(i+(a<<24-this.csBits));return this.registry.push(r),o}},{key:"lookup",value:function(r){var i=typeof r=="string"?Cr(r):Be.apply(void 0,_r(r));if(!i)return null;var a=i&Math.pow(2,24-this.csBits)-1,o=i>>24-this.csBits&Math.pow(2,this.csBits)-1;return Ce(a,this.csBits)!==o||a>=this.registry.length?null:this.registry[a]}}]),n}();function Sr(n,e,r){var i,a=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function o(){var s,u=i.length,l,f=0,d=0,c=0;for(s=0;s<u;++s)l=i[s],f+=l.x||0,d+=l.y||0,c+=l.z||0;for(f=(f/u-n)*a,d=(d/u-e)*a,c=(c/u-r)*a,s=0;s<u;++s)l=i[s],f&&(l.x-=f),d&&(l.y-=d),c&&(l.z-=c)}return o.initialize=function(s){i=s},o.x=function(s){return arguments.length?(n=+s,o):n},o.y=function(s){return arguments.length?(e=+s,o):e},o.z=function(s){return arguments.length?(r=+s,o):r},o.strength=function(s){return arguments.length?(a=+s,o):a},o}function Mr(n){var e=+this._x.call(null,n);return We(this.cover(e),e,n)}function We(n,e,r){if(isNaN(e))return n;var i,a=n._root,o={data:r},s=n._x0,u=n._x1,l,f,d,c,h;if(!a)return n._root=o,n;for(;a.length;)if((d=e>=(l=(s+u)/2))?s=l:u=l,i=a,!(a=a[c=+d]))return i[c]=o,n;if(f=+n._x.call(null,a.data),e===f)return o.next=a,i?i[c]=o:n._root=o,n;do i=i?i[c]=new Array(2):n._root=new Array(2),(d=e>=(l=(s+u)/2))?s=l:u=l;while((c=+d)==(h=+(f>=l)));return i[h]=a,i[c]=o,n}function Pr(n){var e,r=n.length,i,a=new Array(r),o=1/0,s=-1/0;for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n[e]))||(a[e]=i,i<o&&(o=i),i>s&&(s=i));if(o>s)return this;for(this.cover(o).cover(s),e=0;e<r;++e)We(this,a[e],n[e]);return this}function Tr(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i=r-e||1,a=this._root,o,s;e>n||n>=r;)switch(s=+(n<e),o=new Array(2),o[s]=a,a=o,i*=2,s){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=e,this._x1=r,this}function Or(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function Rr(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function kt(n,e,r){this.node=n,this.x0=e,this.x1=r}function Er(n,e){var r,i=this._x0,a,o,s=this._x1,u=[],l=this._root,f,d;for(l&&u.push(new kt(l,i,s)),e==null?e=1/0:(i=n-e,s=n+e);f=u.pop();)if(!(!(l=f.node)||(a=f.x0)>s||(o=f.x1)<i))if(l.length){var c=(a+o)/2;u.push(new kt(l[1],c,o),new kt(l[0],a,c)),(d=+(n>=c))&&(f=u[u.length-1],u[u.length-1]=u[u.length-1-d],u[u.length-1-d]=f)}else{var h=Math.abs(n-+this._x.call(null,l.data));h<e&&(e=h,i=n-h,s=n+h,r=l.data)}return r}function Ir(n){if(isNaN(l=+this._x.call(null,n)))return this;var e,r=this._root,i,a,o,s=this._x0,u=this._x1,l,f,d,c,h;if(!r)return this;if(r.length)for(;;){if((d=l>=(f=(s+u)/2))?s=f:u=f,e=r,!(r=r[c=+d]))return this;if(!r.length)break;e[c+1&1]&&(i=e,h=c)}for(;r.data!==n;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):e?(o?e[c]=o:delete e[c],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(i?i[h]=r:this._root=r),this):(this._root=o,this)}function Dr(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Nr(){return this._root}function jr(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function $r(n){var e=[],r,i=this._root,a,o,s;for(i&&e.push(new kt(i,this._x0,this._x1));r=e.pop();)if(!n(i=r.node,o=r.x0,s=r.x1)&&i.length){var u=(o+s)/2;(a=i[1])&&e.push(new kt(a,u,s)),(a=i[0])&&e.push(new kt(a,o,u))}return this}function Ur(n){var e=[],r=[],i;for(this._root&&e.push(new kt(this._root,this._x0,this._x1));i=e.pop();){var a=i.node;if(a.length){var o,s=i.x0,u=i.x1,l=(s+u)/2;(o=a[0])&&e.push(new kt(o,s,l)),(o=a[1])&&e.push(new kt(o,l,u))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.x1);return this}function Fr(n){return n[0]}function Lr(n){return arguments.length?(this._x=n,this):this._x}function Ze(n,e){var r=new ge(e==null?Fr:e,NaN,NaN);return n==null?r:r.addAll(n)}function ge(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function Ae(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var ft=Ze.prototype=ge.prototype;ft.copy=function(){var n=new ge(this._x,this._x0,this._x1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Ae(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var a=0;a<2;++a)(i=e.source[a])&&(i.length?r.push({source:i,target:e.target[a]=new Array(2)}):e.target[a]=Ae(i));return n};ft.add=Mr;ft.addAll=Pr;ft.cover=Tr;ft.data=Or;ft.extent=Rr;ft.find=Er;ft.remove=Ir;ft.removeAll=Dr;ft.root=Nr;ft.size=jr;ft.visit=$r;ft.visitAfter=Ur;ft.x=Lr;function qr(n){var e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return Xe(this.cover(e,r,i),e,r,i,n)}function Xe(n,e,r,i,a){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var o,s=n._root,u={data:a},l=n._x0,f=n._y0,d=n._z0,c=n._x1,h=n._y1,y=n._z1,_,w,k,g,S,M,m,x,A,C,P;if(!s)return n._root=u,n;for(;s.length;)if((m=e>=(_=(l+c)/2))?l=_:c=_,(x=r>=(w=(f+h)/2))?f=w:h=w,(A=i>=(k=(d+y)/2))?d=k:y=k,o=s,!(s=s[C=A<<2|x<<1|m]))return o[C]=u,n;if(g=+n._x.call(null,s.data),S=+n._y.call(null,s.data),M=+n._z.call(null,s.data),e===g&&r===S&&i===M)return u.next=s,o?o[C]=u:n._root=u,n;do o=o?o[C]=new Array(8):n._root=new Array(8),(m=e>=(_=(l+c)/2))?l=_:c=_,(x=r>=(w=(f+h)/2))?f=w:h=w,(A=i>=(k=(d+y)/2))?d=k:y=k;while((C=A<<2|x<<1|m)===(P=(M>=k)<<2|(S>=w)<<1|g>=_));return o[P]=s,o[C]=u,n}function Hr(n){var e,r,i=n.length,a,o,s,u=new Array(i),l=new Array(i),f=new Array(i),d=1/0,c=1/0,h=1/0,y=-1/0,_=-1/0,w=-1/0;for(r=0;r<i;++r)isNaN(a=+this._x.call(null,e=n[r]))||isNaN(o=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e))||(u[r]=a,l[r]=o,f[r]=s,a<d&&(d=a),a>y&&(y=a),o<c&&(c=o),o>_&&(_=o),s<h&&(h=s),s>w&&(w=s));if(d>y||c>_||h>w)return this;for(this.cover(d,c,h).cover(y,_,w),r=0;r<i;++r)Xe(this,u[r],l[r],f[r],n[r]);return this}function Gr(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,a=this._y0,o=this._z0,s=this._x1,u=this._y1,l=this._z1;if(isNaN(i))s=(i=Math.floor(n))+1,u=(a=Math.floor(e))+1,l=(o=Math.floor(r))+1;else{for(var f=s-i||1,d=this._root,c,h;i>n||n>=s||a>e||e>=u||o>r||r>=l;)switch(h=(r<o)<<2|(e<a)<<1|n<i,c=new Array(8),c[h]=d,d=c,f*=2,h){case 0:s=i+f,u=a+f,l=o+f;break;case 1:i=s-f,u=a+f,l=o+f;break;case 2:s=i+f,a=u-f,l=o+f;break;case 3:i=s-f,a=u-f,l=o+f;break;case 4:s=i+f,u=a+f,o=l-f;break;case 5:i=s-f,u=a+f,o=l-f;break;case 6:s=i+f,a=u-f,o=l-f;break;case 7:i=s-f,a=u-f,o=l-f;break}this._root&&this._root.length&&(this._root=d)}return this._x0=i,this._y0=a,this._z0=o,this._x1=s,this._y1=u,this._z1=l,this}function Vr(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function Br(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Z(n,e,r,i,a,o,s){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=a,this.y1=o,this.z1=s}function Wr(n,e,r,i){var a,o=this._x0,s=this._y0,u=this._z0,l,f,d,c,h,y,_=this._x1,w=this._y1,k=this._z1,g=[],S=this._root,M,m;for(S&&g.push(new Z(S,o,s,u,_,w,k)),i==null?i=1/0:(o=n-i,s=e-i,u=r-i,_=n+i,w=e+i,k=r+i,i*=i);M=g.pop();)if(!(!(S=M.node)||(l=M.x0)>_||(f=M.y0)>w||(d=M.z0)>k||(c=M.x1)<o||(h=M.y1)<s||(y=M.z1)<u))if(S.length){var x=(l+c)/2,A=(f+h)/2,C=(d+y)/2;g.push(new Z(S[7],x,A,C,c,h,y),new Z(S[6],l,A,C,x,h,y),new Z(S[5],x,f,C,c,A,y),new Z(S[4],l,f,C,x,A,y),new Z(S[3],x,A,d,c,h,C),new Z(S[2],l,A,d,x,h,C),new Z(S[1],x,f,d,c,A,C),new Z(S[0],l,f,d,x,A,C)),(m=(r>=C)<<2|(e>=A)<<1|n>=x)&&(M=g[g.length-1],g[g.length-1]=g[g.length-1-m],g[g.length-1-m]=M)}else{var P=n-+this._x.call(null,S.data),D=e-+this._y.call(null,S.data),I=r-+this._z.call(null,S.data),F=P*P+D*D+I*I;if(F<i){var L=Math.sqrt(i=F);o=n-L,s=e-L,u=r-L,_=n+L,w=e+L,k=r+L,a=S.data}}return a}function Zr(n){if(isNaN(h=+this._x.call(null,n))||isNaN(y=+this._y.call(null,n))||isNaN(_=+this._z.call(null,n)))return this;var e,r=this._root,i,a,o,s=this._x0,u=this._y0,l=this._z0,f=this._x1,d=this._y1,c=this._z1,h,y,_,w,k,g,S,M,m,x,A;if(!r)return this;if(r.length)for(;;){if((S=h>=(w=(s+f)/2))?s=w:f=w,(M=y>=(k=(u+d)/2))?u=k:d=k,(m=_>=(g=(l+c)/2))?l=g:c=g,e=r,!(r=r[x=m<<2|M<<1|S]))return this;if(!r.length)break;(e[x+1&7]||e[x+2&7]||e[x+3&7]||e[x+4&7]||e[x+5&7]||e[x+6&7]||e[x+7&7])&&(i=e,A=x)}for(;r.data!==n;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):e?(o?e[x]=o:delete e[x],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[A]=r:this._root=r),this):(this._root=o,this)}function Xr(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Yr(){return this._root}function Kr(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Qr(n){var e=[],r,i=this._root,a,o,s,u,l,f,d;for(i&&e.push(new Z(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(i=r.node,o=r.x0,s=r.y0,u=r.z0,l=r.x1,f=r.y1,d=r.z1)&&i.length){var c=(o+l)/2,h=(s+f)/2,y=(u+d)/2;(a=i[7])&&e.push(new Z(a,c,h,y,l,f,d)),(a=i[6])&&e.push(new Z(a,o,h,y,c,f,d)),(a=i[5])&&e.push(new Z(a,c,s,y,l,h,d)),(a=i[4])&&e.push(new Z(a,o,s,y,c,h,d)),(a=i[3])&&e.push(new Z(a,c,h,u,l,f,y)),(a=i[2])&&e.push(new Z(a,o,h,u,c,f,y)),(a=i[1])&&e.push(new Z(a,c,s,u,l,h,y)),(a=i[0])&&e.push(new Z(a,o,s,u,c,h,y))}return this}function Jr(n){var e=[],r=[],i;for(this._root&&e.push(new Z(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var a=i.node;if(a.length){var o,s=i.x0,u=i.y0,l=i.z0,f=i.x1,d=i.y1,c=i.z1,h=(s+f)/2,y=(u+d)/2,_=(l+c)/2;(o=a[0])&&e.push(new Z(o,s,u,l,h,y,_)),(o=a[1])&&e.push(new Z(o,h,u,l,f,y,_)),(o=a[2])&&e.push(new Z(o,s,y,l,h,d,_)),(o=a[3])&&e.push(new Z(o,h,y,l,f,d,_)),(o=a[4])&&e.push(new Z(o,s,u,_,h,y,c)),(o=a[5])&&e.push(new Z(o,h,u,_,f,y,c)),(o=a[6])&&e.push(new Z(o,s,y,_,h,d,c)),(o=a[7])&&e.push(new Z(o,h,y,_,f,d,c))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function ti(n){return n[0]}function ei(n){return arguments.length?(this._x=n,this):this._x}function ni(n){return n[1]}function ri(n){return arguments.length?(this._y=n,this):this._y}function ii(n){return n[2]}function ai(n){return arguments.length?(this._z=n,this):this._z}function Ye(n,e,r,i){var a=new pe(e==null?ti:e,r==null?ni:r,i==null?ii:i,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?a:a.addAll(n)}function pe(n,e,r,i,a,o,s,u,l){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=a,this._z0=o,this._x1=s,this._y1=u,this._z1=l,this._root=void 0}function Se(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var rt=Ye.prototype=pe.prototype;rt.copy=function(){var n=new pe(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Se(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var a=0;a<8;++a)(i=e.source[a])&&(i.length?r.push({source:i,target:e.target[a]=new Array(8)}):e.target[a]=Se(i));return n};rt.add=qr;rt.addAll=Hr;rt.cover=Gr;rt.data=Vr;rt.extent=Br;rt.find=Wr;rt.remove=Zr;rt.removeAll=Xr;rt.root=Yr;rt.size=Kr;rt.visit=Qr;rt.visitAfter=Jr;rt.x=ei;rt.y=ri;rt.z=ai;function wt(n){return function(){return n}}function bt(n){return(n()-.5)*1e-6}function oi(n){return n.index}function Me(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function si(n){var e=oi,r=h,i,a=wt(30),o,s,u,l,f,d,c=1;n==null&&(n=[]);function h(g){return 1/Math.min(l[g.source.index],l[g.target.index])}function y(g){for(var S=0,M=n.length;S<c;++S)for(var m=0,x,A,C,P=0,D=0,I=0,F,L;m<M;++m)x=n[m],A=x.source,C=x.target,P=C.x+C.vx-A.x-A.vx||bt(d),u>1&&(D=C.y+C.vy-A.y-A.vy||bt(d)),u>2&&(I=C.z+C.vz-A.z-A.vz||bt(d)),F=Math.sqrt(P*P+D*D+I*I),F=(F-o[m])/F*g*i[m],P*=F,D*=F,I*=F,C.vx-=P*(L=f[m]),u>1&&(C.vy-=D*L),u>2&&(C.vz-=I*L),A.vx+=P*(L=1-L),u>1&&(A.vy+=D*L),u>2&&(A.vz+=I*L)}function _(){if(!!s){var g,S=s.length,M=n.length,m=new Map(s.map((A,C)=>[e(A,C,s),A])),x;for(g=0,l=new Array(S);g<M;++g)x=n[g],x.index=g,typeof x.source!="object"&&(x.source=Me(m,x.source)),typeof x.target!="object"&&(x.target=Me(m,x.target)),l[x.source.index]=(l[x.source.index]||0)+1,l[x.target.index]=(l[x.target.index]||0)+1;for(g=0,f=new Array(M);g<M;++g)x=n[g],f[g]=l[x.source.index]/(l[x.source.index]+l[x.target.index]);i=new Array(M),w(),o=new Array(M),k()}}function w(){if(!!s)for(var g=0,S=n.length;g<S;++g)i[g]=+r(n[g],g,n)}function k(){if(!!s)for(var g=0,S=n.length;g<S;++g)o[g]=+a(n[g],g,n)}return y.initialize=function(g,...S){s=g,d=S.find(M=>typeof M=="function")||Math.random,u=S.find(M=>[1,2,3].includes(M))||2,_()},y.links=function(g){return arguments.length?(n=g,_(),y):n},y.id=function(g){return arguments.length?(e=g,y):e},y.iterations=function(g){return arguments.length?(c=+g,y):c},y.strength=function(g){return arguments.length?(r=typeof g=="function"?g:wt(+g),w(),y):r},y.distance=function(g){return arguments.length?(a=typeof g=="function"?g:wt(+g),k(),y):a},y}const ui=1664525,fi=1013904223,Pe=4294967296;function li(){let n=1;return()=>(n=(ui*n+fi)%Pe)/Pe}var Te=3;function te(n){return n.x}function Oe(n){return n.y}function ci(n){return n.z}var hi=10,di=Math.PI*(3-Math.sqrt(5)),gi=Math.PI*20/(9+Math.sqrt(221));function pi(n,e){e=e||2;var r=Math.min(Te,Math.max(1,Math.round(e))),i,a=1,o=.001,s=1-Math.pow(o,1/300),u=0,l=.6,f=new Map,d=on(y),c=ce("tick","end"),h=li();n==null&&(n=[]);function y(){_(),c.call("tick",i),a<o&&(d.stop(),c.call("end",i))}function _(g){var S,M=n.length,m;g===void 0&&(g=1);for(var x=0;x<g;++x)for(a+=(u-a)*s,f.forEach(function(A){A(a)}),S=0;S<M;++S)m=n[S],m.fx==null?m.x+=m.vx*=l:(m.x=m.fx,m.vx=0),r>1&&(m.fy==null?m.y+=m.vy*=l:(m.y=m.fy,m.vy=0)),r>2&&(m.fz==null?m.z+=m.vz*=l:(m.z=m.fz,m.vz=0));return i}function w(){for(var g=0,S=n.length,M;g<S;++g){if(M=n[g],M.index=g,M.fx!=null&&(M.x=M.fx),M.fy!=null&&(M.y=M.fy),M.fz!=null&&(M.z=M.fz),isNaN(M.x)||r>1&&isNaN(M.y)||r>2&&isNaN(M.z)){var m=hi*(r>2?Math.cbrt(.5+g):r>1?Math.sqrt(.5+g):g),x=g*di,A=g*gi;r===1?M.x=m:r===2?(M.x=m*Math.cos(x),M.y=m*Math.sin(x)):(M.x=m*Math.sin(x)*Math.cos(A),M.y=m*Math.cos(x),M.z=m*Math.sin(x)*Math.sin(A))}(isNaN(M.vx)||r>1&&isNaN(M.vy)||r>2&&isNaN(M.vz))&&(M.vx=0,r>1&&(M.vy=0),r>2&&(M.vz=0))}}function k(g){return g.initialize&&g.initialize(n,h,r),g}return w(),i={tick:_,restart:function(){return d.restart(y),i},stop:function(){return d.stop(),i},numDimensions:function(g){return arguments.length?(r=Math.min(Te,Math.max(1,Math.round(g))),f.forEach(k),i):r},nodes:function(g){return arguments.length?(n=g,w(),f.forEach(k),i):n},alpha:function(g){return arguments.length?(a=+g,i):a},alphaMin:function(g){return arguments.length?(o=+g,i):o},alphaDecay:function(g){return arguments.length?(s=+g,i):+s},alphaTarget:function(g){return arguments.length?(u=+g,i):u},velocityDecay:function(g){return arguments.length?(l=1-g,i):1-l},randomSource:function(g){return arguments.length?(h=g,f.forEach(k),i):h},force:function(g,S){return arguments.length>1?(S==null?f.delete(g):f.set(g,k(S)),i):f.get(g)},find:function(){var g=Array.prototype.slice.call(arguments),S=g.shift()||0,M=(r>1?g.shift():null)||0,m=(r>2?g.shift():null)||0,x=g.shift()||1/0,A=0,C=n.length,P,D,I,F,L,B;for(x*=x,A=0;A<C;++A)L=n[A],P=S-L.x,D=M-(L.y||0),I=m-(L.z||0),F=P*P+D*D+I*I,F<x&&(B=L,x=F);return B},on:function(g,S){return arguments.length>1?(c.on(g,S),i):c.on(g)}}}function yi(){var n,e,r,i,a,o=wt(-30),s,u=1,l=1/0,f=.81;function d(_){var w,k=n.length,g=(e===1?Ze(n,te):e===2?Le(n,te,Oe):e===3?Ye(n,te,Oe,ci):null).visitAfter(h);for(a=_,w=0;w<k;++w)r=n[w],g.visit(y)}function c(){if(!!n){var _,w=n.length,k;for(s=new Array(w),_=0;_<w;++_)k=n[_],s[k.index]=+o(k,_,n)}}function h(_){var w=0,k,g,S=0,M,m,x,A,C=_.length;if(C){for(M=m=x=A=0;A<C;++A)(k=_[A])&&(g=Math.abs(k.value))&&(w+=k.value,S+=g,M+=g*(k.x||0),m+=g*(k.y||0),x+=g*(k.z||0));w*=Math.sqrt(4/C),_.x=M/S,e>1&&(_.y=m/S),e>2&&(_.z=x/S)}else{k=_,k.x=k.data.x,e>1&&(k.y=k.data.y),e>2&&(k.z=k.data.z);do w+=s[k.data.index];while(k=k.next)}_.value=w}function y(_,w,k,g,S){if(!_.value)return!0;var M=[k,g,S][e-1],m=_.x-r.x,x=e>1?_.y-r.y:0,A=e>2?_.z-r.z:0,C=M-w,P=m*m+x*x+A*A;if(C*C/f<P)return P<l&&(m===0&&(m=bt(i),P+=m*m),e>1&&x===0&&(x=bt(i),P+=x*x),e>2&&A===0&&(A=bt(i),P+=A*A),P<u&&(P=Math.sqrt(u*P)),r.vx+=m*_.value*a/P,e>1&&(r.vy+=x*_.value*a/P),e>2&&(r.vz+=A*_.value*a/P)),!0;if(_.length||P>=l)return;(_.data!==r||_.next)&&(m===0&&(m=bt(i),P+=m*m),e>1&&x===0&&(x=bt(i),P+=x*x),e>2&&A===0&&(A=bt(i),P+=A*A),P<u&&(P=Math.sqrt(u*P)));do _.data!==r&&(C=s[_.data.index]*a/P,r.vx+=m*C,e>1&&(r.vy+=x*C),e>2&&(r.vz+=A*C));while(_=_.next)}return d.initialize=function(_,...w){n=_,i=w.find(k=>typeof k=="function")||Math.random,e=w.find(k=>[1,2,3].includes(k))||2,c()},d.strength=function(_){return arguments.length?(o=typeof _=="function"?_:wt(+_),c(),d):o},d.distanceMin=function(_){return arguments.length?(u=_*_,d):Math.sqrt(u)},d.distanceMax=function(_){return arguments.length?(l=_*_,d):Math.sqrt(l)},d.theta=function(_){return arguments.length?(f=_*_,d):Math.sqrt(f)},d}function vi(n,e,r,i){var a,o,s=wt(.1),u,l;typeof n!="function"&&(n=wt(+n)),e==null&&(e=0),r==null&&(r=0),i==null&&(i=0);function f(c){for(var h=0,y=a.length;h<y;++h){var _=a[h],w=_.x-e||1e-6,k=(_.y||0)-r||1e-6,g=(_.z||0)-i||1e-6,S=Math.sqrt(w*w+k*k+g*g),M=(l[h]-S)*u[h]*c/S;_.vx+=w*M,o>1&&(_.vy+=k*M),o>2&&(_.vz+=g*M)}}function d(){if(!!a){var c,h=a.length;for(u=new Array(h),l=new Array(h),c=0;c<h;++c)l[c]=+n(a[c],c,a),u[c]=isNaN(l[c])?0:+s(a[c],c,a)}}return f.initialize=function(c,...h){a=c,o=h.find(y=>[1,2,3].includes(y))||2,d()},f.strength=function(c){return arguments.length?(s=typeof c=="function"?c:wt(+c),d(),f):s},f.radius=function(c){return arguments.length?(n=typeof c=="function"?c:wt(+c),d(),f):n},f.x=function(c){return arguments.length?(e=+c,f):e},f.y=function(c){return arguments.length?(r=+c,f):r},f.z=function(c){return arguments.length?(i=+c,f):i},f}const{abs:It,cos:_t,sin:St,acos:_i,atan2:Dt,sqrt:zt,pow:ht}=Math;function Nt(n){return n<0?-ht(-n,1/3):ht(n,1/3)}const Ke=Math.PI,Zt=2*Ke,Ct=Ke/2,mi=1e-6,ee=Number.MAX_SAFE_INTEGER||9007199254740991,ne=Number.MIN_SAFE_INTEGER||-9007199254740991,xi={x:0,y:0,z:0},R={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z!="undefined"&&(i+=r.z*r.z),zt(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const a=1-n;let o=e;if(i===0)return e[0].t=n,e[0];if(i===1){const u={x:a*o[0].x+n*o[1].x,y:a*o[0].y+n*o[1].y,t:n};return r&&(u.z=a*o[0].z+n*o[1].z),u}if(i<4){let u=a*a,l=n*n,f,d,c,h=0;i===2?(o=[o[0],o[1],o[2],xi],f=u,d=a*n*2,c=l):i===3&&(f=u*a,d=u*n*3,c=a*l*3,h=n*l);const y={x:f*o[0].x+d*o[1].x+c*o[2].x+h*o[3].x,y:f*o[0].y+d*o[1].y+c*o[2].y+h*o[3].y,t:n};return r&&(y.z=f*o[0].z+d*o[1].z+c*o[2].z+h*o[3].z),y}const s=JSON.parse(JSON.stringify(e));for(;s.length>1;){for(let u=0;u<s.length-1;u++)s[u]={x:s[u].x+(s[u+1].x-s[u].x)*n,y:s[u].y+(s[u+1].y-s[u].y)*n},typeof s[u].z!="undefined"&&(s[u]=s[u].z+(s[u+1].z-s[u].z)*n);s.splice(s.length-1,1)}return s[0].t=n,s[0]},computeWithRatios:function(n,e,r,i){const a=1-n,o=r,s=e;let u=o[0],l=o[1],f=o[2],d=o[3],c;if(u*=a,l*=n,s.length===2)return c=u+l,{x:(u*s[0].x+l*s[1].x)/c,y:(u*s[0].y+l*s[1].y)/c,z:i?(u*s[0].z+l*s[1].z)/c:!1,t:n};if(u*=a,l*=2*a,f*=n*n,s.length===3)return c=u+l+f,{x:(u*s[0].x+l*s[1].x+f*s[2].x)/c,y:(u*s[0].y+l*s[1].y+f*s[2].y)/c,z:i?(u*s[0].z+l*s[1].z+f*s[2].z)/c:!1,t:n};if(u*=a,l*=1.5*a,f*=3*a,d*=n*n*n,s.length===4)return c=u+l+f+d,{x:(u*s[0].x+l*s[1].x+f*s[2].x+d*s[3].x)/c,y:(u*s[0].y+l*s[1].y+f*s[2].y+d*s[3].y)/c,z:i?(u*s[0].z+l*s[1].z+f*s[2].z+d*s[3].z)/c:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,a=i.length,o=a-1;a>1;a--,o--){const s=[];for(let u=0,l;u<o;u++)l={x:o*(i[u+1].x-i[u].x),y:o*(i[u+1].y-i[u].y)},e&&(l.z=o*(i[u+1].z-i[u].z)),s.push(l);r.push(s),i=s}return r},between:function(n,e,r){return e<=n&&n<=r||R.approximately(n,e)||R.approximately(n,r)},approximately:function(n,e,r){return It(n-e)<=(r||mi)},length:function(n){const r=R.Tvalues.length;let i=0;for(let a=0,o;a<r;a++)o=.5*R.Tvalues[a]+.5,i+=R.Cvalues[a]*R.arcfn(o,n);return .5*i},map:function(n,e,r,i,a){const o=r-e,s=a-i,u=n-e,l=u/o;return i+s*l},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z!="undefined"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(R.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,a=e.y-n.y,o=r.x-n.x,s=r.y-n.y,u=i*s-a*o,l=i*o+a*s;return Dt(u,l)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return zt(r*r+i*i)},closest:function(n,e){let r=ht(2,63),i,a;return n.forEach(function(o,s){a=R.dist(e,o),a<r&&(r=a,i=s)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n=="undefined")n=.5;else if(n===0||n===1)return n;const r=ht(n,e)+ht(1-n,e),i=r-1;return It(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n=="undefined")n=.5;else if(n===0||n===1)return n;const r=ht(1-n,e),i=ht(n,e)+r;return r/i},lli8:function(n,e,r,i,a,o,s,u){const l=(n*i-e*r)*(a-s)-(n-r)*(a*u-o*s),f=(n*i-e*r)*(o-u)-(e-i)*(a*u-o*s),d=(n-r)*(o-u)-(e-i)*(a-s);return d==0?!1:{x:l/d,y:f/d}},lli4:function(n,e,r,i){const a=n.x,o=n.y,s=e.x,u=e.y,l=r.x,f=r.y,d=i.x,c=i.y;return R.lli8(a,o,s,u,l,f,d,c)},lli:function(n,e){return R.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new Y(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=ee,r=ee,i=ne,a=ne;return n.forEach(function(o){const s=o.bbox();e>s.x.min&&(e=s.x.min),r>s.y.min&&(r=s.y.min),i<s.x.max&&(i=s.x.max),a<s.y.max&&(a=s.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+a)/2,max:a,size:a-r}}},shapeintersections:function(n,e,r,i,a){if(!R.bboxoverlap(e,i))return[];const o=[],s=[n.startcap,n.forward,n.back,n.endcap],u=[r.startcap,r.forward,r.back,r.endcap];return s.forEach(function(l){l.virtual||u.forEach(function(f){if(f.virtual)return;const d=l.intersects(f,a);d.length>0&&(d.c1=l,d.c2=f,d.s1=n,d.s2=r,o.push(d))})}),o},makeshape:function(n,e,r){const i=e.points.length,a=n.points.length,o=R.makeline(e.points[i-1],n.points[0]),s=R.makeline(n.points[a-1],e.points[0]),u={startcap:o,forward:n,back:e,endcap:s,bbox:R.findbbox([o,n,e,s])};return u.intersections=function(l){return R.shapeintersections(u,u.bbox,l,l.bbox,r)},u},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=ee,a=ne,o,s;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let u=0,l=r.length;u<l;u++)o=r[u],s=n.get(o),s[e]<i&&(i=s[e]),s[e]>a&&(a=s[e]);return{min:i,mid:(i+a)/2,max:a,size:a-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,a=-Dt(e.p2.y-i,e.p2.x-r),o=function(s){return{x:(s.x-r)*_t(a)-(s.y-i)*St(a),y:(s.x-r)*St(a)+(s.y-i)*_t(a)}};return n.map(o)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=R.align(n,e),a=function(C){return 0<=C&&C<=1};if(r===2){const C=i[0].y,P=i[1].y,D=i[2].y,I=C-2*P+D;if(I!==0){const F=-zt(P*P-C*D),L=-C+P,B=-(F+L)/I,z=-(-F+L)/I;return[B,z].filter(a)}else if(P!==D&&I===0)return[(2*P-D)/(2*P-2*D)].filter(a);return[]}const o=i[0].y,s=i[1].y,u=i[2].y,l=i[3].y;let f=-o+3*s-3*u+l,d=3*o-6*s+3*u,c=-3*o+3*s,h=o;if(R.approximately(f,0)){if(R.approximately(d,0))return R.approximately(c,0)?[]:[-h/c].filter(a);const C=zt(c*c-4*d*h),P=2*d;return[(C-c)/P,(-c-C)/P].filter(a)}d/=f,c/=f,h/=f;const y=(3*c-d*d)/3,_=y/3,w=(2*d*d*d-9*d*c+27*h)/27,k=w/2,g=k*k+_*_*_;let S,M,m,x,A;if(g<0){const C=-y/3,P=C*C*C,D=zt(P),I=-w/(2*D),F=I<-1?-1:I>1?1:I,L=_i(F),B=Nt(D),z=2*B;return m=z*_t(L/3)-d/3,x=z*_t((L+Zt)/3)-d/3,A=z*_t((L+2*Zt)/3)-d/3,[m,x,A].filter(a)}else{if(g===0)return S=k<0?Nt(-k):-Nt(k),m=2*S-d/3,x=-S-d/3,[m,x].filter(a);{const C=zt(g);return S=Nt(-k+C),M=Nt(k+C),[S-M-d/3].filter(a)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],a=e-2*r+i;if(a!==0){const o=-zt(r*r-e*i),s=-e+r,u=-(o+s)/a,l=-(-o+s)/a;return[u,l]}else if(r!==i&&a===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,a){let o,s,u,l,f=0,d=0;const c=R.compute(n,e),h=R.compute(n,r),y=c.x*c.x+c.y*c.y;if(i?(o=zt(ht(c.y*h.z-h.y*c.z,2)+ht(c.z*h.x-h.z*c.x,2)+ht(c.x*h.y-h.x*c.y,2)),s=ht(y+c.z*c.z,3/2)):(o=c.x*h.y-c.y*h.x,s=ht(y,3/2)),o===0||s===0)return{k:0,r:0};if(f=o/s,d=s/o,!a){const _=R.curvature(n-.001,e,r,i,!0).k,w=R.curvature(n+.001,e,r,i,!0).k;l=(w-f+(f-_))/2,u=(It(w-f)+It(f-_))/2}return{k:f,r:d,dk:l,adk:u}},inflections:function(n){if(n.length<4)return[];const e=R.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,a=e[1].x*e[2].y,o=e[3].x*e[2].y,s=18*(-3*r+2*i+3*a-o),u=18*(3*r-i-3*a),l=18*(a-r);if(R.approximately(s,0)){if(!R.approximately(u,0)){let h=-l/u;if(0<=h&&h<=1)return[h]}return[]}const f=2*s;if(R.approximately(f,0))return[];const d=u*u-4*s*l;if(d<0)return[];const c=Math.sqrt(d);return[(c-u)/f,-(u+c)/f].filter(function(h){return 0<=h&&h<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let a=0,o,s,u,l;a<i;a++)if(o=r[a],s=n[o].mid,u=e[o].mid,l=(n[o].size+e[o].size)/2,It(s-u)>=l)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),a=e.bbox(),o=1e5,s=r||.5;if(i.x.size+i.y.size<s&&a.x.size+a.y.size<s)return[(o*(n._t1+n._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];let u=n.split(.5),l=e.split(.5),f=[{left:u.left,right:l.left},{left:u.left,right:l.right},{left:u.right,right:l.right},{left:u.right,right:l.left}];f=f.filter(function(c){return R.bboxoverlap(c.left.bbox(),c.right.bbox())});let d=[];return f.length===0||(f.forEach(function(c){d=d.concat(R.pairiteration(c.left,c.right,s))}),d=d.filter(function(c,h){return d.indexOf(c)===h})),d},getccenter:function(n,e,r){const i=e.x-n.x,a=e.y-n.y,o=r.x-e.x,s=r.y-e.y,u=i*_t(Ct)-a*St(Ct),l=i*St(Ct)+a*_t(Ct),f=o*_t(Ct)-s*St(Ct),d=o*St(Ct)+s*_t(Ct),c=(n.x+e.x)/2,h=(n.y+e.y)/2,y=(e.x+r.x)/2,_=(e.y+r.y)/2,w=c+u,k=h+l,g=y+f,S=_+d,M=R.lli8(c,h,w,k,y,_,g,S),m=R.dist(M,n);let x=Dt(n.y-M.y,n.x-M.x),A=Dt(e.y-M.y,e.x-M.x),C=Dt(r.y-M.y,r.x-M.x),P;return x<C?((x>A||A>C)&&(x+=Zt),x>C&&(P=C,C=x,x=P)):C<A&&A<x?(P=C,C=x,x=P):C+=Zt,M.s=x,M.e=C,M.r=m,M},numberSort:function(n,e){return n-e}};class Lt{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return R.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)R.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new Lt(r)}}const{abs:jt,min:Re,max:Ee,cos:bi,sin:wi,acos:ki,sqrt:$t}=Math,zi=Math.PI;class Y{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const y=[];r.forEach(function(_){["x","y","z"].forEach(function(w){typeof _[w]!="undefined"&&y.push(_[w])})}),r=y}let a=!1;const o=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");a=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const s=this._3d=!a&&(o===9||o===12)||e&&e[0]&&typeof e[0].z!="undefined",u=this.points=[];for(let y=0,_=s?3:2;y<o;y+=_){var l={x:r[y],y:r[y+1]};s&&(l.z=r[y+2]),u.push(l)}const f=this.order=u.length-1,d=this.dims=["x","y"];s&&d.push("z"),this.dimlen=d.length;const c=R.align(u,{p1:u[0],p2:u[f]}),h=R.dist(u[0],u[f]);this._linear=c.reduce((y,_)=>y+jt(_.y),0)<h/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,a){if(typeof a=="undefined"&&(a=.5),a===0)return new Y(r,r,i);if(a===1)return new Y(e,r,r);const o=Y.getABC(2,e,r,i,a);return new Y(e,o.A,i)}static cubicFromPoints(e,r,i,a,o){typeof a=="undefined"&&(a=.5);const s=Y.getABC(3,e,r,i,a);typeof o=="undefined"&&(o=R.dist(r,s.C));const u=o*(1-a)/a,l=R.dist(e,i),f=(i.x-e.x)/l,d=(i.y-e.y)/l,c=o*f,h=o*d,y=u*f,_=u*d,w={x:r.x-c,y:r.y-h},k={x:r.x+y,y:r.y+_},g=s.A,S={x:g.x+(w.x-g.x)/(1-a),y:g.y+(w.y-g.y)/(1-a)},M={x:g.x+(k.x-g.x)/a,y:g.y+(k.y-g.y)/a},m={x:e.x+(S.x-e.x)/a,y:e.y+(S.y-e.y)/a},x={x:i.x+(M.x-i.x)/(1-a),y:i.y+(M.y-i.y)/(1-a)};return new Y(e,m,x,i)}static getUtils(){return R}getUtils(){return Y.getUtils()}static get PolyBezier(){return Lt}valueOf(){return this.toString()}toString(){return R.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,a=["M",r,i,this.order===2?"Q":"C"];for(let o=1,s=e.length;o<s;o++)a.push(e[o].x),a.push(e[o].y);return a.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=R.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=R.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return R.length(this.derivative.bind(this))}static getABC(e=2,r,i,a,o=.5){const s=R.projectionratio(o,e),u=1-s,l={x:s*r.x+u*a.x,y:s*r.y+u*a.y},f=R.abcratio(o,e);return{A:{x:i.x+(i.x-l.x)/f,y:i.y+(i.y-l.y)/f},B:i,C:l,S:r,E:a}}getABC(e,r){r=r||this.get(e);let i=this.points[0],a=this.points[this.order];return Y.getABC(this.order,i,r,a,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,i,a;r<e;r++)a=r/(e-1),i=this.compute(a),i.t=a,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),a=[];for(let o=0,s,u=0;o<i.length;o++)s=i[o],R.dist(s,e)<r&&(a.push(s),u+=o/i.length);return a.length?t/=a.length:!1}project(e){const r=this.getLUT(),i=r.length-1,a=R.closest(r,e),o=a.mpos,s=(o-1)/i,u=(o+1)/i,l=.1/i;let f=a.mdist,d=s,c=d,h;f+=1;for(let y;d<u+l;d+=l)h=this.compute(d),y=R.dist(e,h),y<f&&(f=y,c=d);return c=c<0?0:c>1?1:c,h=this.compute(c),h.t=c,h.d=f,h}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?R.computeWithRatios(e,this.points,this.ratios,this._3d):R.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let a=1,o,s;a<i;a++)o=e[a],s=e[a-1],r[a]={x:(i-a)/i*o.x+a/i*s.x,y:(i-a)/i*o.y+a/i*s.y};return r[i]=e[i-1],new Y(r)}derivative(e){return R.compute(e,this.dpoints[0],this._3d)}dderivative(e){return R.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new Y(R.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return R.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return R.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=$t(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),a=$t(r.x*r.x+r.y*r.y+r.z*r.z),o=$t(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=a,r.y/=a,r.z/=a,i.x/=o,i.y/=o,i.z/=o;const s={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},u=$t(s.x*s.x+s.y*s.y+s.z*s.z);s.x/=u,s.y/=u,s.z/=u;const l=[s.x*s.x,s.x*s.y-s.z,s.x*s.z+s.y,s.x*s.y+s.z,s.y*s.y,s.y*s.z-s.x,s.x*s.z-s.y,s.y*s.z+s.x,s.z*s.z];return{t:e,x:l[0]*r.x+l[1]*r.y+l[2]*r.z,y:l[3]*r.x+l[4]*r.y+l[5]*r.z,z:l[6]*r.x+l[7]*r.y+l[8]*r.z}}hull(e){let r=this.points,i=[],a=[],o=0;for(a[o++]=r[0],a[o++]=r[1],a[o++]=r[2],this.order===3&&(a[o++]=r[3]);r.length>1;){i=[];for(let s=0,u,l=r.length-1;s<l;s++)u=R.lerp(e,r[s],r[s+1]),a[o++]=u,i.push(u);r=i}return a}split(e,r){if(e===0&&!!r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),a={left:this.order===2?new Y([i[0],i[3],i[5]]):new Y([i[0],i[4],i[7],i[9]]),right:this.order===2?new Y([i[5],i[4],i[2]]):new Y([i[9],i[8],i[6],i[3]]),span:i};return a.left._t1=R.map(0,0,1,this._t1,this._t2),a.left._t2=R.map(e,0,1,this._t1,this._t2),a.right._t1=R.map(e,0,1,this._t1,this._t2),a.right._t2=R.map(1,0,1,this._t1,this._t2),r?(r=R.map(r,e,1,0,1),a.right.split(r).left):a}extrema(){const e={};let r=[];return this.dims.forEach(function(i){let a=function(s){return s[i]},o=this.dpoints[0].map(a);e[i]=R.droots(o),this.order===3&&(o=this.dpoints[1].map(a),e[i]=e[i].concat(R.droots(o))),e[i]=e[i].filter(function(s){return s>=0&&s<=1}),r=r.concat(e[i].sort(R.numberSort))}.bind(this)),e.values=r.sort(R.numberSort).filter(function(i,a){return r.indexOf(i)===a}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach(function(i){r[i]=R.getminmax(this,i,e[i])}.bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return R.bboxoverlap(r,i)}offset(e,r){if(typeof r!="undefined"){const i=this.get(e),a=this.normal(e),o={c:i,n:a,x:i.x+a.x*r,y:i.y+a.y*r};return this._3d&&(o.z=i.z+a.z*r),o}if(this._linear){const i=this.normal(0),a=this.points.map(function(o){const s={x:o.x+e*i.x,y:o.y+e*i.y};return o.z&&i.z&&(s.z=o.z+e*i.z),s});return[new Y(a)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const a=R.angle(this.points[0],this.points[3],this.points[1]),o=R.angle(this.points[0],this.points[3],this.points[2]);if(a>0&&o<0||a<0&&o>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),jt(ki(i))<zi/3}reduce(){let e,r=0,i=0,a=.01,o,s=[],u=[],l=this.extrema().values;for(l.indexOf(0)===-1&&(l=[0].concat(l)),l.indexOf(1)===-1&&l.push(1),r=l[0],e=1;e<l.length;e++)i=l[e],o=this.split(r,i),o._t1=r,o._t2=i,s.push(o),r=i;return s.forEach(function(f){for(r=0,i=0;i<=1;)for(i=r+a;i<=1+a;i+=a)if(o=f.split(r,i),!o.simple()){if(i-=a,jt(r-i)<a)return[];o=f.split(r,i),o._t1=R.map(r,0,1,f._t1,f._t2),o._t2=R.map(i,0,1,f._t1,f._t2),u.push(o),r=i;break}r<1&&(o=f.split(r,1),o._t1=R.map(r,0,1,f._t1,f._t2),o._t2=f._t2,u.push(o))}),u}translate(e,r,i){i=typeof i=="number"?i:r;const a=this.order;let o=this.points.map((s,u)=>(1-u/a)*r+u/a*i);return new Y(this.points.map((s,u)=>({x:s.x+e.x*o[u],y:s.y+e.y*o[u]})))}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const a=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const s=i?i(0):e,u=i?i(1):e,l=[this.offset(0,10),this.offset(1,10)],f=[],d=R.lli4(l[0],l[0].c,l[1],l[1].c);if(!d)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(c){const h=f[c*r]=R.copy(o[c*r]);h.x+=(c?u:s)*l[c].n.x,h.y+=(c?u:s)*l[c].n.y}),i?([0,1].forEach(function(c){if(!(r===2&&!!c)){var h=o[c+1],y={x:h.x-d.x,y:h.y-d.y},_=i?i((c+1)/r):e;i&&!a&&(_=-_);var w=$t(y.x*y.x+y.y*y.y);y.x/=w,y.y/=w,f[c+1]={x:h.x+_*y.x,y:h.y+_*y.y}}}),new Y(f)):([0,1].forEach(c=>{if(r===2&&!!c)return;const h=f[c*r],y=this.derivative(c),_={x:h.x+y.x,y:h.y+y.y};f[c+1]=R.lli4(h,_,d,o[c+1])}),new Y(f))}outline(e,r,i,a){if(r=r===void 0?e:r,this._linear){const x=this.normal(0),A=this.points[0],C=this.points[this.points.length-1];let P,D,I;i===void 0&&(i=e,a=r),P={x:A.x+x.x*e,y:A.y+x.y*e},I={x:C.x+x.x*i,y:C.y+x.y*i},D={x:(P.x+I.x)/2,y:(P.y+I.y)/2};const F=[P,D,I];P={x:A.x-x.x*r,y:A.y-x.y*r},I={x:C.x-x.x*a,y:C.y-x.y*a},D={x:(P.x+I.x)/2,y:(P.y+I.y)/2};const L=[I,D,P],B=R.makeline(L[2],F[0]),z=R.makeline(F[2],L[0]),E=[B,new Y(F),z,new Y(L)];return new Lt(E)}const o=this.reduce(),s=o.length,u=[];let l=[],f,d=0,c=this.length();const h=typeof i!="undefined"&&typeof a!="undefined";function y(x,A,C,P,D){return function(I){const F=P/C,L=(P+D)/C,B=A-x;return R.map(I,0,1,x+F*B,x+L*B)}}o.forEach(function(x){const A=x.length();h?(u.push(x.scale(y(e,i,c,d,A))),l.push(x.scale(y(-r,-a,c,d,A)))):(u.push(x.scale(e)),l.push(x.scale(-r))),d+=A}),l=l.map(function(x){return f=x.points,f[3]?x.points=[f[3],f[2],f[1],f[0]]:x.points=[f[2],f[1],f[0]],x}).reverse();const _=u[0].points[0],w=u[s-1].points[u[s-1].points.length-1],k=l[s-1].points[l[s-1].points.length-1],g=l[0].points[0],S=R.makeline(k,_),M=R.makeline(w,g),m=[S].concat(u).concat([M]).concat(l);return new Lt(m)}outlineshapes(e,r,i){r=r||e;const a=this.outline(e,r).curves,o=[];for(let s=1,u=a.length;s<u/2;s++){const l=R.makeshape(a[s],a[u-s],i);l.startcap.virtual=s>1,l.endcap.virtual=s<u/2-1,o.push(l)}return o}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof Y&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=Re(e.p1.x,e.p2.x),i=Re(e.p1.y,e.p2.y),a=Ee(e.p1.x,e.p2.x),o=Ee(e.p1.y,e.p2.y);return R.roots(this.points,e).filter(s=>{var u=this.get(s);return R.between(u.x,r,a)&&R.between(u.y,i,o)})}selfintersects(e){const r=this.reduce(),i=r.length-2,a=[];for(let o=0,s,u,l;o<i;o++)u=r.slice(o,o+1),l=r.slice(o+2),s=this.curveintersects(u,l,e),a.push(...s);return a}curveintersects(e,r,i){const a=[];e.forEach(function(s){r.forEach(function(u){s.overlaps(u)&&a.push({left:s,right:u})})});let o=[];return a.forEach(function(s){const u=R.pairiteration(s.left,s.right,i);u.length>0&&(o=o.concat(u))}),o}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,a){const o=(a-i)/4,s=this.get(i+o),u=this.get(a-o),l=R.dist(e,r),f=R.dist(e,s),d=R.dist(e,u);return jt(f-l)+jt(d-l)}_iterate(e,r){let i=0,a=1,o;do{o=0,a=1;let s=this.get(i),u,l,f,d,c=!1,h=!1,y,_=a,w=1;do if(h=c,d=f,_=(i+a)/2,u=this.get(_),l=this.get(a),f=R.getccenter(s,u,l),f.interval={start:i,end:a},c=this._error(f,s,i,a)<=e,y=h&&!c,y||(w=a),c){if(a>=1){if(f.interval.end=w=1,d=f,a>1){let g={x:f.x+f.r*bi(f.e),y:f.y+f.r*wi(f.e)};f.e+=R.angle({x:f.x,y:f.y},g,this.get(1))}break}a=a+(a-i)/2}else a=_;while(!y&&o++<100);if(o>=100)break;d=d||f,r.push(d),i=w}while(a<1);return r}}function Ci(n,e){if(n==null)return{};var r={},i=Object.keys(n),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(r[a]=n[a]);return r}function Ai(n,e){if(n==null)return{};var r=Ci(n,e),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)i=o[a],!(e.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,i)||(r[i]=n[i]))}return r}function Si(n,e){return Ti(n)||Ri(n,e)||Qe(n,e)||Ii()}function Mi(n){return Pi(n)||Oi(n)||Qe(n)||Ei()}function Pi(n){if(Array.isArray(n))return se(n)}function Ti(n){if(Array.isArray(n))return n}function Oi(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ri(n,e){var r=n&&(typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"]);if(r!=null){var i=[],a=!0,o=!1,s,u;try{for(r=r.call(n);!(a=(s=r.next()).done)&&(i.push(s.value),!(e&&i.length===e));a=!0);}catch(l){o=!0,u=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}return i}}function Qe(n,e){if(!!n){if(typeof n=="string")return se(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(n,e)}}function se(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function Ei(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ii(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Di(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ni(n){var e=Di(n,"string");return typeof e=="symbol"?e:String(e)}var ji=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(u){return{keyAccessor:u,isProp:!(u instanceof Function)}}),o=n.reduce(function(u,l){var f=u,d=l;return a.forEach(function(c,h){var y=c.keyAccessor,_=c.isProp,w;if(_){var k=d,g=k[y],S=Ai(k,[y].map(Ni));w=g,d=S}else w=y(d,h);h+1<a.length?(f.hasOwnProperty(w)||(f[w]={}),f=f[w]):r?(f.hasOwnProperty(w)||(f[w]=[]),f[w].push(d)):f[w]=d}),u},{});r instanceof Function&&function u(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;f===a.length?Object.keys(l).forEach(function(d){return l[d]=r(l[d])}):Object.values(l).forEach(function(d){return u(d,f+1)})}(o);var s=o;return i&&(s=[],function u(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];f.length===a.length?s.push({keys:f,vals:l}):Object.entries(l).forEach(function(d){var c=Si(d,2),h=c[0],y=c[1];return u(y,[].concat(Mi(f),[h]))})}(o),e instanceof Array&&e.length===0&&s.length===1&&(s[0].keys=[])),s};function $i(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var Ui=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  top: 0;
  transform: translate(-50%, 25px);
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;$i(Ui);function Ie(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Mt(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ie(Object(r),!0).forEach(function(i){Vt(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function ue(n){return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(n)}function Vt(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function fe(n,e){return fe=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},fe(n,e)}function Fi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qt(n,e,r){return Fi()?qt=Reflect.construct:qt=function(a,o,s){var u=[null];u.push.apply(u,o);var l=Function.bind.apply(a,u),f=new l;return s&&fe(f,s.prototype),f},qt.apply(null,arguments)}function Ht(n,e){return qi(n)||Gi(n,e)||Je(n,e)||Bi()}function dt(n){return Li(n)||Hi(n)||Je(n)||Vi()}function Li(n){if(Array.isArray(n))return le(n)}function qi(n){if(Array.isArray(n))return n}function Hi(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Gi(n,e){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i=[],a=!0,o=!1,s,u;try{for(r=r.call(n);!(a=(s=r.next()).done)&&(i.push(s.value),!(e&&i.length===e));a=!0);}catch(l){o=!0,u=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}return i}}function Je(n,e){if(!!n){if(typeof n=="string")return le(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return le(n,e)}}function le(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function Vi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wi=sn(Gn);function De(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=Wi(e(i))})}function Zi(n,e){var r=n.nodes,i=n.links,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.nodeFilter,s=o===void 0?function(){return!0}:o,u=a.onLoopError,l=u===void 0?function(y){throw"Invalid DAG structure! Found cycle in node path: ".concat(y.join(" -> "),".")}:u,f={};r.forEach(function(y){return f[e(y)]={data:y,out:[],depth:-1,skip:!s(y)}}),i.forEach(function(y){var _=y.source,w=y.target,k=m(_),g=m(w);if(!f.hasOwnProperty(k))throw"Missing source node with id: ".concat(k);if(!f.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var S=f[k],M=f[g];S.out.push(M);function m(x){return ue(x)==="object"?e(x):x}});var d=[];h(Object.values(f));var c=Object.assign.apply(Object,[{}].concat(dt(Object.entries(f).filter(function(y){var _=Ht(y,2),w=_[1];return!w.skip}).map(function(y){var _=Ht(y,2),w=_[0],k=_[1];return Vt({},w,k.depth)}))));return c;function h(y){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,k=0,g=y.length;k<g;k++){var S=y[k];if(_.indexOf(S)!==-1){var M=function(){var m=[].concat(dt(_.slice(_.indexOf(S))),[S]).map(function(x){return e(x.data)});return d.some(function(x){return x.length===m.length&&x.every(function(A,C){return A===m[C]})})||(d.push(m),l(m)),"continue"}();if(M==="continue")continue}w>S.depth&&(S.depth=w,h(S.out,[].concat(dt(_),[S]),w+(S.skip?0:1)))}}}var Xi=2,nt=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},Xt=Ge({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:nt},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:nt},nodeColor:{default:"color",triggerUpdate:!1,onChange:nt},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:nt},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:nt},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:nt},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:nt},linkColor:{default:"color",triggerUpdate:!1,onChange:nt},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:nt},linkWidth:{default:1,triggerUpdate:!1,onChange:nt},linkCurvature:{default:0,triggerUpdate:!1,onChange:nt},linkCanvasObject:{triggerUpdate:!1,onChange:nt},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:nt},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:nt},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:nt},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:nt},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,i){return i===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),a(),!e.isShadow&&o(),!e.isShadow&&s(),i(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var u=X(e.nodeVisibility),l=X(e.nodeVal),f=X(e.nodeColor),d=X(e.nodeCanvasObjectMode),c=e.ctx,h=e.isShadow/e.globalScale,y=e.graphData.nodes.filter(u);c.save(),y.forEach(function(_){var w=d(_);if(e.nodeCanvasObject&&(w==="before"||w==="replace")&&(e.nodeCanvasObject(_,c,e.globalScale),w==="replace")){c.restore();return}var k=Math.sqrt(Math.max(0,l(_)||1))*e.nodeRelSize+h;c.beginPath(),c.arc(_.x,_.y,k,0,2*Math.PI,!1),c.fillStyle=f(_)||"rgba(31, 120, 180, 0.92)",c.fill(),e.nodeCanvasObject&&w==="after"&&e.nodeCanvasObject(_,e.ctx,e.globalScale)}),c.restore()}function a(){var u=X(e.linkVisibility),l=X(e.linkColor),f=X(e.linkWidth),d=X(e.linkLineDash),c=X(e.linkCurvature),h=X(e.linkCanvasObjectMode),y=e.ctx,_=e.isShadow*2,w=e.graphData.links.filter(u);w.forEach(A);var k=[],g=[],S=w;if(e.linkCanvasObject){var M=[],m=[];w.forEach(function(C){return({before:k,after:g,replace:M}[h(C)]||m).push(C)}),S=[].concat(dt(k),g,m),k=k.concat(M)}y.save(),k.forEach(function(C){return e.linkCanvasObject(C,y,e.globalScale)}),y.restore();var x=ji(S,[l,f,d]);y.save(),Object.entries(x).forEach(function(C){var P=Ht(C,2),D=P[0],I=P[1],F=!D||D==="undefined"?"rgba(0,0,0,0.15)":D;Object.entries(I).forEach(function(L){var B=Ht(L,2),z=B[0],E=B[1],T=(z||1)/e.globalScale+_;Object.entries(E).forEach(function(U){var q=Ht(U,2);q[0];var H=q[1],j=d(H[0]);y.beginPath(),H.forEach(function(V){var G=V.source,et=V.target;if(!(!G||!et||!G.hasOwnProperty("x")||!et.hasOwnProperty("x"))){y.moveTo(G.x,G.y);var K=V.__controlPoints;K?y[K.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(y,dt(K).concat([et.x,et.y])):y.lineTo(et.x,et.y)}}),y.strokeStyle=F,y.lineWidth=T,y.setLineDash(j||[]),y.stroke()})})}),y.restore(),y.save(),g.forEach(function(C){return e.linkCanvasObject(C,y,e.globalScale)}),y.restore();function A(C){var P=c(C);if(!P){C.__controlPoints=null;return}var D=C.source,I=C.target;if(!(!D||!I||!D.hasOwnProperty("x")||!I.hasOwnProperty("x"))){var F=Math.sqrt(Math.pow(I.x-D.x,2)+Math.pow(I.y-D.y,2));if(F>0){var L=Math.atan2(I.y-D.y,I.x-D.x),B=F*P,z={x:(D.x+I.x)/2+B*Math.cos(L-Math.PI/2),y:(D.y+I.y)/2+B*Math.sin(L-Math.PI/2)};C.__controlPoints=[z.x,z.y]}else{var E=P*70;C.__controlPoints=[I.x,I.y-E,I.x+E,I.y]}}}}function o(){var u=1.6,l=.2,f=X(e.linkDirectionalArrowLength),d=X(e.linkDirectionalArrowRelPos),c=X(e.linkVisibility),h=X(e.linkDirectionalArrowColor||e.linkColor),y=X(e.nodeVal),_=e.ctx;_.save(),e.graphData.links.filter(c).forEach(function(w){var k=f(w);if(!(!k||k<0)){var g=w.source,S=w.target;if(!(!g||!S||!g.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var M=Math.sqrt(Math.max(0,y(g)||1))*e.nodeRelSize,m=Math.sqrt(Math.max(0,y(S)||1))*e.nodeRelSize,x=Math.min(1,Math.max(0,d(w))),A=h(w)||"rgba(0,0,0,0.28)",C=k/u/2,P=w.__controlPoints&&qt(Y,[g.x,g.y].concat(dt(w.__controlPoints),[S.x,S.y])),D=P?function(T){return P.get(T)}:function(T){return{x:g.x+(S.x-g.x)*T||0,y:g.y+(S.y-g.y)*T||0}},I=P?P.length():Math.sqrt(Math.pow(S.x-g.x,2)+Math.pow(S.y-g.y,2)),F=M+k+(I-M-m-k)*x,L=D(F/I),B=D((F-k)/I),z=D((F-k*(1-l))/I),E=Math.atan2(L.y-B.y,L.x-B.x)-Math.PI/2;_.beginPath(),_.moveTo(L.x,L.y),_.lineTo(B.x+C*Math.cos(E),B.y+C*Math.sin(E)),_.lineTo(z.x,z.y),_.lineTo(B.x-C*Math.cos(E),B.y-C*Math.sin(E)),_.fillStyle=A,_.fill()}}}),_.restore()}function s(){var u=X(e.linkDirectionalParticles),l=X(e.linkDirectionalParticleSpeed),f=X(e.linkDirectionalParticleWidth),d=X(e.linkVisibility),c=X(e.linkDirectionalParticleColor||e.linkColor),h=e.ctx;h.save(),e.graphData.links.filter(d).forEach(function(y){var _=u(y);if(!(!y.hasOwnProperty("__photons")||!y.__photons.length)){var w=y.source,k=y.target;if(!(!w||!k||!w.hasOwnProperty("x")||!k.hasOwnProperty("x"))){var g=l(y),S=y.__photons||[],M=Math.max(0,f(y)/2)/Math.sqrt(e.globalScale),m=c(y)||"rgba(0,0,0,0.28)";h.fillStyle=m;var x=y.__controlPoints?qt(Y,[w.x,w.y].concat(dt(y.__controlPoints),[k.x,k.y])):null,A=0,C=!1;S.forEach(function(P){var D=!!P.__singleHop;if(P.hasOwnProperty("__progressRatio")||(P.__progressRatio=D?0:A/_),!D&&A++,P.__progressRatio+=g,P.__progressRatio>=1)if(!D)P.__progressRatio=P.__progressRatio%1;else{C=!0;return}var I=P.__progressRatio,F=x?x.get(I):{x:w.x+(k.x-w.x)*I||0,y:w.y+(k.y-w.y)*I||0};h.beginPath(),h.arc(F.x,F.y,M,0,2*Math.PI,!1),h.fill()}),C&&(y.__photons=y.__photons.filter(function(P){return!P.__singleHop||P.__progressRatio<=1}))}}}),h.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:pi().force("link",si()).force("charge",yi()).force("center",Sr()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e){if(e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&De(e.graphData.nodes,X(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&De(e.graphData.links,X(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(c){c.source=c[e.linkSource],c.target=c[e.linkTarget]}),!e.isShadow){var r=X(e.linkDirectionalParticles);e.graphData.links.forEach(function(c){var h=Math.round(Math.abs(r(c)));h?c.__photons=dt(Array(h)).map(function(){return{}}):delete c.__photons})}e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var i=e.forceLayout.force("link");i&&i.id(function(c){return c[e.nodeId]}).links(e.graphData.links);var a=e.dagMode&&Zi(e.graphData,function(c){return c[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),o=Math.max.apply(Math,dt(Object.values(a||[]))),s=e.dagLevelDistance||e.graphData.nodes.length/(o||1)*Xi*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(e.dagMode){var u=function(h,y){return function(_){return h?(a[_[e.nodeId]]-o/2)*s*(y?-1:1):void 0}},l=u(["lr","rl"].indexOf(e.dagMode)!==-1,e.dagMode==="rl"),f=u(["td","bu"].indexOf(e.dagMode)!==-1,e.dagMode==="bu");e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(c){c.fx=l(c),c.fy=f(c)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?vi(function(c){var h=a[c[e.nodeId]]||-1;return(e.dagMode==="radialin"?o-h:h)*s}).strength(function(c){return e.dagNodeFilter(c)?1:0}):null);for(var d=0;d<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);d++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function tn(n,e){var r=n instanceof Array?n:[n],i=new e;return{linkProp:function(o){return{default:i[o](),onChange:function(u,l){r.forEach(function(f){return l[f][o](u)})},triggerUpdate:!1}},linkMethod:function(o){return function(s){for(var u=arguments.length,l=new Array(u>1?u-1:0),f=1;f<u;f++)l[f-1]=arguments[f];var d=[];return r.forEach(function(c){var h=s[c],y=h[o].apply(h,l);y!==h&&d.push(y)}),d.length?d[0]:this}}}}var Yi=800,Ki=4,en=tn("forceGraph",Xt),Qi=tn(["forceGraph","shadowGraph"],Xt),Ji=Object.assign.apply(Object,dt(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return Vt({},n,en.linkProp(n))})).concat(dt(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return Vt({},n,Qi.linkProp(n))})))),ta=Object.assign.apply(Object,dt(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return Vt({},n,en.linkMethod(n))})));function re(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(o){o.style.width="".concat(n.width,"px"),o.style.height="".concat(n.height,"px"),o.width=n.width*i,o.height=n.height*i,!e&&!r&&o.getContext("2d").scale(i,i)});var a=mt(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/a,(n.height-r)/2/a),n.needsRedraw=!0}}function nn(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function Ne(n,e,r){n.save(),nn(n),n.clearRect(0,0,e,r),n.restore()}var ea=Ge({props:Mt({width:{default:window.innerWidth,onChange:function(e,r){return re(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return re(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function i(a){var o=a.type,s=a.objs;s.filter(function(u){if(!u.hasOwnProperty("__indexColor"))return!0;var l=r.colorTracker.lookup(u.__indexColor);return!l||!l.hasOwnProperty("d")||l.d!==u}).forEach(function(u){u.__indexColor=r.colorTracker.register({type:o,d:u})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(i,a,o){return e(i,i.__indexColor,a,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(i,a,o){return e(i,i.__indexColor,a,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},Ji),aliases:{stopAnimation:"pauseAnimation"},methods:Mt({graph2ScreenCoords:function(e,r,i){var a=mt(e.canvas);return{x:r*a.k+a.x,y:i*a.k+a.y}},screen2GraphCoords:function(e,r,i){var a=mt(e.canvas);return{x:(r-a.x)/a.k,y:(i-a.y)/a.k}},centerAt:function(e,r,i,a){if(!e.canvas)return null;if(r!==void 0||i!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return a?new Et.Tween(s()).to(o,a).easing(Et.Easing.Quadratic.Out).onUpdate(u).start():u(o),this}return s();function s(){var l=mt(e.canvas);return{x:(e.width/2-l.x)/l.k,y:(e.height/2-l.y)/l.k}}function u(l){var f=l.x,d=l.y;e.zoom.translateTo(e.zoom.__baseElem,f===void 0?s().x:f,d===void 0?s().y:d),e.needsRedraw=!0}},zoom:function(e,r,i){if(!e.canvas)return null;if(r!==void 0)return i?new Et.Tween({k:a()}).to({k:r},i).easing(Et.Easing.Quadratic.Out).onUpdate(function(s){var u=s.k;return o(u)}).start():o(r),this;return a();function a(){return mt(e.canvas).k}function o(s){e.zoom.scaleTo(e.zoom.__baseElem,s),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];var u=this.getGraphBbox.apply(this,o);if(u){var l={x:(u.x[0]+u.x[1])/2,y:(u.y[0]+u.y[1])/2},f=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(u.x[1]-u.x[0]),(e.height-i*2)/(u.y[1]-u.y[0])));this.centerAt(l.x,l.y,r),this.zoom(f,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=X(e.nodeVal),a=function(u){return Math.sqrt(Math.max(0,i(u)||1))*e.nodeRelSize},o=e.graphData.nodes.filter(r).map(function(s){return{x:s.x,y:s.y,r:a(s)}});return o.length?{x:[be(o,function(s){return s.x-s.r}),xe(o,function(s){return s.x+s.r})],y:[be(o,function(s){return s.y-s.r}),xe(o,function(s){return s.y+s.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},ta),stateInit:function(){return{lastSetZoom:1,zoom:Kn(),forceGraph:new Xt,shadowGraph:new Xt().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Ar}},init:function(e,r){var i=this;e.innerHTML="";var a=document.createElement("div");a.classList.add("force-graph-container"),a.style.position="relative",e.appendChild(a),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),a.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var o=r.canvas.getContext("2d"),s=r.shadowCanvas.getContext("2d"),u={x:-1e12,y:-1e12},l=function(){var h=null,y=window.devicePixelRatio,_=u.x>0&&u.y>0?s.getImageData(u.x*y,u.y*y,1,1):null;return _&&(h=r.colorTracker.lookup(_.data)),h};pt(r.canvas).call(wn().subject(function(){if(!r.enableNodeDrag)return null;var c=l();return c&&c.type==="Node"?c.d:null}).on("start",function(c){var h=c.subject;h.__initialDragPos={x:h.x,y:h.y,fx:h.fx,fy:h.fy},c.active||(h.fx=h.x,h.fy=h.y),r.canvas.classList.add("grabbable")}).on("drag",function(c){var h=c.subject,y=h.__initialDragPos,_=c,w=mt(r.canvas).k,k={x:y.x+(_.x-y.x)/w-h.x,y:y.y+(_.y-y.y)/w-h.y};["x","y"].forEach(function(g){return h["f".concat(g)]=h[g]=y[g]+(_[g]-y[g])/w}),r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,h.__dragged=!0,r.onNodeDrag(h,k)}).on("end",function(c){var h=c.subject,y=h.__initialDragPos,_={x:h.x-y.x,y:h.y-y.y};y.fx===void 0&&(h.fx=void 0),y.fy===void 0&&(h.fy=void 0),delete h.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,h.__dragged&&(delete h.__dragged,r.onNodeDragEnd(h,_))})),r.zoom(r.zoom.__baseElem=pt(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(c){return!c.button&&r.enableZoomPanInteraction&&(r.enableZoomInteraction||c.type!=="wheel")&&(r.enablePanInteraction||c.type==="wheel")}).on("zoom",function(c){var h=c.transform;[o,s].forEach(function(y){nn(y),y.translate(h.x,h.y),y.scale(h.k,h.k)}),r.onZoom&&r.onZoom(Mt(Mt({},h),i.centerAt())),r.needsRedraw=!0}).on("end",function(c){return r.onZoomEnd&&r.onZoomEnd(Mt(Mt({},c.transform),i.centerAt()))}),re(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){mt(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=Ki/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)});var f=document.createElement("div");f.classList.add("graph-tooltip"),a.appendChild(f),["pointermove","pointerdown"].forEach(function(c){return a.addEventListener(c,function(h){c==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=h),!r.isPointerDragging&&h.type==="pointermove"&&r.onBackgroundClick&&(h.pressure>0||r.isPointerPressed)&&(h.pointerType!=="touch"||h.movementX===void 0||[h.movementX,h.movementY].some(function(w){return Math.abs(w)>1}))&&(r.isPointerDragging=!0);var y=_(a);u.x=h.pageX-y.left,u.y=h.pageY-y.top,f.style.top="".concat(u.y,"px"),f.style.left="".concat(u.x,"px");function _(w){var k=w.getBoundingClientRect(),g=window.pageXOffset||document.documentElement.scrollLeft,S=window.pageYOffset||document.documentElement.scrollTop;return{top:k.top+S,left:k.left+g}}},{passive:!0})}),a.addEventListener("pointerup",function(c){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var h=[c,r.pointerDownEvent];requestAnimationFrame(function(){if(c.button===0)if(r.hoverObj){var y=r["on".concat(r.hoverObj.type,"Click")];y&&y.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,h);if(c.button===2)if(r.hoverObj){var _=r["on".concat(r.hoverObj.type,"RightClick")];_&&_.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,h)})},{passive:!0}),a.addEventListener("contextmenu",function(c){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(c.preventDefault(),!1)}),r.forceGraph(o),r.shadowGraph(s);var d=un(function(){Ne(s,r.width,r.height),r.shadowGraph.linkWidth(function(h){return X(r.linkWidth)(h)+r.linkHoverPrecision});var c=mt(r.canvas);r.shadowGraph.globalScale(c.k).tickFrame()},Yi);r.flushShadowCanvas=d.flush,(this._animationCycle=function c(){var h=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(x){return x.__photons&&x.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var y=r.isPointerDragging?null:l();if(y!==r.hoverObj){var _=r.hoverObj,w=_?_.type:null,k=y?y.type:null;if(w&&w!==k){var g=r["on".concat(w,"Hover")];g&&g(null,_.d)}if(k){var S=r["on".concat(k,"Hover")];S&&S(y.d,w===k?_.d:null)}var M=y&&X(r["".concat(y.type.toLowerCase(),"Label")])(y.d)||"";f.style.visibility=M?"visible":"hidden",f.innerHTML=M,r.canvas.classList[y&&r["on".concat(k,"Click")]||!y&&r.onBackgroundClick?"add":"remove"]("clickable"),r.hoverObj=y}h&&d()}if(h){Ne(o,r.width,r.height);var m=mt(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(o,m),r.forceGraph.globalScale(m).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(o,m)}Et.update(),r.animationFrameRequestId=requestAnimationFrame(c)})()},update:function(e){}});const na={components:{DocumentList:pn},inject:["mq"],data(){return{instance:null,listener:null,tag:null}},watch:{graph(){this.resize()}},computed:{colors(){return{edge:this.theme==="light"?"#aaa":"#333",label:this.theme==="light"?"rgba(17, 17, 17, 0.8)":"rgba(200, 200, 200, 0.8)",node:"rgba(224, 108, 117, 0.9)"}},connections(){return this.docs.flatMap(n=>n.tags.flatMap((e,r)=>n.tags.slice(r+1).map(i=>{const[a,o]=[e,i].sort();return{id:a+"_"+o,source:a,target:o}})))},docs(){return this.$store.getters.kept},edges(){return this.connections.reduce((n,e)=>{const r=n.find(i=>i.id===e.id);return r?r.size+=1:n.push({...e,color:this.colors.edge,size:1}),n},[])},graph(){return{nodes:this.nodes,links:this.edges}},maxEdgeSize(){return Math.max(...this.edges.map(n=>n.size))},maxNodeSize(){return Math.max(...this.nodes.map(n=>n.size))},mobile(){return["xs","sm"].includes(this.mq.current)},nodes(){return this.edges.flatMap(n=>[n.source,n.target]).reduce((n,e)=>{const r=n.find(i=>i.id===e);return r?r.size+=1:n.push({id:e,name:e,size:1}),n},[])},theme(){return this.$store.state.settings.theme}},methods:{resize(){this.instance&&this.instance.graphData(this.graph).height(this.$refs.graph.clientHeight).width(this.$refs.graph.clientWidth)}},mounted(){this.instance=ea()(this.$refs.graph).graphData(this.graph).height(this.$refs.graph.clientHeight).width(this.$refs.graph.clientWidth).linkWidth(n=>n.size/this.maxEdgeSize*5).nodeCanvasObject((n,e,r)=>{const i=16/r,a=n.id,o=n.size/this.maxNodeSize*15/r;e.beginPath(),e.fillStyle=this.colors.node,e.arc(n.x,n.y,o,0,2*Math.PI,!1),e.fill(),e.closePath(),e.fillStyle=this.colors.label,e.font=`${i}px Inter`,e.textAlign="center",e.textBaseline="top",e.fillText(a,n.x,n.y+o+1)}).onNodeHover(n=>this.$refs.graph.style.cursor=n?"pointer":null).onNodeClick(n=>{const e=this.mobile?40:0;this.tag=n.id,this.instance.centerAt(n.x,n.y+e,1e3),this.instance.zoom(6,2e3)}),this.listener=()=>{this.resize()},window.addEventListener("resize",this.listener)},beforeUnmount(){window.removeEventListener("resize",this.listener)}},ra={class:"flex justify-end h-screen relative"},ia={ref:"graph",class:"absolute inset-0"};function aa(n,e,r,i,a,o){const s=ln("DocumentList");return ye(),cn("div",ra,[a.tag?(ye(),hn(s,{key:0,tag:a.tag,cols:1,class:"h-full w-full md:w-1/3 z-index-1 px-4 mt-96"},null,8,["tag"])):dn("",!0),gn("div",ia,null,512)])}var ha=fn(na,[["render",aa]]);export{ha as default};
