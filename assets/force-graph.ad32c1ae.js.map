{"version":3,"file":"force-graph.ad32c1ae.js","sources":["../../node_modules/d3-selection/src/sourceEvent.js","../../node_modules/d3-selection/src/pointer.js","../../node_modules/d3-drag/src/noevent.js","../../node_modules/d3-drag/src/nodrag.js","../../node_modules/d3-drag/src/constant.js","../../node_modules/d3-drag/src/event.js","../../node_modules/d3-drag/src/drag.js","../../node_modules/d3-interpolate/src/zoom.js","../../node_modules/d3-quadtree/src/add.js","../../node_modules/d3-quadtree/src/cover.js","../../node_modules/d3-quadtree/src/data.js","../../node_modules/d3-quadtree/src/extent.js","../../node_modules/d3-quadtree/src/quad.js","../../node_modules/d3-quadtree/src/find.js","../../node_modules/d3-quadtree/src/remove.js","../../node_modules/d3-quadtree/src/root.js","../../node_modules/d3-quadtree/src/size.js","../../node_modules/d3-quadtree/src/visit.js","../../node_modules/d3-quadtree/src/visitAfter.js","../../node_modules/d3-quadtree/src/x.js","../../node_modules/d3-quadtree/src/y.js","../../node_modules/d3-quadtree/src/quadtree.js","../../node_modules/d3-scale-chromatic/src/colors.js","../../node_modules/d3-scale-chromatic/src/categorical/Paired.js","../../node_modules/d3-zoom/src/constant.js","../../node_modules/d3-zoom/src/event.js","../../node_modules/d3-zoom/src/noevent.js","../../node_modules/d3-zoom/src/zoom.js","../../node_modules/force-graph/node_modules/d3-array/src/max.js","../../node_modules/force-graph/node_modules/d3-array/src/min.js","../../node_modules/@tweenjs/tween.js/dist/tween.esm.js","../../node_modules/debounce/index.js","../../node_modules/kapsule/dist/kapsule.module.js","../../node_modules/accessor-fn/dist/accessor-fn.module.js","../../node_modules/tinycolor2/tinycolor.js","../../node_modules/canvas-color-tracker/dist/canvas-color-tracker.module.js","../../node_modules/d3-force-3d/src/center.js","../../node_modules/d3-binarytree/src/add.js","../../node_modules/d3-binarytree/src/cover.js","../../node_modules/d3-binarytree/src/data.js","../../node_modules/d3-binarytree/src/extent.js","../../node_modules/d3-binarytree/src/half.js","../../node_modules/d3-binarytree/src/find.js","../../node_modules/d3-binarytree/src/remove.js","../../node_modules/d3-binarytree/src/root.js","../../node_modules/d3-binarytree/src/size.js","../../node_modules/d3-binarytree/src/visit.js","../../node_modules/d3-binarytree/src/visitAfter.js","../../node_modules/d3-binarytree/src/x.js","../../node_modules/d3-binarytree/src/binarytree.js","../../node_modules/d3-octree/src/add.js","../../node_modules/d3-octree/src/cover.js","../../node_modules/d3-octree/src/data.js","../../node_modules/d3-octree/src/extent.js","../../node_modules/d3-octree/src/octant.js","../../node_modules/d3-octree/src/find.js","../../node_modules/d3-octree/src/remove.js","../../node_modules/d3-octree/src/root.js","../../node_modules/d3-octree/src/size.js","../../node_modules/d3-octree/src/visit.js","../../node_modules/d3-octree/src/visitAfter.js","../../node_modules/d3-octree/src/x.js","../../node_modules/d3-octree/src/y.js","../../node_modules/d3-octree/src/z.js","../../node_modules/d3-octree/src/octree.js","../../node_modules/d3-force-3d/src/constant.js","../../node_modules/d3-force-3d/src/jiggle.js","../../node_modules/d3-force-3d/src/link.js","../../node_modules/d3-force-3d/src/lcg.js","../../node_modules/d3-force-3d/src/simulation.js","../../node_modules/d3-force-3d/src/manyBody.js","../../node_modules/d3-force-3d/src/radial.js","../../node_modules/bezier-js/src/utils.js","../../node_modules/bezier-js/src/poly-bezier.js","../../node_modules/bezier-js/src/bezier.js","../../node_modules/index-array-by/dist/index-array-by.module.js","../../node_modules/force-graph/dist/force-graph.module.js","../../pages/force-graph.vue"],"sourcesContent":["export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","/**\n * The Ease class provides a collection of easing functions for use with tween.js.\n */\nvar Easing = {\n    Linear: {\n        None: function (amount) {\n            return amount;\n        },\n    },\n    Quadratic: {\n        In: function (amount) {\n            return amount * amount;\n        },\n        Out: function (amount) {\n            return amount * (2 - amount);\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount;\n            }\n            return -0.5 * (--amount * (amount - 2) - 1);\n        },\n    },\n    Cubic: {\n        In: function (amount) {\n            return amount * amount * amount;\n        },\n        Out: function (amount) {\n            return --amount * amount * amount + 1;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount;\n            }\n            return 0.5 * ((amount -= 2) * amount * amount + 2);\n        },\n    },\n    Quartic: {\n        In: function (amount) {\n            return amount * amount * amount * amount;\n        },\n        Out: function (amount) {\n            return 1 - --amount * amount * amount * amount;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount * amount;\n            }\n            return -0.5 * ((amount -= 2) * amount * amount * amount - 2);\n        },\n    },\n    Quintic: {\n        In: function (amount) {\n            return amount * amount * amount * amount * amount;\n        },\n        Out: function (amount) {\n            return --amount * amount * amount * amount * amount + 1;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount * amount * amount;\n            }\n            return 0.5 * ((amount -= 2) * amount * amount * amount * amount + 2);\n        },\n    },\n    Sinusoidal: {\n        In: function (amount) {\n            return 1 - Math.cos((amount * Math.PI) / 2);\n        },\n        Out: function (amount) {\n            return Math.sin((amount * Math.PI) / 2);\n        },\n        InOut: function (amount) {\n            return 0.5 * (1 - Math.cos(Math.PI * amount));\n        },\n    },\n    Exponential: {\n        In: function (amount) {\n            return amount === 0 ? 0 : Math.pow(1024, amount - 1);\n        },\n        Out: function (amount) {\n            return amount === 1 ? 1 : 1 - Math.pow(2, -10 * amount);\n        },\n        InOut: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            if ((amount *= 2) < 1) {\n                return 0.5 * Math.pow(1024, amount - 1);\n            }\n            return 0.5 * (-Math.pow(2, -10 * (amount - 1)) + 2);\n        },\n    },\n    Circular: {\n        In: function (amount) {\n            return 1 - Math.sqrt(1 - amount * amount);\n        },\n        Out: function (amount) {\n            return Math.sqrt(1 - --amount * amount);\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return -0.5 * (Math.sqrt(1 - amount * amount) - 1);\n            }\n            return 0.5 * (Math.sqrt(1 - (amount -= 2) * amount) + 1);\n        },\n    },\n    Elastic: {\n        In: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            return -Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n        },\n        Out: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            return Math.pow(2, -10 * amount) * Math.sin((amount - 0.1) * 5 * Math.PI) + 1;\n        },\n        InOut: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            amount *= 2;\n            if (amount < 1) {\n                return -0.5 * Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n            }\n            return 0.5 * Math.pow(2, -10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI) + 1;\n        },\n    },\n    Back: {\n        In: function (amount) {\n            var s = 1.70158;\n            return amount * amount * ((s + 1) * amount - s);\n        },\n        Out: function (amount) {\n            var s = 1.70158;\n            return --amount * amount * ((s + 1) * amount + s) + 1;\n        },\n        InOut: function (amount) {\n            var s = 1.70158 * 1.525;\n            if ((amount *= 2) < 1) {\n                return 0.5 * (amount * amount * ((s + 1) * amount - s));\n            }\n            return 0.5 * ((amount -= 2) * amount * ((s + 1) * amount + s) + 2);\n        },\n    },\n    Bounce: {\n        In: function (amount) {\n            return 1 - Easing.Bounce.Out(1 - amount);\n        },\n        Out: function (amount) {\n            if (amount < 1 / 2.75) {\n                return 7.5625 * amount * amount;\n            }\n            else if (amount < 2 / 2.75) {\n                return 7.5625 * (amount -= 1.5 / 2.75) * amount + 0.75;\n            }\n            else if (amount < 2.5 / 2.75) {\n                return 7.5625 * (amount -= 2.25 / 2.75) * amount + 0.9375;\n            }\n            else {\n                return 7.5625 * (amount -= 2.625 / 2.75) * amount + 0.984375;\n            }\n        },\n        InOut: function (amount) {\n            if (amount < 0.5) {\n                return Easing.Bounce.In(amount * 2) * 0.5;\n            }\n            return Easing.Bounce.Out(amount * 2 - 1) * 0.5 + 0.5;\n        },\n    },\n};\n\nvar now;\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\n// eslint-disable-next-line\n// @ts-ignore\nif (typeof self === 'undefined' && typeof process !== 'undefined' && process.hrtime) {\n    now = function () {\n        // eslint-disable-next-line\n        // @ts-ignore\n        var time = process.hrtime();\n        // Convert [seconds, nanoseconds] to milliseconds.\n        return time[0] * 1000 + time[1] / 1000000;\n    };\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof self !== 'undefined' && self.performance !== undefined && self.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n    now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n    now = function () {\n        return new Date().getTime();\n    };\n}\nvar now$1 = now;\n\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tween\n */\nvar Group = /** @class */ (function () {\n    function Group() {\n        this._tweens = {};\n        this._tweensAddedDuringUpdate = {};\n    }\n    Group.prototype.getAll = function () {\n        var _this = this;\n        return Object.keys(this._tweens).map(function (tweenId) {\n            return _this._tweens[tweenId];\n        });\n    };\n    Group.prototype.removeAll = function () {\n        this._tweens = {};\n    };\n    Group.prototype.add = function (tween) {\n        this._tweens[tween.getId()] = tween;\n        this._tweensAddedDuringUpdate[tween.getId()] = tween;\n    };\n    Group.prototype.remove = function (tween) {\n        delete this._tweens[tween.getId()];\n        delete this._tweensAddedDuringUpdate[tween.getId()];\n    };\n    Group.prototype.update = function (time, preserve) {\n        if (time === void 0) { time = now$1(); }\n        if (preserve === void 0) { preserve = false; }\n        var tweenIds = Object.keys(this._tweens);\n        if (tweenIds.length === 0) {\n            return false;\n        }\n        // Tweens are updated in \"batches\". If you add a new tween during an\n        // update, then the new tween will be updated in the next batch.\n        // If you remove a tween during an update, it may or may not be updated.\n        // However, if the removed tween was added during the current batch,\n        // then it will not be updated.\n        while (tweenIds.length > 0) {\n            this._tweensAddedDuringUpdate = {};\n            for (var i = 0; i < tweenIds.length; i++) {\n                var tween = this._tweens[tweenIds[i]];\n                var autoStart = !preserve;\n                if (tween && tween.update(time, autoStart) === false && !preserve) {\n                    delete this._tweens[tweenIds[i]];\n                }\n            }\n            tweenIds = Object.keys(this._tweensAddedDuringUpdate);\n        }\n        return true;\n    };\n    return Group;\n}());\n\n/**\n *\n */\nvar Interpolation = {\n    Linear: function (v, k) {\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = Interpolation.Utils.Linear;\n        if (k < 0) {\n            return fn(v[0], v[1], f);\n        }\n        if (k > 1) {\n            return fn(v[m], v[m - 1], m - f);\n        }\n        return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n    },\n    Bezier: function (v, k) {\n        var b = 0;\n        var n = v.length - 1;\n        var pw = Math.pow;\n        var bn = Interpolation.Utils.Bernstein;\n        for (var i = 0; i <= n; i++) {\n            b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n        }\n        return b;\n    },\n    CatmullRom: function (v, k) {\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = Interpolation.Utils.CatmullRom;\n        if (v[0] === v[m]) {\n            if (k < 0) {\n                i = Math.floor((f = m * (1 + k)));\n            }\n            return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n        }\n        else {\n            if (k < 0) {\n                return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n            }\n            if (k > 1) {\n                return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n            }\n            return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n        }\n    },\n    Utils: {\n        Linear: function (p0, p1, t) {\n            return (p1 - p0) * t + p0;\n        },\n        Bernstein: function (n, i) {\n            var fc = Interpolation.Utils.Factorial;\n            return fc(n) / fc(i) / fc(n - i);\n        },\n        Factorial: (function () {\n            var a = [1];\n            return function (n) {\n                var s = 1;\n                if (a[n]) {\n                    return a[n];\n                }\n                for (var i = n; i > 1; i--) {\n                    s *= i;\n                }\n                a[n] = s;\n                return s;\n            };\n        })(),\n        CatmullRom: function (p0, p1, p2, p3, t) {\n            var v0 = (p2 - p0) * 0.5;\n            var v1 = (p3 - p1) * 0.5;\n            var t2 = t * t;\n            var t3 = t * t2;\n            return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n        },\n    },\n};\n\n/**\n * Utils\n */\nvar Sequence = /** @class */ (function () {\n    function Sequence() {\n    }\n    Sequence.nextId = function () {\n        return Sequence._nextId++;\n    };\n    Sequence._nextId = 0;\n    return Sequence;\n}());\n\nvar mainGroup = new Group();\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar Tween = /** @class */ (function () {\n    function Tween(_object, _group) {\n        if (_group === void 0) { _group = mainGroup; }\n        this._object = _object;\n        this._group = _group;\n        this._isPaused = false;\n        this._pauseStart = 0;\n        this._valuesStart = {};\n        this._valuesEnd = {};\n        this._valuesStartRepeat = {};\n        this._duration = 1000;\n        this._initialRepeat = 0;\n        this._repeat = 0;\n        this._yoyo = false;\n        this._isPlaying = false;\n        this._reversed = false;\n        this._delayTime = 0;\n        this._startTime = 0;\n        this._easingFunction = Easing.Linear.None;\n        this._interpolationFunction = Interpolation.Linear;\n        this._chainedTweens = [];\n        this._onStartCallbackFired = false;\n        this._id = Sequence.nextId();\n        this._isChainStopped = false;\n        this._goToEnd = false;\n    }\n    Tween.prototype.getId = function () {\n        return this._id;\n    };\n    Tween.prototype.isPlaying = function () {\n        return this._isPlaying;\n    };\n    Tween.prototype.isPaused = function () {\n        return this._isPaused;\n    };\n    Tween.prototype.to = function (properties, duration) {\n        // TODO? restore this, then update the 07_dynamic_to example to set fox\n        // tween's to on each update. That way the behavior is opt-in (there's\n        // currently no opt-out).\n        // for (const prop in properties) this._valuesEnd[prop] = properties[prop]\n        this._valuesEnd = Object.create(properties);\n        if (duration !== undefined) {\n            this._duration = duration;\n        }\n        return this;\n    };\n    Tween.prototype.duration = function (d) {\n        this._duration = d;\n        return this;\n    };\n    Tween.prototype.start = function (time) {\n        if (this._isPlaying) {\n            return this;\n        }\n        // eslint-disable-next-line\n        this._group && this._group.add(this);\n        this._repeat = this._initialRepeat;\n        if (this._reversed) {\n            // If we were reversed (f.e. using the yoyo feature) then we need to\n            // flip the tween direction back to forward.\n            this._reversed = false;\n            for (var property in this._valuesStartRepeat) {\n                this._swapEndStartRepeatValues(property);\n                this._valuesStart[property] = this._valuesStartRepeat[property];\n            }\n        }\n        this._isPlaying = true;\n        this._isPaused = false;\n        this._onStartCallbackFired = false;\n        this._isChainStopped = false;\n        this._startTime = time !== undefined ? (typeof time === 'string' ? now$1() + parseFloat(time) : time) : now$1();\n        this._startTime += this._delayTime;\n        this._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat);\n        return this;\n    };\n    Tween.prototype._setupProperties = function (_object, _valuesStart, _valuesEnd, _valuesStartRepeat) {\n        for (var property in _valuesEnd) {\n            var startValue = _object[property];\n            var startValueIsArray = Array.isArray(startValue);\n            var propType = startValueIsArray ? 'array' : typeof startValue;\n            var isInterpolationList = !startValueIsArray && Array.isArray(_valuesEnd[property]);\n            // If `to()` specifies a property that doesn't exist in the source object,\n            // we should not set that property in the object\n            if (propType === 'undefined' || propType === 'function') {\n                continue;\n            }\n            // Check if an Array was provided as property value\n            if (isInterpolationList) {\n                var endValues = _valuesEnd[property];\n                if (endValues.length === 0) {\n                    continue;\n                }\n                // handle an array of relative values\n                endValues = endValues.map(this._handleRelativeValue.bind(this, startValue));\n                // Create a local copy of the Array with the start value at the front\n                _valuesEnd[property] = [startValue].concat(endValues);\n            }\n            // handle the deepness of the values\n            if ((propType === 'object' || startValueIsArray) && startValue && !isInterpolationList) {\n                _valuesStart[property] = startValueIsArray ? [] : {};\n                // eslint-disable-next-line\n                for (var prop in startValue) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStart[property][prop] = startValue[prop];\n                }\n                _valuesStartRepeat[property] = startValueIsArray ? [] : {}; // TODO? repeat nested values? And yoyo? And array values?\n                // eslint-disable-next-line\n                // @ts-ignore FIXME?\n                this._setupProperties(startValue, _valuesStart[property], _valuesEnd[property], _valuesStartRepeat[property]);\n            }\n            else {\n                // Save the starting value, but only once.\n                if (typeof _valuesStart[property] === 'undefined') {\n                    _valuesStart[property] = startValue;\n                }\n                if (!startValueIsArray) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n                }\n                if (isInterpolationList) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStartRepeat[property] = _valuesEnd[property].slice().reverse();\n                }\n                else {\n                    _valuesStartRepeat[property] = _valuesStart[property] || 0;\n                }\n            }\n        }\n    };\n    Tween.prototype.stop = function () {\n        if (!this._isChainStopped) {\n            this._isChainStopped = true;\n            this.stopChainedTweens();\n        }\n        if (!this._isPlaying) {\n            return this;\n        }\n        // eslint-disable-next-line\n        this._group && this._group.remove(this);\n        this._isPlaying = false;\n        this._isPaused = false;\n        if (this._onStopCallback) {\n            this._onStopCallback(this._object);\n        }\n        return this;\n    };\n    Tween.prototype.end = function () {\n        this._goToEnd = true;\n        this.update(Infinity);\n        return this;\n    };\n    Tween.prototype.pause = function (time) {\n        if (time === void 0) { time = now$1(); }\n        if (this._isPaused || !this._isPlaying) {\n            return this;\n        }\n        this._isPaused = true;\n        this._pauseStart = time;\n        // eslint-disable-next-line\n        this._group && this._group.remove(this);\n        return this;\n    };\n    Tween.prototype.resume = function (time) {\n        if (time === void 0) { time = now$1(); }\n        if (!this._isPaused || !this._isPlaying) {\n            return this;\n        }\n        this._isPaused = false;\n        this._startTime += time - this._pauseStart;\n        this._pauseStart = 0;\n        // eslint-disable-next-line\n        this._group && this._group.add(this);\n        return this;\n    };\n    Tween.prototype.stopChainedTweens = function () {\n        for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n            this._chainedTweens[i].stop();\n        }\n        return this;\n    };\n    Tween.prototype.group = function (group) {\n        this._group = group;\n        return this;\n    };\n    Tween.prototype.delay = function (amount) {\n        this._delayTime = amount;\n        return this;\n    };\n    Tween.prototype.repeat = function (times) {\n        this._initialRepeat = times;\n        this._repeat = times;\n        return this;\n    };\n    Tween.prototype.repeatDelay = function (amount) {\n        this._repeatDelayTime = amount;\n        return this;\n    };\n    Tween.prototype.yoyo = function (yoyo) {\n        this._yoyo = yoyo;\n        return this;\n    };\n    Tween.prototype.easing = function (easingFunction) {\n        this._easingFunction = easingFunction;\n        return this;\n    };\n    Tween.prototype.interpolation = function (interpolationFunction) {\n        this._interpolationFunction = interpolationFunction;\n        return this;\n    };\n    Tween.prototype.chain = function () {\n        var tweens = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            tweens[_i] = arguments[_i];\n        }\n        this._chainedTweens = tweens;\n        return this;\n    };\n    Tween.prototype.onStart = function (callback) {\n        this._onStartCallback = callback;\n        return this;\n    };\n    Tween.prototype.onUpdate = function (callback) {\n        this._onUpdateCallback = callback;\n        return this;\n    };\n    Tween.prototype.onRepeat = function (callback) {\n        this._onRepeatCallback = callback;\n        return this;\n    };\n    Tween.prototype.onComplete = function (callback) {\n        this._onCompleteCallback = callback;\n        return this;\n    };\n    Tween.prototype.onStop = function (callback) {\n        this._onStopCallback = callback;\n        return this;\n    };\n    /**\n     * @returns true if the tween is still playing after the update, false\n     * otherwise (calling update on a paused tween still returns true because\n     * it is still playing, just paused).\n     */\n    Tween.prototype.update = function (time, autoStart) {\n        if (time === void 0) { time = now$1(); }\n        if (autoStart === void 0) { autoStart = true; }\n        if (this._isPaused)\n            return true;\n        var property;\n        var elapsed;\n        var endTime = this._startTime + this._duration;\n        if (!this._goToEnd && !this._isPlaying) {\n            if (time > endTime)\n                return false;\n            if (autoStart)\n                this.start(time);\n        }\n        this._goToEnd = false;\n        if (time < this._startTime) {\n            return true;\n        }\n        if (this._onStartCallbackFired === false) {\n            if (this._onStartCallback) {\n                this._onStartCallback(this._object);\n            }\n            this._onStartCallbackFired = true;\n        }\n        elapsed = (time - this._startTime) / this._duration;\n        elapsed = this._duration === 0 || elapsed > 1 ? 1 : elapsed;\n        var value = this._easingFunction(elapsed);\n        // properties transformations\n        this._updateProperties(this._object, this._valuesStart, this._valuesEnd, value);\n        if (this._onUpdateCallback) {\n            this._onUpdateCallback(this._object, elapsed);\n        }\n        if (elapsed === 1) {\n            if (this._repeat > 0) {\n                if (isFinite(this._repeat)) {\n                    this._repeat--;\n                }\n                // Reassign starting values, restart by making startTime = now\n                for (property in this._valuesStartRepeat) {\n                    if (!this._yoyo && typeof this._valuesEnd[property] === 'string') {\n                        this._valuesStartRepeat[property] =\n                            // eslint-disable-next-line\n                            // @ts-ignore FIXME?\n                            this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n                    }\n                    if (this._yoyo) {\n                        this._swapEndStartRepeatValues(property);\n                    }\n                    this._valuesStart[property] = this._valuesStartRepeat[property];\n                }\n                if (this._yoyo) {\n                    this._reversed = !this._reversed;\n                }\n                if (this._repeatDelayTime !== undefined) {\n                    this._startTime = time + this._repeatDelayTime;\n                }\n                else {\n                    this._startTime = time + this._delayTime;\n                }\n                if (this._onRepeatCallback) {\n                    this._onRepeatCallback(this._object);\n                }\n                return true;\n            }\n            else {\n                if (this._onCompleteCallback) {\n                    this._onCompleteCallback(this._object);\n                }\n                for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n                    // Make the chained tweens start exactly at the time they should,\n                    // even if the `update()` method was called way past the duration of the tween\n                    this._chainedTweens[i].start(this._startTime + this._duration);\n                }\n                this._isPlaying = false;\n                return false;\n            }\n        }\n        return true;\n    };\n    Tween.prototype._updateProperties = function (_object, _valuesStart, _valuesEnd, value) {\n        for (var property in _valuesEnd) {\n            // Don't update properties that do not exist in the source object\n            if (_valuesStart[property] === undefined) {\n                continue;\n            }\n            var start = _valuesStart[property] || 0;\n            var end = _valuesEnd[property];\n            var startIsArray = Array.isArray(_object[property]);\n            var endIsArray = Array.isArray(end);\n            var isInterpolationList = !startIsArray && endIsArray;\n            if (isInterpolationList) {\n                _object[property] = this._interpolationFunction(end, value);\n            }\n            else if (typeof end === 'object' && end) {\n                // eslint-disable-next-line\n                // @ts-ignore FIXME?\n                this._updateProperties(_object[property], start, end, value);\n            }\n            else {\n                // Parses relative end values with start as base (e.g.: +10, -3)\n                end = this._handleRelativeValue(start, end);\n                // Protect against non numeric properties.\n                if (typeof end === 'number') {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _object[property] = start + (end - start) * value;\n                }\n            }\n        }\n    };\n    Tween.prototype._handleRelativeValue = function (start, end) {\n        if (typeof end !== 'string') {\n            return end;\n        }\n        if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n            return start + parseFloat(end);\n        }\n        else {\n            return parseFloat(end);\n        }\n    };\n    Tween.prototype._swapEndStartRepeatValues = function (property) {\n        var tmp = this._valuesStartRepeat[property];\n        var endValue = this._valuesEnd[property];\n        if (typeof endValue === 'string') {\n            this._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(endValue);\n        }\n        else {\n            this._valuesStartRepeat[property] = this._valuesEnd[property];\n        }\n        this._valuesEnd[property] = tmp;\n    };\n    return Tween;\n}());\n\nvar VERSION = '18.6.4';\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar nextId = Sequence.nextId;\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tweens.\n */\nvar TWEEN = mainGroup;\n// This is the best way to export things in a way that's compatible with both ES\n// Modules and CommonJS, without build hacks, and so as not to break the\n// existing API.\n// https://github.com/rollup/rollup/issues/1961#issuecomment-423037881\nvar getAll = TWEEN.getAll.bind(TWEEN);\nvar removeAll = TWEEN.removeAll.bind(TWEEN);\nvar add = TWEEN.add.bind(TWEEN);\nvar remove = TWEEN.remove.bind(TWEEN);\nvar update = TWEEN.update.bind(TWEEN);\nvar exports = {\n    Easing: Easing,\n    Group: Group,\n    Interpolation: Interpolation,\n    now: now$1,\n    Sequence: Sequence,\n    nextId: nextId,\n    Tween: Tween,\n    VERSION: VERSION,\n    getAll: getAll,\n    removeAll: removeAll,\n    add: add,\n    remove: remove,\n    update: update,\n};\n\nexport default exports;\nexport { Easing, Group, Interpolation, Sequence, Tween, VERSION, add, getAll, nextId, now$1 as now, remove, removeAll, update };\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","import debounce from 'debounce';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar Prop = /*#__PURE__*/_createClass(function Prop(name, _ref) {\n  var _ref$default = _ref[\"default\"],\n      defaultVal = _ref$default === void 0 ? null : _ref$default,\n      _ref$triggerUpdate = _ref.triggerUpdate,\n      triggerUpdate = _ref$triggerUpdate === void 0 ? true : _ref$triggerUpdate,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function (newVal, state) {} : _ref$onChange;\n\n  _classCallCheck(this, Prop);\n\n  this.name = name;\n  this.defaultVal = defaultVal;\n  this.triggerUpdate = triggerUpdate;\n  this.onChange = onChange;\n});\n\nfunction index (_ref2) {\n  var _ref2$stateInit = _ref2.stateInit,\n      stateInit = _ref2$stateInit === void 0 ? function () {\n    return {};\n  } : _ref2$stateInit,\n      _ref2$props = _ref2.props,\n      rawProps = _ref2$props === void 0 ? {} : _ref2$props,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      _ref2$aliases = _ref2.aliases,\n      aliases = _ref2$aliases === void 0 ? {} : _ref2$aliases,\n      _ref2$init = _ref2.init,\n      initFn = _ref2$init === void 0 ? function () {} : _ref2$init,\n      _ref2$update = _ref2.update,\n      updateFn = _ref2$update === void 0 ? function () {} : _ref2$update;\n  // Parse props into Prop instances\n  var props = Object.keys(rawProps).map(function (propName) {\n    return new Prop(propName, rawProps[propName]);\n  });\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // Holds component state\n    var state = Object.assign({}, stateInit instanceof Function ? stateInit(options) : stateInit, // Support plain objects for backwards compatibility\n    {\n      initialised: false\n    }); // keeps track of which props triggered an update\n\n    var changedProps = {}; // Component constructor\n\n    function comp(nodeElement) {\n      initStatic(nodeElement, options);\n      digest();\n      return comp;\n    }\n\n    var initStatic = function initStatic(nodeElement, options) {\n      initFn.call(comp, nodeElement, state, options);\n      state.initialised = true;\n    };\n\n    var digest = debounce(function () {\n      if (!state.initialised) {\n        return;\n      }\n\n      updateFn.call(comp, state, changedProps);\n      changedProps = {};\n    }, 1); // Getter/setter methods\n\n    props.forEach(function (prop) {\n      comp[prop.name] = getSetProp(prop);\n\n      function getSetProp(_ref3) {\n        var prop = _ref3.name,\n            _ref3$triggerUpdate = _ref3.triggerUpdate,\n            redigest = _ref3$triggerUpdate === void 0 ? false : _ref3$triggerUpdate,\n            _ref3$onChange = _ref3.onChange,\n            onChange = _ref3$onChange === void 0 ? function (newVal, state) {} : _ref3$onChange,\n            _ref3$defaultVal = _ref3.defaultVal,\n            defaultVal = _ref3$defaultVal === void 0 ? null : _ref3$defaultVal;\n        return function (_) {\n          var curVal = state[prop];\n\n          if (!arguments.length) {\n            return curVal;\n          } // Getter mode\n\n\n          var val = _ === undefined ? defaultVal : _; // pick default if value passed is undefined\n\n          state[prop] = val;\n          onChange.call(comp, val, state, curVal); // track changed props\n\n          !changedProps.hasOwnProperty(prop) && (changedProps[prop] = curVal);\n\n          if (redigest) {\n            digest();\n          }\n\n          return comp;\n        };\n      }\n    }); // Other methods\n\n    Object.keys(methods).forEach(function (methodName) {\n      comp[methodName] = function () {\n        var _methods$methodName;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return (_methods$methodName = methods[methodName]).call.apply(_methods$methodName, [comp, state].concat(args));\n      };\n    }); // Link aliases\n\n    Object.entries(aliases).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          alias = _ref5[0],\n          target = _ref5[1];\n\n      return comp[alias] = comp[target];\n    }); // Reset all component props to their default value\n\n    comp.resetProps = function () {\n      props.forEach(function (prop) {\n        comp[prop.name](prop.defaultVal);\n      });\n      return comp;\n    }; //\n\n\n    comp.resetProps(); // Apply all prop defaults\n\n    state._rerender = digest; // Expose digest method\n\n    return comp;\n  };\n}\n\nexport { index as default };\n","var index = (function (p) {\n  return p instanceof Function ? p // fn\n  : typeof p === 'string' ? function (obj) {\n    return obj[p];\n  } // property name\n  : function (obj) {\n    return p;\n  };\n}); // constant\n\nexport default index;\n","// TinyColor v1.4.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","import tinyColor from 'tinycolor2';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar ENTROPY = 123; // Raise numbers to prevent collisions in lower indexes\n\nvar int2HexColor = function int2HexColor(num) {\n  return \"#\".concat(Math.min(num, Math.pow(2, 24)).toString(16).padStart(6, '0'));\n};\n\nvar rgb2Int = function rgb2Int(r, g, b) {\n  return (r << 16) + (g << 8) + b;\n};\n\nvar colorStr2Int = function colorStr2Int(str) {\n  var _tinyColor$toRgb = tinyColor(str).toRgb(),\n      r = _tinyColor$toRgb.r,\n      g = _tinyColor$toRgb.g,\n      b = _tinyColor$toRgb.b;\n\n  return rgb2Int(r, g, b);\n};\n\nvar checksum = function checksum(n, csBits) {\n  return n * ENTROPY % Math.pow(2, csBits);\n};\n\nvar _default = /*#__PURE__*/function () {\n  function _default() {\n    var csBits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 6;\n\n    _classCallCheck(this, _default);\n\n    this.csBits = csBits; // How many bits to reserve for checksum. Will eat away into the usable size of the registry.\n\n    this.registry = ['__reserved for background__']; // indexed objects for rgb lookup;\n  }\n\n  _createClass(_default, [{\n    key: \"register\",\n    value: function register(obj) {\n      if (this.registry.length >= Math.pow(2, 24 - this.csBits)) {\n        // color has 24 bits (-checksum)\n        return null; // Registry is full\n      }\n\n      var idx = this.registry.length;\n      var cs = checksum(idx, this.csBits);\n      var color = int2HexColor(idx + (cs << 24 - this.csBits));\n      this.registry.push(obj);\n      return color;\n    }\n  }, {\n    key: \"lookup\",\n    value: function lookup(color) {\n      var n = typeof color === 'string' ? colorStr2Int(color) : rgb2Int.apply(void 0, _toConsumableArray(color));\n      if (!n) return null; // 0 index is reserved for background\n\n      var idx = n & Math.pow(2, 24 - this.csBits) - 1; // registry index\n\n      var cs = n >> 24 - this.csBits & Math.pow(2, this.csBits) - 1; // extract bits reserved for checksum\n\n      if (checksum(idx, this.csBits) !== cs || idx >= this.registry.length) return null; // failed checksum or registry out of bounds\n\n      return this.registry[idx];\n    }\n  }]);\n\n  return _default;\n}();\n\nexport default _default;\n","export default function(x, y, z) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0,\n        sz = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x || 0, sy += node.y || 0, sz += node.z || 0;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, sz = (sz / n - z) * strength, i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (sx) { node.x -= sx }\n      if (sy) { node.y -= sy; }\n      if (sz) { node.z -= sz; }\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d);\n  return add(this.cover(x), x, d);\n}\n\nfunction add(tree, x, d) {\n  if (isNaN(x)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      x1 = tree._x1,\n      xm,\n      xp,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (parent = node, !(node = node[i = +right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  if (x === xp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(2) : tree._root = new Array(2);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n  } while ((i = +right) === (j = +(xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var i, n = data.length,\n      x,\n      xz = new Array(n),\n      x0 = Infinity,\n      x1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, data[i]))) continue;\n    xz[i] = x;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0).cover(x1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x) {\n  if (isNaN(x = +x)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      x1 = this._x1;\n\n  // If the binarytree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing half boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1) {\n      i = +(x < x0);\n      parent = new Array(2), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z; break;\n        case 1: x0 = x1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._x1 = x1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0]).cover(+_[1][0])\n      : isNaN(this._x0) ? undefined : [[this._x0], [this._x1]];\n}\n","export default function(node, x0, x1) {\n  this.node = node;\n  this.x0 = x0;\n  this.x1 = x1;\n}\n","import Half from \"./half\";\n\nexport default function(x, radius) {\n  var data,\n      x0 = this._x0,\n      x1,\n      x2,\n      x3 = this._x1,\n      halves = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) halves.push(new Half(node, x0, x3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius;\n    x3 = x + radius;\n  }\n\n  while (q = halves.pop()) {\n\n    // Stop searching if this half can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (x2 = q.x1) < x0) continue;\n\n    // Bisect the current half.\n    if (node.length) {\n      var xm = (x1 + x2) / 2;\n\n      halves.push(\n        new Half(node[1], xm, x2),\n        new Half(node[0], x1, xm)\n      );\n\n      // Visit the closest half first.\n      if (i = +(x >= xm)) {\n        q = halves[halves.length - 1];\n        halves[halves.length - 1] = halves[halves.length - 1 - i];\n        halves[halves.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var d = Math.abs(x - +this._x.call(null, node.data));\n      if (d < radius) {\n        radius = d;\n        x0 = x - d;\n        x3 = x + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      x1 = this._x1,\n      x,\n      xm,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (!(parent = node, node = node[i = +right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 1]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1])\n      && node === (parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Half from \"./half\";\n\nexport default function(callback) {\n  var halves = [], q, node = this._root, child, x0, x1;\n  if (node) halves.push(new Half(node, this._x0, this._x1));\n  while (q = halves.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, x1 = q.x1) && node.length) {\n      var xm = (x0 + x1) / 2;\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n    }\n  }\n  return this;\n}\n","import Half from \"./half\";\n\nexport default function(callback) {\n  var halves = [], next = [], q;\n  if (this._root) halves.push(new Half(this._root, this._x0, this._x1));\n  while (q = halves.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, x1 = q.x1, xm = (x0 + x1) / 2;\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.x1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\n\nexport default function binarytree(nodes, x) {\n  var tree = new Binarytree(x == null ? defaultX : x, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Binarytree(x, x0, x1) {\n  this._x = x;\n  this._x0 = x0;\n  this._x1 = x1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = binarytree.prototype = Binarytree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Binarytree(this._x, this._x0, this._x1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(2)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 2; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(2)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d),\n      z = +this._z.call(null, d);\n  return add(this.cover(x, y, z), x, y, z, d);\n}\n\nfunction add(tree, x, y, z, d) {\n  if (isNaN(x) || isNaN(y) || isNaN(z)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      z0 = tree._z0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      z1 = tree._z1,\n      xm,\n      ym,\n      zm,\n      xp,\n      yp,\n      zp,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (parent = node, !(node = node[i = deep << 2 | bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  zp = +tree._z.call(null, node.data);\n  if (x === xp && y === yp && z === zp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(8) : tree._root = new Array(8);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n  } while ((i = deep << 2 | bottom << 1 | right) === (j = (zp >= zm) << 2 | (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      z,\n      xz = new Array(n),\n      yz = new Array(n),\n      zz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      z0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity,\n      z1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    zz[i] = z;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n    if (z < z0) z0 = z;\n    if (z > z1) z1 = z;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1 || z0 > z1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0, z0).cover(x1, y1, z1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], zz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y, z) {\n  if (isNaN(x = +x) || isNaN(y = +y) || isNaN(z = +z)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1;\n\n  // If the octree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing octant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n    z1 = (z0 = Math.floor(z)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var t = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1 || z0 > z || z >= z1) {\n      i = (z < z0) << 2 | (y < y0) << 1 | (x < x0);\n      parent = new Array(8), parent[i] = node, node = parent, t *= 2;\n      switch (i) {\n        case 0: x1 = x0 + t, y1 = y0 + t, z1 = z0 + t; break;\n        case 1: x0 = x1 - t, y1 = y0 + t, z1 = z0 + t; break;\n        case 2: x1 = x0 + t, y0 = y1 - t, z1 = z0 + t; break;\n        case 3: x0 = x1 - t, y0 = y1 - t, z1 = z0 + t; break;\n        case 4: x1 = x0 + t, y1 = y0 + t, z0 = z1 - t; break;\n        case 5: x0 = x1 - t, y1 = y0 + t, z0 = z1 - t; break;\n        case 6: x1 = x0 + t, y0 = y1 - t, z0 = z1 - t; break;\n        case 7: x0 = x1 - t, y0 = y1 - t, z0 = z1 - t; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1], +_[0][2]).cover(+_[1][0], +_[1][1], +_[1][2])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0, this._z0], [this._x1, this._y1, this._z1]];\n}\n","export default function(node, x0, y0, z0, x1, y1, z1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.z0 = z0;\n  this.x1 = x1;\n  this.y1 = y1;\n  this.z1 = z1;\n}\n","import Octant from \"./octant\";\n\nexport default function(x, y, z, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1,\n      y1,\n      z1,\n      x2,\n      y2,\n      z2,\n      x3 = this._x1,\n      y3 = this._y1,\n      z3 = this._z1,\n      octs = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) octs.push(new Octant(node, x0, y0, z0, x3, y3, z3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius, z0 = z - radius;\n    x3 = x + radius, y3 = y + radius, z3 = z + radius;\n    radius *= radius;\n  }\n\n  while (q = octs.pop()) {\n\n    // Stop searching if this octant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (z1 = q.z0) > z3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0\n        || (z2 = q.z1) < z0) continue;\n\n    // Bisect the current octant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2,\n          zm = (z1 + z2) / 2;\n\n      octs.push(\n        new Octant(node[7], xm, ym, zm, x2, y2, z2),\n        new Octant(node[6], x1, ym, zm, xm, y2, z2),\n        new Octant(node[5], xm, y1, zm, x2, ym, z2),\n        new Octant(node[4], x1, y1, zm, xm, ym, z2),\n        new Octant(node[3], xm, ym, z1, x2, y2, zm),\n        new Octant(node[2], x1, ym, z1, xm, y2, zm),\n        new Octant(node[1], xm, y1, z1, x2, ym, zm),\n        new Octant(node[0], x1, y1, z1, xm, ym, zm)\n      );\n\n      // Visit the closest octant first.\n      if (i = (z >= zm) << 2 | (y >= ym) << 1 | (x >= xm)) {\n        q = octs[octs.length - 1];\n        octs[octs.length - 1] = octs[octs.length - 1 - i];\n        octs[octs.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          dz = z - +this._z.call(null, node.data),\n          d2 = dx * dx + dy * dy + dz * dz;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d, z0 = z - d;\n        x3 = x + d, y3 = y + d, z3 = z + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1,\n      x,\n      y,\n      z,\n      xm,\n      ym,\n      zm,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (!(parent = node, node = node[i = deep << 2 | bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 7] || parent[(i + 2) & 7] || parent[(i + 3) & 7] || parent[(i + 4) & 7] || parent[(i + 5) & 7] || parent[(i + 6) & 7] || parent[(i + 7) & 7]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3] || parent[4] || parent[5] || parent[6] || parent[7])\n      && node === (parent[7] || parent[6] || parent[5] || parent[4] || parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Octant from \"./octant\";\n\nexport default function(callback) {\n  var octs = [], q, node = this._root, child, x0, y0, z0, x1, y1, z1;\n  if (node) octs.push(new Octant(node, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n    }\n  }\n  return this;\n}\n","import Octant from \"./octant\";\n\nexport default function(callback) {\n  var octs = [], next = [], q;\n  if (this._root) octs.push(new Octant(this._root, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.z0, q.x1, q.y1, q.z1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","export function defaultZ(d) {\n  return d[2];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._z = _, this) : this._z;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\nimport tree_z, {defaultZ} from \"./z\";\n\nexport default function octree(nodes, x, y, z) {\n  var tree = new Octree(x == null ? defaultX : x, y == null ? defaultY : y, z == null ? defaultZ : z, NaN, NaN, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Octree(x, y, z, x0, y0, z0, x1, y1, z1) {\n  this._x = x;\n  this._y = y;\n  this._z = z;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = octree.prototype = Octree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Octree(this._x, this._y, this._z, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(8)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 8; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(8)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\ntreeProto.z = tree_z;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      nDim,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x = 0, y = 0, z = 0, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        if (nDim > 1) { y = target.y + target.vy - source.y - source.vy || jiggle(random); }\n        if (nDim > 2) { z = target.z + target.vz - source.z - source.vz || jiggle(random); }\n        l = Math.sqrt(x * x + y * y + z * z);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l, z *= l;\n\n        target.vx -= x * (b = bias[i]);\n        if (nDim > 1) { target.vy -= y * b; }\n        if (nDim > 2) { target.vz -= z * b; }\n\n        source.vx += x * (b = 1 - b);\n        if (nDim > 1) { source.vy += y * b; }\n        if (nDim > 2) { source.vz += z * b; }\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, ...args) {\n    nodes = _nodes;\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nvar MAX_DIMENSIONS = 3;\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nexport function z(d) {\n  return d.z;\n}\n\nvar initialRadius = 10,\n    initialAngleRoll = Math.PI * (3 - Math.sqrt(5)), // Golden ratio angle\n    initialAngleYaw = Math.PI * 20 / (9 + Math.sqrt(221)); // Markov irrational number\n\nexport default function(nodes, numDimensions) {\n  numDimensions = numDimensions || 2;\n\n  var nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(numDimensions))),\n      simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (nDim > 1) {\n          if (node.fy == null) node.y += node.vy *= velocityDecay;\n          else node.y = node.fy, node.vy = 0;\n        }\n        if (nDim > 2) {\n          if (node.fz == null) node.z += node.vz *= velocityDecay;\n          else node.z = node.fz, node.vz = 0;\n        }\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (node.fz != null) node.z = node.fz;\n      if (isNaN(node.x) || (nDim > 1 && isNaN(node.y)) || (nDim > 2 && isNaN(node.z))) {\n        var radius = initialRadius * (nDim > 2 ? Math.cbrt(0.5 + i) : (nDim > 1 ? Math.sqrt(0.5 + i) : i)),\n          rollAngle = i * initialAngleRoll,\n          yawAngle = i * initialAngleYaw;\n\n        if (nDim === 1) {\n          node.x = radius;\n        } else if (nDim === 2) {\n          node.x = radius * Math.cos(rollAngle);\n          node.y = radius * Math.sin(rollAngle);\n        } else { // 3 dimensions: use spherical distribution along 2 irrational number angles\n          node.x = radius * Math.sin(rollAngle) * Math.cos(yawAngle);\n          node.y = radius * Math.cos(rollAngle);\n          node.z = radius * Math.sin(rollAngle) * Math.sin(yawAngle);\n        }\n      }\n      if (isNaN(node.vx) || (nDim > 1 && isNaN(node.vy)) || (nDim > 2 && isNaN(node.vz))) {\n        node.vx = 0;\n        if (nDim > 1) { node.vy = 0; }\n        if (nDim > 2) { node.vz = 0; }\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random, nDim);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    numDimensions: function(_) {\n      return arguments.length\n          ? (nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(_))), forces.forEach(initializeForce), simulation)\n          : nDim;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function() {\n      var args = Array.prototype.slice.call(arguments);\n      var x = args.shift() || 0,\n          y = (nDim > 1 ? args.shift() : null) || 0,\n          z = (nDim > 2 ? args.shift() : null) || 0,\n          radius = args.shift() || Infinity;\n\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          dz,\n          d2,\n          node,\n          closest;\n\n      radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - (node.y || 0);\n        dz = z - (node.z ||0);\n        d2 = dx * dx + dy * dy + dz * dz;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {binarytree} from \"d3-binarytree\";\nimport {quadtree} from \"d3-quadtree\";\nimport {octree} from \"d3-octree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y, z} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      nDim,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i,\n        n = nodes.length,\n        tree =\n            (nDim === 1 ? binarytree(nodes, x)\n            :(nDim === 2 ? quadtree(nodes, x, y)\n            :(nDim === 3 ? octree(nodes, x, y, z)\n            :null\n        ))).visitAfter(accumulate);\n\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(treeNode) {\n    var strength = 0, q, c, weight = 0, x, y, z, i;\n    var numChildren = treeNode.length;\n\n    // For internal nodes, accumulate forces from children.\n    if (numChildren) {\n      for (x = y = z = i = 0; i < numChildren; ++i) {\n        if ((q = treeNode[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * (q.x || 0), y += c * (q.y || 0), z += c * (q.z || 0);\n        }\n      }\n      strength *= Math.sqrt(4 / numChildren); // scale accumulated strength according to number of dimensions\n\n      treeNode.x = x / weight;\n      if (nDim > 1) { treeNode.y = y / weight; }\n      if (nDim > 2) { treeNode.z = z / weight; }\n    }\n\n    // For leaf nodes, accumulate forces from coincident nodes.\n    else {\n      q = treeNode;\n      q.x = q.data.x;\n      if (nDim > 1) { q.y = q.data.y; }\n      if (nDim > 2) { q.z = q.data.z; }\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    treeNode.value = strength;\n  }\n\n  function apply(treeNode, x1, arg1, arg2, arg3) {\n    if (!treeNode.value) return true;\n    var x2 = [arg1, arg2, arg3][nDim-1];\n\n    var x = treeNode.x - node.x,\n        y = (nDim > 1 ? treeNode.y - node.y : 0),\n        z = (nDim > 2 ? treeNode.z - node.z : 0),\n        w = x2 - x1,\n        l = x * x + y * y + z * z;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n        if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * treeNode.value * alpha / l;\n        if (nDim > 1) { node.vy += y * treeNode.value * alpha / l; }\n        if (nDim > 2) { node.vz += z * treeNode.value * alpha / l; }\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (treeNode.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (treeNode.data !== node || treeNode.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n      if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (treeNode.data !== node) {\n      w = strengths[treeNode.data.index] * alpha / l;\n      node.vx += x * w;\n      if (nDim > 1) { node.vy += y * w; }\n      if (nDim > 2) { node.vz += z * w; }\n    } while (treeNode = treeNode.next);\n  }\n\n  force.initialize = function(_nodes, ...args) {\n    nodes = _nodes;\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y, z) {\n  var nodes,\n      nDim,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = (node.y || 0) - y || 1e-6,\n          dz = (node.z || 0) - z || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy + dz * dz),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      if (nDim>1) { node.vy += dy * k; }\n      if (nDim>2) { node.vz += dz * k; }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(initNodes, ...args) {\n    nodes = initNodes;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  return force;\n}\n","import { Bezier } from \"./bezier.js\";\n\n// math-inlining.\nconst { abs, cos, sin, acos, atan2, sqrt, pow } = Math;\n\n// cube root function yielding real roots\nfunction crt(v) {\n  return v < 0 ? -pow(-v, 1 / 3) : pow(v, 1 / 3);\n}\n\n// trig constants\nconst pi = Math.PI,\n  tau = 2 * pi,\n  quart = pi / 2,\n  // float precision significant decimal\n  epsilon = 0.000001,\n  // extremas used in bbox calculation and similar algorithms\n  nMax = Number.MAX_SAFE_INTEGER || 9007199254740991,\n  nMin = Number.MIN_SAFE_INTEGER || -9007199254740991,\n  // a zero coordinate, which is surprisingly useful\n  ZERO = { x: 0, y: 0, z: 0 };\n\n// Bezier utility functions\nconst utils = {\n  // Legendre-Gauss abscissae with n=24 (x_i values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))\n  Tvalues: [\n    -0.0640568928626056260850430826247450385909,\n    0.0640568928626056260850430826247450385909,\n    -0.1911188674736163091586398207570696318404,\n    0.1911188674736163091586398207570696318404,\n    -0.3150426796961633743867932913198102407864,\n    0.3150426796961633743867932913198102407864,\n    -0.4337935076260451384870842319133497124524,\n    0.4337935076260451384870842319133497124524,\n    -0.5454214713888395356583756172183723700107,\n    0.5454214713888395356583756172183723700107,\n    -0.6480936519369755692524957869107476266696,\n    0.6480936519369755692524957869107476266696,\n    -0.7401241915785543642438281030999784255232,\n    0.7401241915785543642438281030999784255232,\n    -0.8200019859739029219539498726697452080761,\n    0.8200019859739029219539498726697452080761,\n    -0.8864155270044010342131543419821967550873,\n    0.8864155270044010342131543419821967550873,\n    -0.9382745520027327585236490017087214496548,\n    0.9382745520027327585236490017087214496548,\n    -0.9747285559713094981983919930081690617411,\n    0.9747285559713094981983919930081690617411,\n    -0.9951872199970213601799974097007368118745,\n    0.9951872199970213601799974097007368118745,\n  ],\n\n  // Legendre-Gauss weights with n=24 (w_i values, defined by a function linked to in the Bezier primer article)\n  Cvalues: [\n    0.1279381953467521569740561652246953718517,\n    0.1279381953467521569740561652246953718517,\n    0.1258374563468282961213753825111836887264,\n    0.1258374563468282961213753825111836887264,\n    0.121670472927803391204463153476262425607,\n    0.121670472927803391204463153476262425607,\n    0.1155056680537256013533444839067835598622,\n    0.1155056680537256013533444839067835598622,\n    0.1074442701159656347825773424466062227946,\n    0.1074442701159656347825773424466062227946,\n    0.0976186521041138882698806644642471544279,\n    0.0976186521041138882698806644642471544279,\n    0.086190161531953275917185202983742667185,\n    0.086190161531953275917185202983742667185,\n    0.0733464814110803057340336152531165181193,\n    0.0733464814110803057340336152531165181193,\n    0.0592985849154367807463677585001085845412,\n    0.0592985849154367807463677585001085845412,\n    0.0442774388174198061686027482113382288593,\n    0.0442774388174198061686027482113382288593,\n    0.0285313886289336631813078159518782864491,\n    0.0285313886289336631813078159518782864491,\n    0.0123412297999871995468056670700372915759,\n    0.0123412297999871995468056670700372915759,\n  ],\n\n  arcfn: function (t, derivativeFn) {\n    const d = derivativeFn(t);\n    let l = d.x * d.x + d.y * d.y;\n    if (typeof d.z !== \"undefined\") {\n      l += d.z * d.z;\n    }\n    return sqrt(l);\n  },\n\n  compute: function (t, points, _3d) {\n    // shortcuts\n    if (t === 0) {\n      points[0].t = 0;\n      return points[0];\n    }\n\n    const order = points.length - 1;\n\n    if (t === 1) {\n      points[order].t = 1;\n      return points[order];\n    }\n\n    const mt = 1 - t;\n    let p = points;\n\n    // constant?\n    if (order === 0) {\n      points[0].t = t;\n      return points[0];\n    }\n\n    // linear?\n    if (order === 1) {\n      const ret = {\n        x: mt * p[0].x + t * p[1].x,\n        y: mt * p[0].y + t * p[1].y,\n        t: t,\n      };\n      if (_3d) {\n        ret.z = mt * p[0].z + t * p[1].z;\n      }\n      return ret;\n    }\n\n    // quadratic/cubic curve?\n    if (order < 4) {\n      let mt2 = mt * mt,\n        t2 = t * t,\n        a,\n        b,\n        c,\n        d = 0;\n      if (order === 2) {\n        p = [p[0], p[1], p[2], ZERO];\n        a = mt2;\n        b = mt * t * 2;\n        c = t2;\n      } else if (order === 3) {\n        a = mt2 * mt;\n        b = mt2 * t * 3;\n        c = mt * t2 * 3;\n        d = t * t2;\n      }\n      const ret = {\n        x: a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,\n        y: a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y,\n        t: t,\n      };\n      if (_3d) {\n        ret.z = a * p[0].z + b * p[1].z + c * p[2].z + d * p[3].z;\n      }\n      return ret;\n    }\n\n    // higher order curves: use de Casteljau's computation\n    const dCpts = JSON.parse(JSON.stringify(points));\n    while (dCpts.length > 1) {\n      for (let i = 0; i < dCpts.length - 1; i++) {\n        dCpts[i] = {\n          x: dCpts[i].x + (dCpts[i + 1].x - dCpts[i].x) * t,\n          y: dCpts[i].y + (dCpts[i + 1].y - dCpts[i].y) * t,\n        };\n        if (typeof dCpts[i].z !== \"undefined\") {\n          dCpts[i] = dCpts[i].z + (dCpts[i + 1].z - dCpts[i].z) * t;\n        }\n      }\n      dCpts.splice(dCpts.length - 1, 1);\n    }\n    dCpts[0].t = t;\n    return dCpts[0];\n  },\n\n  computeWithRatios: function (t, points, ratios, _3d) {\n    const mt = 1 - t,\n      r = ratios,\n      p = points;\n\n    let f1 = r[0],\n      f2 = r[1],\n      f3 = r[2],\n      f4 = r[3],\n      d;\n\n    // spec for linear\n    f1 *= mt;\n    f2 *= t;\n\n    if (p.length === 2) {\n      d = f1 + f2;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y) / d,\n        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z) / d,\n        t: t,\n      };\n    }\n\n    // upgrade to quadratic\n    f1 *= mt;\n    f2 *= 2 * mt;\n    f3 *= t * t;\n\n    if (p.length === 3) {\n      d = f1 + f2 + f3;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y) / d,\n        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z) / d,\n        t: t,\n      };\n    }\n\n    // upgrade to cubic\n    f1 *= mt;\n    f2 *= 1.5 * mt;\n    f3 *= 3 * mt;\n    f4 *= t * t * t;\n\n    if (p.length === 4) {\n      d = f1 + f2 + f3 + f4;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x + f4 * p[3].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y + f4 * p[3].y) / d,\n        z: !_3d\n          ? false\n          : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z + f4 * p[3].z) / d,\n        t: t,\n      };\n    }\n  },\n\n  derive: function (points, _3d) {\n    const dpoints = [];\n    for (let p = points, d = p.length, c = d - 1; d > 1; d--, c--) {\n      const list = [];\n      for (let j = 0, dpt; j < c; j++) {\n        dpt = {\n          x: c * (p[j + 1].x - p[j].x),\n          y: c * (p[j + 1].y - p[j].y),\n        };\n        if (_3d) {\n          dpt.z = c * (p[j + 1].z - p[j].z);\n        }\n        list.push(dpt);\n      }\n      dpoints.push(list);\n      p = list;\n    }\n    return dpoints;\n  },\n\n  between: function (v, m, M) {\n    return (\n      (m <= v && v <= M) ||\n      utils.approximately(v, m) ||\n      utils.approximately(v, M)\n    );\n  },\n\n  approximately: function (a, b, precision) {\n    return abs(a - b) <= (precision || epsilon);\n  },\n\n  length: function (derivativeFn) {\n    const z = 0.5,\n      len = utils.Tvalues.length;\n\n    let sum = 0;\n\n    for (let i = 0, t; i < len; i++) {\n      t = z * utils.Tvalues[i] + z;\n      sum += utils.Cvalues[i] * utils.arcfn(t, derivativeFn);\n    }\n    return z * sum;\n  },\n\n  map: function (v, ds, de, ts, te) {\n    const d1 = de - ds,\n      d2 = te - ts,\n      v2 = v - ds,\n      r = v2 / d1;\n    return ts + d2 * r;\n  },\n\n  lerp: function (r, v1, v2) {\n    const ret = {\n      x: v1.x + r * (v2.x - v1.x),\n      y: v1.y + r * (v2.y - v1.y),\n    };\n    if (v1.z !== undefined && v2.z !== undefined) {\n      ret.z = v1.z + r * (v2.z - v1.z);\n    }\n    return ret;\n  },\n\n  pointToString: function (p) {\n    let s = p.x + \"/\" + p.y;\n    if (typeof p.z !== \"undefined\") {\n      s += \"/\" + p.z;\n    }\n    return s;\n  },\n\n  pointsToString: function (points) {\n    return \"[\" + points.map(utils.pointToString).join(\", \") + \"]\";\n  },\n\n  copy: function (obj) {\n    return JSON.parse(JSON.stringify(obj));\n  },\n\n  angle: function (o, v1, v2) {\n    const dx1 = v1.x - o.x,\n      dy1 = v1.y - o.y,\n      dx2 = v2.x - o.x,\n      dy2 = v2.y - o.y,\n      cross = dx1 * dy2 - dy1 * dx2,\n      dot = dx1 * dx2 + dy1 * dy2;\n    return atan2(cross, dot);\n  },\n\n  // round as string, to avoid rounding errors\n  round: function (v, d) {\n    const s = \"\" + v;\n    const pos = s.indexOf(\".\");\n    return parseFloat(s.substring(0, pos + 1 + d));\n  },\n\n  dist: function (p1, p2) {\n    const dx = p1.x - p2.x,\n      dy = p1.y - p2.y;\n    return sqrt(dx * dx + dy * dy);\n  },\n\n  closest: function (LUT, point) {\n    let mdist = pow(2, 63),\n      mpos,\n      d;\n    LUT.forEach(function (p, idx) {\n      d = utils.dist(point, p);\n      if (d < mdist) {\n        mdist = d;\n        mpos = idx;\n      }\n    });\n    return { mdist: mdist, mpos: mpos };\n  },\n\n  abcratio: function (t, n) {\n    // see ratio(t) note on http://pomax.github.io/bezierinfo/#abc\n    if (n !== 2 && n !== 3) {\n      return false;\n    }\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    } else if (t === 0 || t === 1) {\n      return t;\n    }\n    const bottom = pow(t, n) + pow(1 - t, n),\n      top = bottom - 1;\n    return abs(top / bottom);\n  },\n\n  projectionratio: function (t, n) {\n    // see u(t) note on http://pomax.github.io/bezierinfo/#abc\n    if (n !== 2 && n !== 3) {\n      return false;\n    }\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    } else if (t === 0 || t === 1) {\n      return t;\n    }\n    const top = pow(1 - t, n),\n      bottom = pow(t, n) + top;\n    return top / bottom;\n  },\n\n  lli8: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    const nx =\n        (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    if (d == 0) {\n      return false;\n    }\n    return { x: nx / d, y: ny / d };\n  },\n\n  lli4: function (p1, p2, p3, p4) {\n    const x1 = p1.x,\n      y1 = p1.y,\n      x2 = p2.x,\n      y2 = p2.y,\n      x3 = p3.x,\n      y3 = p3.y,\n      x4 = p4.x,\n      y4 = p4.y;\n    return utils.lli8(x1, y1, x2, y2, x3, y3, x4, y4);\n  },\n\n  lli: function (v1, v2) {\n    return utils.lli4(v1, v1.c, v2, v2.c);\n  },\n\n  makeline: function (p1, p2) {\n    return new Bezier(\n      p1.x,\n      p1.y,\n      (p1.x + p2.x) / 2,\n      (p1.y + p2.y) / 2,\n      p2.x,\n      p2.y\n    );\n  },\n\n  findbbox: function (sections) {\n    let mx = nMax,\n      my = nMax,\n      MX = nMin,\n      MY = nMin;\n    sections.forEach(function (s) {\n      const bbox = s.bbox();\n      if (mx > bbox.x.min) mx = bbox.x.min;\n      if (my > bbox.y.min) my = bbox.y.min;\n      if (MX < bbox.x.max) MX = bbox.x.max;\n      if (MY < bbox.y.max) MY = bbox.y.max;\n    });\n    return {\n      x: { min: mx, mid: (mx + MX) / 2, max: MX, size: MX - mx },\n      y: { min: my, mid: (my + MY) / 2, max: MY, size: MY - my },\n    };\n  },\n\n  shapeintersections: function (\n    s1,\n    bbox1,\n    s2,\n    bbox2,\n    curveIntersectionThreshold\n  ) {\n    if (!utils.bboxoverlap(bbox1, bbox2)) return [];\n    const intersections = [];\n    const a1 = [s1.startcap, s1.forward, s1.back, s1.endcap];\n    const a2 = [s2.startcap, s2.forward, s2.back, s2.endcap];\n    a1.forEach(function (l1) {\n      if (l1.virtual) return;\n      a2.forEach(function (l2) {\n        if (l2.virtual) return;\n        const iss = l1.intersects(l2, curveIntersectionThreshold);\n        if (iss.length > 0) {\n          iss.c1 = l1;\n          iss.c2 = l2;\n          iss.s1 = s1;\n          iss.s2 = s2;\n          intersections.push(iss);\n        }\n      });\n    });\n    return intersections;\n  },\n\n  makeshape: function (forward, back, curveIntersectionThreshold) {\n    const bpl = back.points.length;\n    const fpl = forward.points.length;\n    const start = utils.makeline(back.points[bpl - 1], forward.points[0]);\n    const end = utils.makeline(forward.points[fpl - 1], back.points[0]);\n    const shape = {\n      startcap: start,\n      forward: forward,\n      back: back,\n      endcap: end,\n      bbox: utils.findbbox([start, forward, back, end]),\n    };\n    shape.intersections = function (s2) {\n      return utils.shapeintersections(\n        shape,\n        shape.bbox,\n        s2,\n        s2.bbox,\n        curveIntersectionThreshold\n      );\n    };\n    return shape;\n  },\n\n  getminmax: function (curve, d, list) {\n    if (!list) return { min: 0, max: 0 };\n    let min = nMax,\n      max = nMin,\n      t,\n      c;\n    if (list.indexOf(0) === -1) {\n      list = [0].concat(list);\n    }\n    if (list.indexOf(1) === -1) {\n      list.push(1);\n    }\n    for (let i = 0, len = list.length; i < len; i++) {\n      t = list[i];\n      c = curve.get(t);\n      if (c[d] < min) {\n        min = c[d];\n      }\n      if (c[d] > max) {\n        max = c[d];\n      }\n    }\n    return { min: min, mid: (min + max) / 2, max: max, size: max - min };\n  },\n\n  align: function (points, line) {\n    const tx = line.p1.x,\n      ty = line.p1.y,\n      a = -atan2(line.p2.y - ty, line.p2.x - tx),\n      d = function (v) {\n        return {\n          x: (v.x - tx) * cos(a) - (v.y - ty) * sin(a),\n          y: (v.x - tx) * sin(a) + (v.y - ty) * cos(a),\n        };\n      };\n    return points.map(d);\n  },\n\n  roots: function (points, line) {\n    line = line || { p1: { x: 0, y: 0 }, p2: { x: 1, y: 0 } };\n\n    const order = points.length - 1;\n    const aligned = utils.align(points, line);\n    const reduce = function (t) {\n      return 0 <= t && t <= 1;\n    };\n\n    if (order === 2) {\n      const a = aligned[0].y,\n        b = aligned[1].y,\n        c = aligned[2].y,\n        d = a - 2 * b + c;\n      if (d !== 0) {\n        const m1 = -sqrt(b * b - a * c),\n          m2 = -a + b,\n          v1 = -(m1 + m2) / d,\n          v2 = -(-m1 + m2) / d;\n        return [v1, v2].filter(reduce);\n      } else if (b !== c && d === 0) {\n        return [(2 * b - c) / (2 * b - 2 * c)].filter(reduce);\n      }\n      return [];\n    }\n\n    // see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\n    const pa = aligned[0].y,\n      pb = aligned[1].y,\n      pc = aligned[2].y,\n      pd = aligned[3].y;\n\n    let d = -pa + 3 * pb - 3 * pc + pd,\n      a = 3 * pa - 6 * pb + 3 * pc,\n      b = -3 * pa + 3 * pb,\n      c = pa;\n\n    if (utils.approximately(d, 0)) {\n      // this is not a cubic curve.\n      if (utils.approximately(a, 0)) {\n        // in fact, this is not a quadratic curve either.\n        if (utils.approximately(b, 0)) {\n          // in fact in fact, there are no solutions.\n          return [];\n        }\n        // linear solution:\n        return [-c / b].filter(reduce);\n      }\n      // quadratic solution:\n      const q = sqrt(b * b - 4 * a * c),\n        a2 = 2 * a;\n      return [(q - b) / a2, (-b - q) / a2].filter(reduce);\n    }\n\n    // at this point, we know we need a cubic solution:\n\n    a /= d;\n    b /= d;\n    c /= d;\n\n    const p = (3 * b - a * a) / 3,\n      p3 = p / 3,\n      q = (2 * a * a * a - 9 * a * b + 27 * c) / 27,\n      q2 = q / 2,\n      discriminant = q2 * q2 + p3 * p3 * p3;\n\n    let u1, v1, x1, x2, x3;\n    if (discriminant < 0) {\n      const mp3 = -p / 3,\n        mp33 = mp3 * mp3 * mp3,\n        r = sqrt(mp33),\n        t = -q / (2 * r),\n        cosphi = t < -1 ? -1 : t > 1 ? 1 : t,\n        phi = acos(cosphi),\n        crtr = crt(r),\n        t1 = 2 * crtr;\n      x1 = t1 * cos(phi / 3) - a / 3;\n      x2 = t1 * cos((phi + tau) / 3) - a / 3;\n      x3 = t1 * cos((phi + 2 * tau) / 3) - a / 3;\n      return [x1, x2, x3].filter(reduce);\n    } else if (discriminant === 0) {\n      u1 = q2 < 0 ? crt(-q2) : -crt(q2);\n      x1 = 2 * u1 - a / 3;\n      x2 = -u1 - a / 3;\n      return [x1, x2].filter(reduce);\n    } else {\n      const sd = sqrt(discriminant);\n      u1 = crt(-q2 + sd);\n      v1 = crt(q2 + sd);\n      return [u1 - v1 - a / 3].filter(reduce);\n    }\n  },\n\n  droots: function (p) {\n    // quadratic roots are easy\n    if (p.length === 3) {\n      const a = p[0],\n        b = p[1],\n        c = p[2],\n        d = a - 2 * b + c;\n      if (d !== 0) {\n        const m1 = -sqrt(b * b - a * c),\n          m2 = -a + b,\n          v1 = -(m1 + m2) / d,\n          v2 = -(-m1 + m2) / d;\n        return [v1, v2];\n      } else if (b !== c && d === 0) {\n        return [(2 * b - c) / (2 * (b - c))];\n      }\n      return [];\n    }\n\n    // linear roots are even easier\n    if (p.length === 2) {\n      const a = p[0],\n        b = p[1];\n      if (a !== b) {\n        return [a / (a - b)];\n      }\n      return [];\n    }\n\n    return [];\n  },\n\n  curvature: function (t, d1, d2, _3d, kOnly) {\n    let num,\n      dnm,\n      adk,\n      dk,\n      k = 0,\n      r = 0;\n\n    //\n    // We're using the following formula for curvature:\n    //\n    //              x'y\" - y'x\"\n    //   k(t) = ------------------\n    //           (x'² + y'²)^(3/2)\n    //\n    // from https://en.wikipedia.org/wiki/Radius_of_curvature#Definition\n    //\n    // With it corresponding 3D counterpart:\n    //\n    //          sqrt( (y'z\" - y\"z')² + (z'x\" - z\"x')² + (x'y\" - x\"y')²)\n    //   k(t) = -------------------------------------------------------\n    //                     (x'² + y'² + z'²)^(3/2)\n    //\n\n    const d = utils.compute(t, d1);\n    const dd = utils.compute(t, d2);\n    const qdsum = d.x * d.x + d.y * d.y;\n\n    if (_3d) {\n      num = sqrt(\n        pow(d.y * dd.z - dd.y * d.z, 2) +\n          pow(d.z * dd.x - dd.z * d.x, 2) +\n          pow(d.x * dd.y - dd.x * d.y, 2)\n      );\n      dnm = pow(qdsum + d.z * d.z, 3 / 2);\n    } else {\n      num = d.x * dd.y - d.y * dd.x;\n      dnm = pow(qdsum, 3 / 2);\n    }\n\n    if (num === 0 || dnm === 0) {\n      return { k: 0, r: 0 };\n    }\n\n    k = num / dnm;\n    r = dnm / num;\n\n    // We're also computing the derivative of kappa, because\n    // there is value in knowing the rate of change for the\n    // curvature along the curve. And we're just going to\n    // ballpark it based on an epsilon.\n    if (!kOnly) {\n      // compute k'(t) based on the interval before, and after it,\n      // to at least try to not introduce forward/backward pass bias.\n      const pk = utils.curvature(t - 0.001, d1, d2, _3d, true).k;\n      const nk = utils.curvature(t + 0.001, d1, d2, _3d, true).k;\n      dk = (nk - k + (k - pk)) / 2;\n      adk = (abs(nk - k) + abs(k - pk)) / 2;\n    }\n\n    return { k: k, r: r, dk: dk, adk: adk };\n  },\n\n  inflections: function (points) {\n    if (points.length < 4) return [];\n\n    // FIXME: TODO: add in inflection abstraction for quartic+ curves?\n\n    const p = utils.align(points, { p1: points[0], p2: points.slice(-1)[0] }),\n      a = p[2].x * p[1].y,\n      b = p[3].x * p[1].y,\n      c = p[1].x * p[2].y,\n      d = p[3].x * p[2].y,\n      v1 = 18 * (-3 * a + 2 * b + 3 * c - d),\n      v2 = 18 * (3 * a - b - 3 * c),\n      v3 = 18 * (c - a);\n\n    if (utils.approximately(v1, 0)) {\n      if (!utils.approximately(v2, 0)) {\n        let t = -v3 / v2;\n        if (0 <= t && t <= 1) return [t];\n      }\n      return [];\n    }\n\n    const d2 = 2 * v1;\n\n    if (utils.approximately(d2, 0)) return [];\n\n    const trm = v2 * v2 - 4 * v1 * v3;\n\n    if (trm < 0) return [];\n\n    const sq = Math.sqrt(trm);\n\n    return [(sq - v2) / d2, -(v2 + sq) / d2].filter(function (r) {\n      return 0 <= r && r <= 1;\n    });\n  },\n\n  bboxoverlap: function (b1, b2) {\n    const dims = [\"x\", \"y\"],\n      len = dims.length;\n\n    for (let i = 0, dim, l, t, d; i < len; i++) {\n      dim = dims[i];\n      l = b1[dim].mid;\n      t = b2[dim].mid;\n      d = (b1[dim].size + b2[dim].size) / 2;\n      if (abs(l - t) >= d) return false;\n    }\n    return true;\n  },\n\n  expandbox: function (bbox, _bbox) {\n    if (_bbox.x.min < bbox.x.min) {\n      bbox.x.min = _bbox.x.min;\n    }\n    if (_bbox.y.min < bbox.y.min) {\n      bbox.y.min = _bbox.y.min;\n    }\n    if (_bbox.z && _bbox.z.min < bbox.z.min) {\n      bbox.z.min = _bbox.z.min;\n    }\n    if (_bbox.x.max > bbox.x.max) {\n      bbox.x.max = _bbox.x.max;\n    }\n    if (_bbox.y.max > bbox.y.max) {\n      bbox.y.max = _bbox.y.max;\n    }\n    if (_bbox.z && _bbox.z.max > bbox.z.max) {\n      bbox.z.max = _bbox.z.max;\n    }\n    bbox.x.mid = (bbox.x.min + bbox.x.max) / 2;\n    bbox.y.mid = (bbox.y.min + bbox.y.max) / 2;\n    if (bbox.z) {\n      bbox.z.mid = (bbox.z.min + bbox.z.max) / 2;\n    }\n    bbox.x.size = bbox.x.max - bbox.x.min;\n    bbox.y.size = bbox.y.max - bbox.y.min;\n    if (bbox.z) {\n      bbox.z.size = bbox.z.max - bbox.z.min;\n    }\n  },\n\n  pairiteration: function (c1, c2, curveIntersectionThreshold) {\n    const c1b = c1.bbox(),\n      c2b = c2.bbox(),\n      r = 100000,\n      threshold = curveIntersectionThreshold || 0.5;\n\n    if (\n      c1b.x.size + c1b.y.size < threshold &&\n      c2b.x.size + c2b.y.size < threshold\n    ) {\n      return [\n        (((r * (c1._t1 + c1._t2)) / 2) | 0) / r +\n          \"/\" +\n          (((r * (c2._t1 + c2._t2)) / 2) | 0) / r,\n      ];\n    }\n\n    let cc1 = c1.split(0.5),\n      cc2 = c2.split(0.5),\n      pairs = [\n        { left: cc1.left, right: cc2.left },\n        { left: cc1.left, right: cc2.right },\n        { left: cc1.right, right: cc2.right },\n        { left: cc1.right, right: cc2.left },\n      ];\n\n    pairs = pairs.filter(function (pair) {\n      return utils.bboxoverlap(pair.left.bbox(), pair.right.bbox());\n    });\n\n    let results = [];\n\n    if (pairs.length === 0) return results;\n\n    pairs.forEach(function (pair) {\n      results = results.concat(\n        utils.pairiteration(pair.left, pair.right, threshold)\n      );\n    });\n\n    results = results.filter(function (v, i) {\n      return results.indexOf(v) === i;\n    });\n\n    return results;\n  },\n\n  getccenter: function (p1, p2, p3) {\n    const dx1 = p2.x - p1.x,\n      dy1 = p2.y - p1.y,\n      dx2 = p3.x - p2.x,\n      dy2 = p3.y - p2.y,\n      dx1p = dx1 * cos(quart) - dy1 * sin(quart),\n      dy1p = dx1 * sin(quart) + dy1 * cos(quart),\n      dx2p = dx2 * cos(quart) - dy2 * sin(quart),\n      dy2p = dx2 * sin(quart) + dy2 * cos(quart),\n      // chord midpoints\n      mx1 = (p1.x + p2.x) / 2,\n      my1 = (p1.y + p2.y) / 2,\n      mx2 = (p2.x + p3.x) / 2,\n      my2 = (p2.y + p3.y) / 2,\n      // midpoint offsets\n      mx1n = mx1 + dx1p,\n      my1n = my1 + dy1p,\n      mx2n = mx2 + dx2p,\n      my2n = my2 + dy2p,\n      // intersection of these lines:\n      arc = utils.lli8(mx1, my1, mx1n, my1n, mx2, my2, mx2n, my2n),\n      r = utils.dist(arc, p1);\n\n    // arc start/end values, over mid point:\n    let s = atan2(p1.y - arc.y, p1.x - arc.x),\n      m = atan2(p2.y - arc.y, p2.x - arc.x),\n      e = atan2(p3.y - arc.y, p3.x - arc.x),\n      _;\n\n    // determine arc direction (cw/ccw correction)\n    if (s < e) {\n      // if s<m<e, arc(s, e)\n      // if m<s<e, arc(e, s + tau)\n      // if s<e<m, arc(e, s + tau)\n      if (s > m || m > e) {\n        s += tau;\n      }\n      if (s > e) {\n        _ = e;\n        e = s;\n        s = _;\n      }\n    } else {\n      // if e<m<s, arc(e, s)\n      // if m<e<s, arc(s, e + tau)\n      // if e<s<m, arc(s, e + tau)\n      if (e < m && m < s) {\n        _ = e;\n        e = s;\n        s = _;\n      } else {\n        e += tau;\n      }\n    }\n    // assign and done.\n    arc.s = s;\n    arc.e = e;\n    arc.r = r;\n    return arc;\n  },\n\n  numberSort: function (a, b) {\n    return a - b;\n  },\n};\n\nexport { utils };\n","import { utils } from \"./utils.js\";\n\n/**\n * Poly Bezier\n * @param {[type]} curves [description]\n */\nclass PolyBezier {\n  constructor(curves) {\n    this.curves = [];\n    this._3d = false;\n    if (!!curves) {\n      this.curves = curves;\n      this._3d = this.curves[0]._3d;\n    }\n  }\n\n  valueOf() {\n    return this.toString();\n  }\n\n  toString() {\n    return (\n      \"[\" +\n      this.curves\n        .map(function (curve) {\n          return utils.pointsToString(curve.points);\n        })\n        .join(\", \") +\n      \"]\"\n    );\n  }\n\n  addCurve(curve) {\n    this.curves.push(curve);\n    this._3d = this._3d || curve._3d;\n  }\n\n  length() {\n    return this.curves\n      .map(function (v) {\n        return v.length();\n      })\n      .reduce(function (a, b) {\n        return a + b;\n      });\n  }\n\n  curve(idx) {\n    return this.curves[idx];\n  }\n\n  bbox() {\n    const c = this.curves;\n    var bbox = c[0].bbox();\n    for (var i = 1; i < c.length; i++) {\n      utils.expandbox(bbox, c[i].bbox());\n    }\n    return bbox;\n  }\n\n  offset(d) {\n    const offset = [];\n    this.curves.forEach(function (v) {\n      offset.push(...v.offset(d));\n    });\n    return new PolyBezier(offset);\n  }\n}\n\nexport { PolyBezier };\n","/**\n  A javascript Bezier curve library by Pomax.\n\n  Based on http://pomax.github.io/bezierinfo\n\n  This code is MIT licensed.\n**/\n\nimport { utils } from \"./utils.js\";\nimport { PolyBezier } from \"./poly-bezier.js\";\n\n// math-inlining.\nconst { abs, min, max, cos, sin, acos, sqrt } = Math;\nconst pi = Math.PI;\n// a zero coordinate, which is surprisingly useful\nconst ZERO = { x: 0, y: 0, z: 0 };\n\n/**\n * Bezier curve constructor.\n *\n * ...docs pending...\n */\nclass Bezier {\n  constructor(coords) {\n    let args =\n      coords && coords.forEach ? coords : Array.from(arguments).slice();\n    let coordlen = false;\n\n    if (typeof args[0] === \"object\") {\n      coordlen = args.length;\n      const newargs = [];\n      args.forEach(function (point) {\n        [\"x\", \"y\", \"z\"].forEach(function (d) {\n          if (typeof point[d] !== \"undefined\") {\n            newargs.push(point[d]);\n          }\n        });\n      });\n      args = newargs;\n    }\n\n    let higher = false;\n    const len = args.length;\n\n    if (coordlen) {\n      if (coordlen > 4) {\n        if (arguments.length !== 1) {\n          throw new Error(\n            \"Only new Bezier(point[]) is accepted for 4th and higher order curves\"\n          );\n        }\n        higher = true;\n      }\n    } else {\n      if (len !== 6 && len !== 8 && len !== 9 && len !== 12) {\n        if (arguments.length !== 1) {\n          throw new Error(\n            \"Only new Bezier(point[]) is accepted for 4th and higher order curves\"\n          );\n        }\n      }\n    }\n\n    const _3d = (this._3d =\n      (!higher && (len === 9 || len === 12)) ||\n      (coords && coords[0] && typeof coords[0].z !== \"undefined\"));\n\n    const points = (this.points = []);\n    for (let idx = 0, step = _3d ? 3 : 2; idx < len; idx += step) {\n      var point = {\n        x: args[idx],\n        y: args[idx + 1],\n      };\n      if (_3d) {\n        point.z = args[idx + 2];\n      }\n      points.push(point);\n    }\n    const order = (this.order = points.length - 1);\n\n    const dims = (this.dims = [\"x\", \"y\"]);\n    if (_3d) dims.push(\"z\");\n    this.dimlen = dims.length;\n\n    // is this curve, practically speaking, a straight line?\n    const aligned = utils.align(points, { p1: points[0], p2: points[order] });\n    const baselength = utils.dist(points[0], points[order]);\n    this._linear = aligned.reduce((t, p) => t + abs(p.y), 0) < baselength / 50;\n\n    this._lut = [];\n    this._t1 = 0;\n    this._t2 = 1;\n    this.update();\n  }\n\n  static quadraticFromPoints(p1, p2, p3, t) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    // shortcuts, although they're really dumb\n    if (t === 0) {\n      return new Bezier(p2, p2, p3);\n    }\n    if (t === 1) {\n      return new Bezier(p1, p2, p2);\n    }\n    // real fitting.\n    const abc = Bezier.getABC(2, p1, p2, p3, t);\n    return new Bezier(p1, abc.A, p3);\n  }\n\n  static cubicFromPoints(S, B, E, t, d1) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    const abc = Bezier.getABC(3, S, B, E, t);\n    if (typeof d1 === \"undefined\") {\n      d1 = utils.dist(B, abc.C);\n    }\n    const d2 = (d1 * (1 - t)) / t;\n\n    const selen = utils.dist(S, E),\n      lx = (E.x - S.x) / selen,\n      ly = (E.y - S.y) / selen,\n      bx1 = d1 * lx,\n      by1 = d1 * ly,\n      bx2 = d2 * lx,\n      by2 = d2 * ly;\n    // derivation of new hull coordinates\n    const e1 = { x: B.x - bx1, y: B.y - by1 },\n      e2 = { x: B.x + bx2, y: B.y + by2 },\n      A = abc.A,\n      v1 = { x: A.x + (e1.x - A.x) / (1 - t), y: A.y + (e1.y - A.y) / (1 - t) },\n      v2 = { x: A.x + (e2.x - A.x) / t, y: A.y + (e2.y - A.y) / t },\n      nc1 = { x: S.x + (v1.x - S.x) / t, y: S.y + (v1.y - S.y) / t },\n      nc2 = {\n        x: E.x + (v2.x - E.x) / (1 - t),\n        y: E.y + (v2.y - E.y) / (1 - t),\n      };\n    // ...done\n    return new Bezier(S, nc1, nc2, E);\n  }\n\n  static getUtils() {\n    return utils;\n  }\n\n  getUtils() {\n    return Bezier.getUtils();\n  }\n\n  static get PolyBezier() {\n    return PolyBezier;\n  }\n\n  valueOf() {\n    return this.toString();\n  }\n\n  toString() {\n    return utils.pointsToString(this.points);\n  }\n\n  toSVG() {\n    if (this._3d) return false;\n    const p = this.points,\n      x = p[0].x,\n      y = p[0].y,\n      s = [\"M\", x, y, this.order === 2 ? \"Q\" : \"C\"];\n    for (let i = 1, last = p.length; i < last; i++) {\n      s.push(p[i].x);\n      s.push(p[i].y);\n    }\n    return s.join(\" \");\n  }\n\n  setRatios(ratios) {\n    if (ratios.length !== this.points.length) {\n      throw new Error(\"incorrect number of ratio values\");\n    }\n    this.ratios = ratios;\n    this._lut = []; //  invalidate any precomputed LUT\n  }\n\n  verify() {\n    const print = this.coordDigest();\n    if (print !== this._print) {\n      this._print = print;\n      this.update();\n    }\n  }\n\n  coordDigest() {\n    return this.points\n      .map(function (c, pos) {\n        return \"\" + pos + c.x + c.y + (c.z ? c.z : 0);\n      })\n      .join(\"\");\n  }\n\n  update() {\n    // invalidate any precomputed LUT\n    this._lut = [];\n    this.dpoints = utils.derive(this.points, this._3d);\n    this.computedirection();\n  }\n\n  computedirection() {\n    const points = this.points;\n    const angle = utils.angle(points[0], points[this.order], points[1]);\n    this.clockwise = angle > 0;\n  }\n\n  length() {\n    return utils.length(this.derivative.bind(this));\n  }\n\n  static getABC(order = 2, S, B, E, t = 0.5) {\n    const u = utils.projectionratio(t, order),\n      um = 1 - u,\n      C = {\n        x: u * S.x + um * E.x,\n        y: u * S.y + um * E.y,\n      },\n      s = utils.abcratio(t, order),\n      A = {\n        x: B.x + (B.x - C.x) / s,\n        y: B.y + (B.y - C.y) / s,\n      };\n    return { A, B, C, S, E };\n  }\n\n  getABC(t, B) {\n    B = B || this.get(t);\n    let S = this.points[0];\n    let E = this.points[this.order];\n    return Bezier.getABC(this.order, S, B, E, t);\n  }\n\n  getLUT(steps) {\n    this.verify();\n    steps = steps || 100;\n    if (this._lut.length === steps) {\n      return this._lut;\n    }\n    this._lut = [];\n    // n steps means n+1 points\n    steps++;\n    this._lut = [];\n    for (let i = 0, p, t; i < steps; i++) {\n      t = i / (steps - 1);\n      p = this.compute(t);\n      p.t = t;\n      this._lut.push(p);\n    }\n    return this._lut;\n  }\n\n  on(point, error) {\n    error = error || 5;\n    const lut = this.getLUT(),\n      hits = [];\n    for (let i = 0, c, t = 0; i < lut.length; i++) {\n      c = lut[i];\n      if (utils.dist(c, point) < error) {\n        hits.push(c);\n        t += i / lut.length;\n      }\n    }\n    if (!hits.length) return false;\n    return (t /= hits.length);\n  }\n\n  project(point) {\n    // step 1: coarse check\n    const LUT = this.getLUT(),\n      l = LUT.length - 1,\n      closest = utils.closest(LUT, point),\n      mpos = closest.mpos,\n      t1 = (mpos - 1) / l,\n      t2 = (mpos + 1) / l,\n      step = 0.1 / l;\n\n    // step 2: fine check\n    let mdist = closest.mdist,\n      t = t1,\n      ft = t,\n      p;\n    mdist += 1;\n    for (let d; t < t2 + step; t += step) {\n      p = this.compute(t);\n      d = utils.dist(point, p);\n      if (d < mdist) {\n        mdist = d;\n        ft = t;\n      }\n    }\n    ft = ft < 0 ? 0 : ft > 1 ? 1 : ft;\n    p = this.compute(ft);\n    p.t = ft;\n    p.d = mdist;\n    return p;\n  }\n\n  get(t) {\n    return this.compute(t);\n  }\n\n  point(idx) {\n    return this.points[idx];\n  }\n\n  compute(t) {\n    if (this.ratios) {\n      return utils.computeWithRatios(t, this.points, this.ratios, this._3d);\n    }\n    return utils.compute(t, this.points, this._3d, this.ratios);\n  }\n\n  raise() {\n    const p = this.points,\n      np = [p[0]],\n      k = p.length;\n    for (let i = 1, pi, pim; i < k; i++) {\n      pi = p[i];\n      pim = p[i - 1];\n      np[i] = {\n        x: ((k - i) / k) * pi.x + (i / k) * pim.x,\n        y: ((k - i) / k) * pi.y + (i / k) * pim.y,\n      };\n    }\n    np[k] = p[k - 1];\n    return new Bezier(np);\n  }\n\n  derivative(t) {\n    return utils.compute(t, this.dpoints[0], this._3d);\n  }\n\n  dderivative(t) {\n    return utils.compute(t, this.dpoints[1], this._3d);\n  }\n\n  align() {\n    let p = this.points;\n    return new Bezier(utils.align(p, { p1: p[0], p2: p[p.length - 1] }));\n  }\n\n  curvature(t) {\n    return utils.curvature(t, this.dpoints[0], this.dpoints[1], this._3d);\n  }\n\n  inflections() {\n    return utils.inflections(this.points);\n  }\n\n  normal(t) {\n    return this._3d ? this.__normal3(t) : this.__normal2(t);\n  }\n\n  __normal2(t) {\n    const d = this.derivative(t);\n    const q = sqrt(d.x * d.x + d.y * d.y);\n    return { t, x: -d.y / q, y: d.x / q };\n  }\n\n  __normal3(t) {\n    // see http://stackoverflow.com/questions/25453159\n    const r1 = this.derivative(t),\n      r2 = this.derivative(t + 0.01),\n      q1 = sqrt(r1.x * r1.x + r1.y * r1.y + r1.z * r1.z),\n      q2 = sqrt(r2.x * r2.x + r2.y * r2.y + r2.z * r2.z);\n    r1.x /= q1;\n    r1.y /= q1;\n    r1.z /= q1;\n    r2.x /= q2;\n    r2.y /= q2;\n    r2.z /= q2;\n    // cross product\n    const c = {\n      x: r2.y * r1.z - r2.z * r1.y,\n      y: r2.z * r1.x - r2.x * r1.z,\n      z: r2.x * r1.y - r2.y * r1.x,\n    };\n    const m = sqrt(c.x * c.x + c.y * c.y + c.z * c.z);\n    c.x /= m;\n    c.y /= m;\n    c.z /= m;\n    // rotation matrix\n    const R = [\n      c.x * c.x,\n      c.x * c.y - c.z,\n      c.x * c.z + c.y,\n      c.x * c.y + c.z,\n      c.y * c.y,\n      c.y * c.z - c.x,\n      c.x * c.z - c.y,\n      c.y * c.z + c.x,\n      c.z * c.z,\n    ];\n    // normal vector:\n    const n = {\n      t,\n      x: R[0] * r1.x + R[1] * r1.y + R[2] * r1.z,\n      y: R[3] * r1.x + R[4] * r1.y + R[5] * r1.z,\n      z: R[6] * r1.x + R[7] * r1.y + R[8] * r1.z,\n    };\n    return n;\n  }\n\n  hull(t) {\n    let p = this.points,\n      _p = [],\n      q = [],\n      idx = 0;\n    q[idx++] = p[0];\n    q[idx++] = p[1];\n    q[idx++] = p[2];\n    if (this.order === 3) {\n      q[idx++] = p[3];\n    }\n    // we lerp between all points at each iteration, until we have 1 point left.\n    while (p.length > 1) {\n      _p = [];\n      for (let i = 0, pt, l = p.length - 1; i < l; i++) {\n        pt = utils.lerp(t, p[i], p[i + 1]);\n        q[idx++] = pt;\n        _p.push(pt);\n      }\n      p = _p;\n    }\n    return q;\n  }\n\n  split(t1, t2) {\n    // shortcuts\n    if (t1 === 0 && !!t2) {\n      return this.split(t2).left;\n    }\n    if (t2 === 1) {\n      return this.split(t1).right;\n    }\n\n    // no shortcut: use \"de Casteljau\" iteration.\n    const q = this.hull(t1);\n    const result = {\n      left:\n        this.order === 2\n          ? new Bezier([q[0], q[3], q[5]])\n          : new Bezier([q[0], q[4], q[7], q[9]]),\n      right:\n        this.order === 2\n          ? new Bezier([q[5], q[4], q[2]])\n          : new Bezier([q[9], q[8], q[6], q[3]]),\n      span: q,\n    };\n\n    // make sure we bind _t1/_t2 information!\n    result.left._t1 = utils.map(0, 0, 1, this._t1, this._t2);\n    result.left._t2 = utils.map(t1, 0, 1, this._t1, this._t2);\n    result.right._t1 = utils.map(t1, 0, 1, this._t1, this._t2);\n    result.right._t2 = utils.map(1, 0, 1, this._t1, this._t2);\n\n    // if we have no t2, we're done\n    if (!t2) {\n      return result;\n    }\n\n    // if we have a t2, split again:\n    t2 = utils.map(t2, t1, 1, 0, 1);\n    return result.right.split(t2).left;\n  }\n\n  extrema() {\n    const result = {};\n    let roots = [];\n\n    this.dims.forEach(\n      function (dim) {\n        let mfn = function (v) {\n          return v[dim];\n        };\n        let p = this.dpoints[0].map(mfn);\n        result[dim] = utils.droots(p);\n        if (this.order === 3) {\n          p = this.dpoints[1].map(mfn);\n          result[dim] = result[dim].concat(utils.droots(p));\n        }\n        result[dim] = result[dim].filter(function (t) {\n          return t >= 0 && t <= 1;\n        });\n        roots = roots.concat(result[dim].sort(utils.numberSort));\n      }.bind(this)\n    );\n\n    result.values = roots.sort(utils.numberSort).filter(function (v, idx) {\n      return roots.indexOf(v) === idx;\n    });\n\n    return result;\n  }\n\n  bbox() {\n    const extrema = this.extrema(),\n      result = {};\n    this.dims.forEach(\n      function (d) {\n        result[d] = utils.getminmax(this, d, extrema[d]);\n      }.bind(this)\n    );\n    return result;\n  }\n\n  overlaps(curve) {\n    const lbbox = this.bbox(),\n      tbbox = curve.bbox();\n    return utils.bboxoverlap(lbbox, tbbox);\n  }\n\n  offset(t, d) {\n    if (typeof d !== \"undefined\") {\n      const c = this.get(t),\n        n = this.normal(t);\n      const ret = {\n        c: c,\n        n: n,\n        x: c.x + n.x * d,\n        y: c.y + n.y * d,\n      };\n      if (this._3d) {\n        ret.z = c.z + n.z * d;\n      }\n      return ret;\n    }\n    if (this._linear) {\n      const nv = this.normal(0),\n        coords = this.points.map(function (p) {\n          const ret = {\n            x: p.x + t * nv.x,\n            y: p.y + t * nv.y,\n          };\n          if (p.z && nv.z) {\n            ret.z = p.z + t * nv.z;\n          }\n          return ret;\n        });\n      return [new Bezier(coords)];\n    }\n    return this.reduce().map(function (s) {\n      if (s._linear) {\n        return s.offset(t)[0];\n      }\n      return s.scale(t);\n    });\n  }\n\n  simple() {\n    if (this.order === 3) {\n      const a1 = utils.angle(this.points[0], this.points[3], this.points[1]);\n      const a2 = utils.angle(this.points[0], this.points[3], this.points[2]);\n      if ((a1 > 0 && a2 < 0) || (a1 < 0 && a2 > 0)) return false;\n    }\n    const n1 = this.normal(0);\n    const n2 = this.normal(1);\n    let s = n1.x * n2.x + n1.y * n2.y;\n    if (this._3d) {\n      s += n1.z * n2.z;\n    }\n    return abs(acos(s)) < pi / 3;\n  }\n\n  reduce() {\n    // TODO: examine these var types in more detail...\n    let i,\n      t1 = 0,\n      t2 = 0,\n      step = 0.01,\n      segment,\n      pass1 = [],\n      pass2 = [];\n    // first pass: split on extrema\n    let extrema = this.extrema().values;\n    if (extrema.indexOf(0) === -1) {\n      extrema = [0].concat(extrema);\n    }\n    if (extrema.indexOf(1) === -1) {\n      extrema.push(1);\n    }\n\n    for (t1 = extrema[0], i = 1; i < extrema.length; i++) {\n      t2 = extrema[i];\n      segment = this.split(t1, t2);\n      segment._t1 = t1;\n      segment._t2 = t2;\n      pass1.push(segment);\n      t1 = t2;\n    }\n\n    // second pass: further reduce these segments to simple segments\n    pass1.forEach(function (p1) {\n      t1 = 0;\n      t2 = 0;\n      while (t2 <= 1) {\n        for (t2 = t1 + step; t2 <= 1 + step; t2 += step) {\n          segment = p1.split(t1, t2);\n          if (!segment.simple()) {\n            t2 -= step;\n            if (abs(t1 - t2) < step) {\n              // we can never form a reduction\n              return [];\n            }\n            segment = p1.split(t1, t2);\n            segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n            segment._t2 = utils.map(t2, 0, 1, p1._t1, p1._t2);\n            pass2.push(segment);\n            t1 = t2;\n            break;\n          }\n        }\n      }\n      if (t1 < 1) {\n        segment = p1.split(t1, 1);\n        segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n        segment._t2 = p1._t2;\n        pass2.push(segment);\n      }\n    });\n    return pass2;\n  }\n\n  translate(v, d1, d2) {\n    d2 = typeof d2 === \"number\" ? d2 : d1;\n\n    // TODO: make this take curves with control points outside\n    //       of the start-end interval into account\n\n    const o = this.order;\n    let d = this.points.map((_, i) => (1 - i / o) * d1 + (i / o) * d2);\n    return new Bezier(\n      this.points.map((p, i) => ({\n        x: p.x + v.x * d[i],\n        y: p.y + v.y * d[i],\n      }))\n    );\n  }\n\n  scale(d) {\n    const order = this.order;\n    let distanceFn = false;\n    if (typeof d === \"function\") {\n      distanceFn = d;\n    }\n    if (distanceFn && order === 2) {\n      return this.raise().scale(distanceFn);\n    }\n\n    // TODO: add special handling for non-linear degenerate curves.\n\n    const clockwise = this.clockwise;\n    const points = this.points;\n\n    if (this._linear) {\n      return this.translate(\n        this.normal(0),\n        distanceFn ? distanceFn(0) : d,\n        distanceFn ? distanceFn(1) : d\n      );\n    }\n\n    const r1 = distanceFn ? distanceFn(0) : d;\n    const r2 = distanceFn ? distanceFn(1) : d;\n    const v = [this.offset(0, 10), this.offset(1, 10)];\n    const np = [];\n    const o = utils.lli4(v[0], v[0].c, v[1], v[1].c);\n\n    if (!o) {\n      throw new Error(\"cannot scale this curve. Try reducing it first.\");\n    }\n\n    // move all points by distance 'd' wrt the origin 'o',\n    // and move end points by fixed distance along normal.\n    [0, 1].forEach(function (t) {\n      const p = (np[t * order] = utils.copy(points[t * order]));\n      p.x += (t ? r2 : r1) * v[t].n.x;\n      p.y += (t ? r2 : r1) * v[t].n.y;\n    });\n\n    if (!distanceFn) {\n      // move control points to lie on the intersection of the offset\n      // derivative vector, and the origin-through-control vector\n      [0, 1].forEach((t) => {\n        if (order === 2 && !!t) return;\n        const p = np[t * order];\n        const d = this.derivative(t);\n        const p2 = { x: p.x + d.x, y: p.y + d.y };\n        np[t + 1] = utils.lli4(p, p2, o, points[t + 1]);\n      });\n      return new Bezier(np);\n    }\n\n    // move control points by \"however much necessary to\n    // ensure the correct tangent to endpoint\".\n    [0, 1].forEach(function (t) {\n      if (order === 2 && !!t) return;\n      var p = points[t + 1];\n      var ov = {\n        x: p.x - o.x,\n        y: p.y - o.y,\n      };\n      var rc = distanceFn ? distanceFn((t + 1) / order) : d;\n      if (distanceFn && !clockwise) rc = -rc;\n      var m = sqrt(ov.x * ov.x + ov.y * ov.y);\n      ov.x /= m;\n      ov.y /= m;\n      np[t + 1] = {\n        x: p.x + rc * ov.x,\n        y: p.y + rc * ov.y,\n      };\n    });\n    return new Bezier(np);\n  }\n\n  outline(d1, d2, d3, d4) {\n    d2 = d2 === undefined ? d1 : d2;\n\n    if (this._linear) {\n      // TODO: find the actual extrema, because they might\n      //       be before the start, or past the end.\n\n      const n = this.normal(0);\n      const start = this.points[0];\n      const end = this.points[this.points.length - 1];\n      let s, mid, e;\n\n      if (d3 === undefined) {\n        d3 = d1;\n        d4 = d2;\n      }\n\n      s = { x: start.x + n.x * d1, y: start.y + n.y * d1 };\n      e = { x: end.x + n.x * d3, y: end.y + n.y * d3 };\n      mid = { x: (s.x + e.x) / 2, y: (s.y + e.y) / 2 };\n      const fline = [s, mid, e];\n\n      s = { x: start.x - n.x * d2, y: start.y - n.y * d2 };\n      e = { x: end.x - n.x * d4, y: end.y - n.y * d4 };\n      mid = { x: (s.x + e.x) / 2, y: (s.y + e.y) / 2 };\n      const bline = [e, mid, s];\n\n      const ls = utils.makeline(bline[2], fline[0]);\n      const le = utils.makeline(fline[2], bline[0]);\n      const segments = [ls, new Bezier(fline), le, new Bezier(bline)];\n      return new PolyBezier(segments);\n    }\n\n    const reduced = this.reduce(),\n      len = reduced.length,\n      fcurves = [];\n\n    let bcurves = [],\n      p,\n      alen = 0,\n      tlen = this.length();\n\n    const graduated = typeof d3 !== \"undefined\" && typeof d4 !== \"undefined\";\n\n    function linearDistanceFunction(s, e, tlen, alen, slen) {\n      return function (v) {\n        const f1 = alen / tlen,\n          f2 = (alen + slen) / tlen,\n          d = e - s;\n        return utils.map(v, 0, 1, s + f1 * d, s + f2 * d);\n      };\n    }\n\n    // form curve oulines\n    reduced.forEach(function (segment) {\n      const slen = segment.length();\n      if (graduated) {\n        fcurves.push(\n          segment.scale(linearDistanceFunction(d1, d3, tlen, alen, slen))\n        );\n        bcurves.push(\n          segment.scale(linearDistanceFunction(-d2, -d4, tlen, alen, slen))\n        );\n      } else {\n        fcurves.push(segment.scale(d1));\n        bcurves.push(segment.scale(-d2));\n      }\n      alen += slen;\n    });\n\n    // reverse the \"return\" outline\n    bcurves = bcurves\n      .map(function (s) {\n        p = s.points;\n        if (p[3]) {\n          s.points = [p[3], p[2], p[1], p[0]];\n        } else {\n          s.points = [p[2], p[1], p[0]];\n        }\n        return s;\n      })\n      .reverse();\n\n    // form the endcaps as lines\n    const fs = fcurves[0].points[0],\n      fe = fcurves[len - 1].points[fcurves[len - 1].points.length - 1],\n      bs = bcurves[len - 1].points[bcurves[len - 1].points.length - 1],\n      be = bcurves[0].points[0],\n      ls = utils.makeline(bs, fs),\n      le = utils.makeline(fe, be),\n      segments = [ls].concat(fcurves).concat([le]).concat(bcurves);\n\n    return new PolyBezier(segments);\n  }\n\n  outlineshapes(d1, d2, curveIntersectionThreshold) {\n    d2 = d2 || d1;\n    const outline = this.outline(d1, d2).curves;\n    const shapes = [];\n    for (let i = 1, len = outline.length; i < len / 2; i++) {\n      const shape = utils.makeshape(\n        outline[i],\n        outline[len - i],\n        curveIntersectionThreshold\n      );\n      shape.startcap.virtual = i > 1;\n      shape.endcap.virtual = i < len / 2 - 1;\n      shapes.push(shape);\n    }\n    return shapes;\n  }\n\n  intersects(curve, curveIntersectionThreshold) {\n    if (!curve) return this.selfintersects(curveIntersectionThreshold);\n    if (curve.p1 && curve.p2) {\n      return this.lineIntersects(curve);\n    }\n    if (curve instanceof Bezier) {\n      curve = curve.reduce();\n    }\n    return this.curveintersects(\n      this.reduce(),\n      curve,\n      curveIntersectionThreshold\n    );\n  }\n\n  lineIntersects(line) {\n    const mx = min(line.p1.x, line.p2.x),\n      my = min(line.p1.y, line.p2.y),\n      MX = max(line.p1.x, line.p2.x),\n      MY = max(line.p1.y, line.p2.y);\n    return utils.roots(this.points, line).filter((t) => {\n      var p = this.get(t);\n      return utils.between(p.x, mx, MX) && utils.between(p.y, my, MY);\n    });\n  }\n\n  selfintersects(curveIntersectionThreshold) {\n    // \"simple\" curves cannot intersect with their direct\n    // neighbour, so for each segment X we check whether\n    // it intersects [0:x-2][x+2:last].\n\n    const reduced = this.reduce(),\n      len = reduced.length - 2,\n      results = [];\n\n    for (let i = 0, result, left, right; i < len; i++) {\n      left = reduced.slice(i, i + 1);\n      right = reduced.slice(i + 2);\n      result = this.curveintersects(left, right, curveIntersectionThreshold);\n      results.push(...result);\n    }\n    return results;\n  }\n\n  curveintersects(c1, c2, curveIntersectionThreshold) {\n    const pairs = [];\n    // step 1: pair off any overlapping segments\n    c1.forEach(function (l) {\n      c2.forEach(function (r) {\n        if (l.overlaps(r)) {\n          pairs.push({ left: l, right: r });\n        }\n      });\n    });\n    // step 2: for each pairing, run through the convergence algorithm.\n    let intersections = [];\n    pairs.forEach(function (pair) {\n      const result = utils.pairiteration(\n        pair.left,\n        pair.right,\n        curveIntersectionThreshold\n      );\n      if (result.length > 0) {\n        intersections = intersections.concat(result);\n      }\n    });\n    return intersections;\n  }\n\n  arcs(errorThreshold) {\n    errorThreshold = errorThreshold || 0.5;\n    return this._iterate(errorThreshold, []);\n  }\n\n  _error(pc, np1, s, e) {\n    const q = (e - s) / 4,\n      c1 = this.get(s + q),\n      c2 = this.get(e - q),\n      ref = utils.dist(pc, np1),\n      d1 = utils.dist(pc, c1),\n      d2 = utils.dist(pc, c2);\n    return abs(d1 - ref) + abs(d2 - ref);\n  }\n\n  _iterate(errorThreshold, circles) {\n    let t_s = 0,\n      t_e = 1,\n      safety;\n    // we do a binary search to find the \"good `t` closest to no-longer-good\"\n    do {\n      safety = 0;\n\n      // step 1: start with the maximum possible arc\n      t_e = 1;\n\n      // points:\n      let np1 = this.get(t_s),\n        np2,\n        np3,\n        arc,\n        prev_arc;\n\n      // booleans:\n      let curr_good = false,\n        prev_good = false,\n        done;\n\n      // numbers:\n      let t_m = t_e,\n        prev_e = 1,\n        step = 0;\n\n      // step 2: find the best possible arc\n      do {\n        prev_good = curr_good;\n        prev_arc = arc;\n        t_m = (t_s + t_e) / 2;\n        step++;\n\n        np2 = this.get(t_m);\n        np3 = this.get(t_e);\n\n        arc = utils.getccenter(np1, np2, np3);\n\n        //also save the t values\n        arc.interval = {\n          start: t_s,\n          end: t_e,\n        };\n\n        let error = this._error(arc, np1, t_s, t_e);\n        curr_good = error <= errorThreshold;\n\n        done = prev_good && !curr_good;\n        if (!done) prev_e = t_e;\n\n        // this arc is fine: we can move 'e' up to see if we can find a wider arc\n        if (curr_good) {\n          // if e is already at max, then we're done for this arc.\n          if (t_e >= 1) {\n            // make sure we cap at t=1\n            arc.interval.end = prev_e = 1;\n            prev_arc = arc;\n            // if we capped the arc segment to t=1 we also need to make sure that\n            // the arc's end angle is correct with respect to the bezier end point.\n            if (t_e > 1) {\n              let d = {\n                x: arc.x + arc.r * cos(arc.e),\n                y: arc.y + arc.r * sin(arc.e),\n              };\n              arc.e += utils.angle({ x: arc.x, y: arc.y }, d, this.get(1));\n            }\n            break;\n          }\n          // if not, move it up by half the iteration distance\n          t_e = t_e + (t_e - t_s) / 2;\n        } else {\n          // this is a bad arc: we need to move 'e' down to find a good arc\n          t_e = t_m;\n        }\n      } while (!done && safety++ < 100);\n\n      if (safety >= 100) {\n        break;\n      }\n\n      // console.log(\"L835: [F] arc found\", t_s, prev_e, prev_arc.x, prev_arc.y, prev_arc.s, prev_arc.e);\n\n      prev_arc = prev_arc ? prev_arc : arc;\n      circles.push(prev_arc);\n      t_s = prev_e;\n    } while (t_e < 1);\n    return circles;\n  }\n}\n\nexport { Bezier };\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar index = (function () {\n  var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var keyAccessors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var multiItem = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var flattenKeys = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var keys = (keyAccessors instanceof Array ? keyAccessors.length ? keyAccessors : [undefined] : [keyAccessors]).map(function (key) {\n    return {\n      keyAccessor: key,\n      isProp: !(key instanceof Function)\n    };\n  });\n  var indexedResult = list.reduce(function (res, item) {\n    var iterObj = res;\n    var itemVal = item;\n    keys.forEach(function (_ref, idx) {\n      var keyAccessor = _ref.keyAccessor,\n          isProp = _ref.isProp;\n      var key;\n\n      if (isProp) {\n        var _itemVal = itemVal,\n            propVal = _itemVal[keyAccessor],\n            rest = _objectWithoutProperties(_itemVal, [keyAccessor].map(_toPropertyKey));\n\n        key = propVal;\n        itemVal = rest;\n      } else {\n        key = keyAccessor(itemVal, idx);\n      }\n\n      if (idx + 1 < keys.length) {\n        if (!iterObj.hasOwnProperty(key)) {\n          iterObj[key] = {};\n        }\n\n        iterObj = iterObj[key];\n      } else {\n        // Leaf key\n        if (multiItem) {\n          if (!iterObj.hasOwnProperty(key)) {\n            iterObj[key] = [];\n          }\n\n          iterObj[key].push(itemVal);\n        } else {\n          iterObj[key] = itemVal;\n        }\n      }\n    });\n    return res;\n  }, {});\n\n  if (multiItem instanceof Function) {\n    // Reduce leaf multiple values\n    (function reduce(node) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if (level === keys.length) {\n        Object.keys(node).forEach(function (k) {\n          return node[k] = multiItem(node[k]);\n        });\n      } else {\n        Object.values(node).forEach(function (child) {\n          return reduce(child, level + 1);\n        });\n      }\n    })(indexedResult); // IIFE\n\n  }\n\n  var result = indexedResult;\n\n  if (flattenKeys) {\n    // flatten into array\n    result = [];\n\n    (function flatten(node) {\n      var accKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      if (accKeys.length === keys.length) {\n        result.push({\n          keys: accKeys,\n          vals: node\n        });\n      } else {\n        Object.entries(node).forEach(function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 2),\n              key = _ref3[0],\n              val = _ref3[1];\n\n          return flatten(val, [].concat(_toConsumableArray(accKeys), [key]));\n        });\n      }\n    })(indexedResult); //IIFE\n\n\n    if (keyAccessors instanceof Array && keyAccessors.length === 0 && result.length === 1) {\n      // clear keys if there's no key accessors (single result)\n      result[0].keys = [];\n    }\n  }\n\n  return result;\n});\n\nexport default index;\n","import { select } from 'd3-selection';\nimport { zoomTransform, zoom } from 'd3-zoom';\nimport { drag } from 'd3-drag';\nimport { min, max } from 'd3-array';\nimport throttle from 'lodash.throttle';\nimport TWEEN from '@tweenjs/tween.js';\nimport Kapsule from 'kapsule';\nimport accessorFn from 'accessor-fn';\nimport ColorTracker from 'canvas-color-tracker';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceRadial } from 'd3-force-3d';\nimport { Bezier } from 'bezier-js';\nimport indexBy from 'index-array-by';\nimport { scaleOrdinal } from 'd3-scale';\nimport { schemePaired } from 'd3-scale-chromatic';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".force-graph-container canvas {\\n  display: block;\\n  user-select: none;\\n  outline: none;\\n  -webkit-tap-highlight-color: transparent;\\n}\\n\\n.force-graph-container .graph-tooltip {\\n  position: absolute;\\n  top: 0;\\n  transform: translate(-50%, 25px);\\n  font-family: sans-serif;\\n  font-size: 16px;\\n  padding: 4px;\\n  border-radius: 3px;\\n  color: #eee;\\n  background: rgba(0,0,0,0.65);\\n  visibility: hidden; /* by default */\\n}\\n\\n.force-graph-container .clickable {\\n  cursor: pointer;\\n}\\n\\n.force-graph-container .grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.force-graph-container .grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\";\nstyleInject(css_248z);\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar autoColorScale = scaleOrdinal(schemePaired); // Autoset attribute colorField by colorByAccessor property\n// If an object has already a color, don't set it\n// Objects can be nodes or links\n\nfunction autoColorObjects(objects, colorByAccessor, colorField) {\n  if (!colorByAccessor || typeof colorField !== 'string') return;\n  objects.filter(function (obj) {\n    return !obj[colorField];\n  }).forEach(function (obj) {\n    obj[colorField] = autoColorScale(colorByAccessor(obj));\n  });\n}\n\nfunction getDagDepths (_ref, idAccessor) {\n  var nodes = _ref.nodes,\n      links = _ref.links;\n\n  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref2$nodeFilter = _ref2.nodeFilter,\n      nodeFilter = _ref2$nodeFilter === void 0 ? function () {\n    return true;\n  } : _ref2$nodeFilter,\n      _ref2$onLoopError = _ref2.onLoopError,\n      onLoopError = _ref2$onLoopError === void 0 ? function (loopIds) {\n    throw \"Invalid DAG structure! Found cycle in node path: \".concat(loopIds.join(' -> '), \".\");\n  } : _ref2$onLoopError;\n\n  // linked graph\n  var graph = {};\n  nodes.forEach(function (node) {\n    return graph[idAccessor(node)] = {\n      data: node,\n      out: [],\n      depth: -1,\n      skip: !nodeFilter(node)\n    };\n  });\n  links.forEach(function (_ref3) {\n    var source = _ref3.source,\n        target = _ref3.target;\n    var sourceId = getNodeId(source);\n    var targetId = getNodeId(target);\n    if (!graph.hasOwnProperty(sourceId)) throw \"Missing source node with id: \".concat(sourceId);\n    if (!graph.hasOwnProperty(targetId)) throw \"Missing target node with id: \".concat(targetId);\n    var sourceNode = graph[sourceId];\n    var targetNode = graph[targetId];\n    sourceNode.out.push(targetNode);\n\n    function getNodeId(node) {\n      return _typeof(node) === 'object' ? idAccessor(node) : node;\n    }\n  });\n  var foundLoops = [];\n  traverse(Object.values(graph));\n  var nodeDepths = Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(graph).filter(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        node = _ref5[1];\n\n    return !node.skip;\n  }).map(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n        id = _ref7[0],\n        node = _ref7[1];\n\n    return _defineProperty({}, id, node.depth);\n  }))));\n  return nodeDepths;\n\n  function traverse(nodes) {\n    var nodeStack = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var currentDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    for (var i = 0, l = nodes.length; i < l; i++) {\n      var node = nodes[i];\n\n      if (nodeStack.indexOf(node) !== -1) {\n        var _ret = function () {\n          var loop = [].concat(_toConsumableArray(nodeStack.slice(nodeStack.indexOf(node))), [node]).map(function (d) {\n            return idAccessor(d.data);\n          });\n\n          if (!foundLoops.some(function (foundLoop) {\n            return foundLoop.length === loop.length && foundLoop.every(function (id, idx) {\n              return id === loop[idx];\n            });\n          })) {\n            foundLoops.push(loop);\n            onLoopError(loop);\n          }\n\n          return \"continue\";\n        }();\n\n        if (_ret === \"continue\") continue;\n      }\n\n      if (currentDepth > node.depth) {\n        // Don't unnecessarily revisit chunks of the graph\n        node.depth = currentDepth;\n        traverse(node.out, [].concat(_toConsumableArray(nodeStack), [node]), currentDepth + (node.skip ? 0 : 1));\n      }\n    }\n  }\n}\n\nvar DAG_LEVEL_NODE_RATIO = 2; // whenever styling props are changed that require a canvas redraw\n\nvar notifyRedraw = function notifyRedraw(_, state) {\n  return state.onNeedsRedraw && state.onNeedsRedraw();\n};\n\nvar CanvasForceGraph = Kapsule({\n  props: {\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(_, state) {\n        state.engineRunning = false;\n      } // Pause simulation\n\n    },\n    dagMode: {\n      onChange: function onChange(dagMode, state) {\n        // td, bu, lr, rl, radialin, radialout\n        !dagMode && (state.graphData.nodes || []).forEach(function (n) {\n          return n.fx = n.fy = undefined;\n        }); // unfix nodes when disabling dag mode\n      }\n    },\n    dagLevelDistance: {},\n    dagNodeFilter: {\n      \"default\": function _default(node) {\n        return true;\n      }\n    },\n    onDagError: {\n      triggerUpdate: false\n    },\n    nodeRelSize: {\n      \"default\": 4,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    // area per val unit\n    nodeId: {\n      \"default\": 'id'\n    },\n    nodeVal: {\n      \"default\": 'val',\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeColor: {\n      \"default\": 'color',\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeAutoColorBy: {},\n    nodeCanvasObject: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeCanvasObjectMode: {\n      \"default\": function _default() {\n        return 'replace';\n      },\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeVisibility: {\n      \"default\": true,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkSource: {\n      \"default\": 'source'\n    },\n    linkTarget: {\n      \"default\": 'target'\n    },\n    linkVisibility: {\n      \"default\": true,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkColor: {\n      \"default\": 'color',\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkAutoColorBy: {},\n    linkLineDash: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkWidth: {\n      \"default\": 1,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkCurvature: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkCanvasObject: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkCanvasObjectMode: {\n      \"default\": function _default() {\n        return 'replace';\n      },\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkDirectionalArrowLength: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkDirectionalArrowColor: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkDirectionalArrowRelPos: {\n      \"default\": 0.5,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    // value between 0<>1 indicating the relative pos along the (exposed) line\n    linkDirectionalParticles: {\n      \"default\": 0\n    },\n    // animate photons travelling in the link direction\n    linkDirectionalParticleSpeed: {\n      \"default\": 0.01,\n      triggerUpdate: false\n    },\n    // in link length ratio per frame\n    linkDirectionalParticleWidth: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    linkDirectionalParticleColor: {\n      triggerUpdate: false\n    },\n    globalScale: {\n      \"default\": 1,\n      triggerUpdate: false\n    },\n    d3AlphaMin: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    d3AlphaDecay: {\n      \"default\": 0.0228,\n      triggerUpdate: false,\n      onChange: function onChange(alphaDecay, state) {\n        state.forceLayout.alphaDecay(alphaDecay);\n      }\n    },\n    d3AlphaTarget: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: function onChange(alphaTarget, state) {\n        state.forceLayout.alphaTarget(alphaTarget);\n      }\n    },\n    d3VelocityDecay: {\n      \"default\": 0.4,\n      triggerUpdate: false,\n      onChange: function onChange(velocityDecay, state) {\n        state.forceLayout.velocityDecay(velocityDecay);\n      }\n    },\n    warmupTicks: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // how many times to tick the force engine at init before starting to render\n    cooldownTicks: {\n      \"default\": Infinity,\n      triggerUpdate: false\n    },\n    cooldownTime: {\n      \"default\": 15000,\n      triggerUpdate: false\n    },\n    // ms\n    onUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onFinishUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineTick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineStop: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNeedsRedraw: {\n      triggerUpdate: false\n    },\n    isShadow: {\n      \"default\": false,\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    // Expose d3 forces for external manipulation\n    d3Force: function d3Force(state, forceName, forceFn) {\n      if (forceFn === undefined) {\n        return state.forceLayout.force(forceName); // Force getter\n      }\n\n      state.forceLayout.force(forceName, forceFn); // Force setter\n\n      return this;\n    },\n    d3ReheatSimulation: function d3ReheatSimulation(state) {\n      state.forceLayout.alpha(1);\n      this.resetCountdown();\n      return this;\n    },\n    // reset cooldown state\n    resetCountdown: function resetCountdown(state) {\n      state.cntTicks = 0;\n      state.startTickTime = new Date();\n      state.engineRunning = true;\n      return this;\n    },\n    isEngineRunning: function isEngineRunning(state) {\n      return !!state.engineRunning;\n    },\n    tickFrame: function tickFrame(state) {\n      !state.isShadow && layoutTick();\n      paintLinks();\n      !state.isShadow && paintArrows();\n      !state.isShadow && paintPhotons();\n      paintNodes();\n      return this; //\n\n      function layoutTick() {\n        if (state.engineRunning) {\n          if (++state.cntTicks > state.cooldownTicks || new Date() - state.startTickTime > state.cooldownTime || state.d3AlphaMin > 0 && state.forceLayout.alpha() < state.d3AlphaMin) {\n            state.engineRunning = false; // Stop ticking graph\n\n            state.onEngineStop();\n          } else {\n            state.forceLayout.tick(); // Tick it\n\n            state.onEngineTick();\n          }\n        }\n      }\n\n      function paintNodes() {\n        var getVisibility = accessorFn(state.nodeVisibility);\n        var getVal = accessorFn(state.nodeVal);\n        var getColor = accessorFn(state.nodeColor);\n        var getNodeCanvasObjectMode = accessorFn(state.nodeCanvasObjectMode);\n        var ctx = state.ctx; // Draw wider nodes by 1px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n        var padAmount = state.isShadow / state.globalScale;\n        var visibleNodes = state.graphData.nodes.filter(getVisibility);\n        ctx.save();\n        visibleNodes.forEach(function (node) {\n          var nodeCanvasObjectMode = getNodeCanvasObjectMode(node);\n\n          if (state.nodeCanvasObject && (nodeCanvasObjectMode === 'before' || nodeCanvasObjectMode === 'replace')) {\n            // Custom node before/replace paint\n            state.nodeCanvasObject(node, ctx, state.globalScale);\n\n            if (nodeCanvasObjectMode === 'replace') {\n              ctx.restore();\n              return;\n            }\n          } // Draw wider nodes by 1px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n\n          var r = Math.sqrt(Math.max(0, getVal(node) || 1)) * state.nodeRelSize + padAmount;\n          ctx.beginPath();\n          ctx.arc(node.x, node.y, r, 0, 2 * Math.PI, false);\n          ctx.fillStyle = getColor(node) || 'rgba(31, 120, 180, 0.92)';\n          ctx.fill();\n\n          if (state.nodeCanvasObject && nodeCanvasObjectMode === 'after') {\n            // Custom node after paint\n            state.nodeCanvasObject(node, state.ctx, state.globalScale);\n          }\n        });\n        ctx.restore();\n      }\n\n      function paintLinks() {\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkColor);\n        var getWidth = accessorFn(state.linkWidth);\n        var getLineDash = accessorFn(state.linkLineDash);\n        var getCurvature = accessorFn(state.linkCurvature);\n        var getLinkCanvasObjectMode = accessorFn(state.linkCanvasObjectMode);\n        var ctx = state.ctx; // Draw wider lines by 2px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n        var padAmount = state.isShadow * 2;\n        var visibleLinks = state.graphData.links.filter(getVisibility);\n        visibleLinks.forEach(calcLinkControlPoints); // calculate curvature control points for all visible links\n\n        var beforeCustomLinks = [],\n            afterCustomLinks = [],\n            defaultPaintLinks = visibleLinks;\n\n        if (state.linkCanvasObject) {\n          var replaceCustomLinks = [],\n              otherCustomLinks = [];\n          visibleLinks.forEach(function (d) {\n            return ({\n              before: beforeCustomLinks,\n              after: afterCustomLinks,\n              replace: replaceCustomLinks\n            }[getLinkCanvasObjectMode(d)] || otherCustomLinks).push(d);\n          });\n          defaultPaintLinks = [].concat(_toConsumableArray(beforeCustomLinks), afterCustomLinks, otherCustomLinks);\n          beforeCustomLinks = beforeCustomLinks.concat(replaceCustomLinks);\n        } // Custom link before paints\n\n\n        ctx.save();\n        beforeCustomLinks.forEach(function (link) {\n          return state.linkCanvasObject(link, ctx, state.globalScale);\n        });\n        ctx.restore(); // Bundle strokes per unique color/width/dash for performance optimization\n\n        var linksPerColor = indexBy(defaultPaintLinks, [getColor, getWidth, getLineDash]);\n        ctx.save();\n        Object.entries(linksPerColor).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              color = _ref2[0],\n              linksPerWidth = _ref2[1];\n\n          var lineColor = !color || color === 'undefined' ? 'rgba(0,0,0,0.15)' : color;\n          Object.entries(linksPerWidth).forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n                width = _ref4[0],\n                linesPerLineDash = _ref4[1];\n\n            var lineWidth = (width || 1) / state.globalScale + padAmount;\n            Object.entries(linesPerLineDash).forEach(function (_ref5) {\n              var _ref6 = _slicedToArray(_ref5, 2);\n                  _ref6[0];\n                  var links = _ref6[1];\n\n              var lineDashSegments = getLineDash(links[0]);\n              ctx.beginPath();\n              links.forEach(function (link) {\n                var start = link.source;\n                var end = link.target;\n                if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n                ctx.moveTo(start.x, start.y);\n                var controlPoints = link.__controlPoints;\n\n                if (!controlPoints) {\n                  // Straight line\n                  ctx.lineTo(end.x, end.y);\n                } else {\n                  // Use quadratic curves for regular lines and bezier for loops\n                  ctx[controlPoints.length === 2 ? 'quadraticCurveTo' : 'bezierCurveTo'].apply(ctx, _toConsumableArray(controlPoints).concat([end.x, end.y]));\n                }\n              });\n              ctx.strokeStyle = lineColor;\n              ctx.lineWidth = lineWidth;\n              ctx.setLineDash(lineDashSegments || []);\n              ctx.stroke();\n            });\n          });\n        });\n        ctx.restore(); // Custom link after paints\n\n        ctx.save();\n        afterCustomLinks.forEach(function (link) {\n          return state.linkCanvasObject(link, ctx, state.globalScale);\n        });\n        ctx.restore(); //\n\n        function calcLinkControlPoints(link) {\n          var curvature = getCurvature(link);\n\n          if (!curvature) {\n            // straight line\n            link.__controlPoints = null;\n            return;\n          }\n\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var l = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2)); // line length\n\n          if (l > 0) {\n            var a = Math.atan2(end.y - start.y, end.x - start.x); // line angle\n\n            var d = l * curvature; // control point distance\n\n            var cp = {\n              // control point\n              x: (start.x + end.x) / 2 + d * Math.cos(a - Math.PI / 2),\n              y: (start.y + end.y) / 2 + d * Math.sin(a - Math.PI / 2)\n            };\n            link.__controlPoints = [cp.x, cp.y];\n          } else {\n            // Same point, draw a loop\n            var _d = curvature * 70;\n\n            link.__controlPoints = [end.x, end.y - _d, end.x + _d, end.y];\n          }\n        }\n      }\n\n      function paintArrows() {\n        var ARROW_WH_RATIO = 1.6;\n        var ARROW_VLEN_RATIO = 0.2;\n        var getLength = accessorFn(state.linkDirectionalArrowLength);\n        var getRelPos = accessorFn(state.linkDirectionalArrowRelPos);\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkDirectionalArrowColor || state.linkColor);\n        var getNodeVal = accessorFn(state.nodeVal);\n        var ctx = state.ctx;\n        ctx.save();\n        state.graphData.links.filter(getVisibility).forEach(function (link) {\n          var arrowLength = getLength(link);\n          if (!arrowLength || arrowLength < 0) return;\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var startR = Math.sqrt(Math.max(0, getNodeVal(start) || 1)) * state.nodeRelSize;\n          var endR = Math.sqrt(Math.max(0, getNodeVal(end) || 1)) * state.nodeRelSize;\n          var arrowRelPos = Math.min(1, Math.max(0, getRelPos(link)));\n          var arrowColor = getColor(link) || 'rgba(0,0,0,0.28)';\n          var arrowHalfWidth = arrowLength / ARROW_WH_RATIO / 2; // Construct bezier for curved lines\n\n          var bzLine = link.__controlPoints && _construct(Bezier, [start.x, start.y].concat(_toConsumableArray(link.__controlPoints), [end.x, end.y]));\n\n          var getCoordsAlongLine = bzLine ? function (t) {\n            return bzLine.get(t);\n          } // get position along bezier line\n          : function (t) {\n            return {\n              // straight line: interpolate linearly\n              x: start.x + (end.x - start.x) * t || 0,\n              y: start.y + (end.y - start.y) * t || 0\n            };\n          };\n          var lineLen = bzLine ? bzLine.length() : Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n          var posAlongLine = startR + arrowLength + (lineLen - startR - endR - arrowLength) * arrowRelPos;\n          var arrowHead = getCoordsAlongLine(posAlongLine / lineLen);\n          var arrowTail = getCoordsAlongLine((posAlongLine - arrowLength) / lineLen);\n          var arrowTailVertex = getCoordsAlongLine((posAlongLine - arrowLength * (1 - ARROW_VLEN_RATIO)) / lineLen);\n          var arrowTailAngle = Math.atan2(arrowHead.y - arrowTail.y, arrowHead.x - arrowTail.x) - Math.PI / 2;\n          ctx.beginPath();\n          ctx.moveTo(arrowHead.x, arrowHead.y);\n          ctx.lineTo(arrowTail.x + arrowHalfWidth * Math.cos(arrowTailAngle), arrowTail.y + arrowHalfWidth * Math.sin(arrowTailAngle));\n          ctx.lineTo(arrowTailVertex.x, arrowTailVertex.y);\n          ctx.lineTo(arrowTail.x - arrowHalfWidth * Math.cos(arrowTailAngle), arrowTail.y - arrowHalfWidth * Math.sin(arrowTailAngle));\n          ctx.fillStyle = arrowColor;\n          ctx.fill();\n        });\n        ctx.restore();\n      }\n\n      function paintPhotons() {\n        var getNumPhotons = accessorFn(state.linkDirectionalParticles);\n        var getSpeed = accessorFn(state.linkDirectionalParticleSpeed);\n        var getDiameter = accessorFn(state.linkDirectionalParticleWidth);\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkDirectionalParticleColor || state.linkColor);\n        var ctx = state.ctx;\n        ctx.save();\n        state.graphData.links.filter(getVisibility).forEach(function (link) {\n          var numCyclePhotons = getNumPhotons(link);\n          if (!link.hasOwnProperty('__photons') || !link.__photons.length) return;\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var particleSpeed = getSpeed(link);\n          var photons = link.__photons || [];\n          var photonR = Math.max(0, getDiameter(link) / 2) / Math.sqrt(state.globalScale);\n          var photonColor = getColor(link) || 'rgba(0,0,0,0.28)';\n          ctx.fillStyle = photonColor; // Construct bezier for curved lines\n\n          var bzLine = link.__controlPoints ? _construct(Bezier, [start.x, start.y].concat(_toConsumableArray(link.__controlPoints), [end.x, end.y])) : null;\n          var cyclePhotonIdx = 0;\n          var needsCleanup = false; // whether some photons need to be removed from list\n\n          photons.forEach(function (photon) {\n            var singleHop = !!photon.__singleHop;\n\n            if (!photon.hasOwnProperty('__progressRatio')) {\n              photon.__progressRatio = singleHop ? 0 : cyclePhotonIdx / numCyclePhotons;\n            }\n\n            !singleHop && cyclePhotonIdx++; // increase regular photon index\n\n            photon.__progressRatio += particleSpeed;\n\n            if (photon.__progressRatio >= 1) {\n              if (!singleHop) {\n                photon.__progressRatio = photon.__progressRatio % 1;\n              } else {\n                needsCleanup = true;\n                return;\n              }\n            }\n\n            var photonPosRatio = photon.__progressRatio;\n            var coords = bzLine ? bzLine.get(photonPosRatio) // get position along bezier line\n            : {\n              // straight line: interpolate linearly\n              x: start.x + (end.x - start.x) * photonPosRatio || 0,\n              y: start.y + (end.y - start.y) * photonPosRatio || 0\n            };\n            ctx.beginPath();\n            ctx.arc(coords.x, coords.y, photonR, 0, 2 * Math.PI, false);\n            ctx.fill();\n          });\n\n          if (needsCleanup) {\n            // remove expired single hop photons\n            link.__photons = link.__photons.filter(function (photon) {\n              return !photon.__singleHop || photon.__progressRatio <= 1;\n            });\n          }\n        });\n        ctx.restore();\n      }\n    },\n    emitParticle: function emitParticle(state, link) {\n      if (link) {\n        !link.__photons && (link.__photons = []);\n\n        link.__photons.push({\n          __singleHop: true\n        }); // add a single hop particle\n\n      }\n\n      return this;\n    }\n  },\n  stateInit: function stateInit() {\n    return {\n      forceLayout: forceSimulation().force('link', forceLink()).force('charge', forceManyBody()).force('center', forceCenter()).force('dagRadial', null).stop(),\n      engineRunning: false\n    };\n  },\n  init: function init(canvasCtx, state) {\n    // Main canvas object to manipulate\n    state.ctx = canvasCtx;\n  },\n  update: function update(state) {\n    state.engineRunning = false; // Pause simulation\n\n    state.onUpdate();\n\n    if (state.nodeAutoColorBy !== null) {\n      // Auto add color to uncolored nodes\n      autoColorObjects(state.graphData.nodes, accessorFn(state.nodeAutoColorBy), state.nodeColor);\n    }\n\n    if (state.linkAutoColorBy !== null) {\n      // Auto add color to uncolored links\n      autoColorObjects(state.graphData.links, accessorFn(state.linkAutoColorBy), state.linkColor);\n    } // parse links\n\n\n    state.graphData.links.forEach(function (link) {\n      link.source = link[state.linkSource];\n      link.target = link[state.linkTarget];\n    });\n\n    if (!state.isShadow) {\n      // Add photon particles\n      var linkParticlesAccessor = accessorFn(state.linkDirectionalParticles);\n      state.graphData.links.forEach(function (link) {\n        var numPhotons = Math.round(Math.abs(linkParticlesAccessor(link)));\n\n        if (numPhotons) {\n          link.__photons = _toConsumableArray(Array(numPhotons)).map(function () {\n            return {};\n          });\n        } else {\n          delete link.__photons;\n        }\n      });\n    } // Feed data to force-directed layout\n\n\n    state.forceLayout.stop().alpha(1) // re-heat the simulation\n    .nodes(state.graphData.nodes); // add links (if link force is still active)\n\n    var linkForce = state.forceLayout.force('link');\n\n    if (linkForce) {\n      linkForce.id(function (d) {\n        return d[state.nodeId];\n      }).links(state.graphData.links);\n    } // setup dag force constraints\n\n\n    var nodeDepths = state.dagMode && getDagDepths(state.graphData, function (node) {\n      return node[state.nodeId];\n    }, {\n      nodeFilter: state.dagNodeFilter,\n      onLoopError: state.onDagError || undefined\n    });\n    var maxDepth = Math.max.apply(Math, _toConsumableArray(Object.values(nodeDepths || [])));\n    var dagLevelDistance = state.dagLevelDistance || state.graphData.nodes.length / (maxDepth || 1) * DAG_LEVEL_NODE_RATIO * (['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? 0.7 : 1); // Fix nodes to x,y for dag mode\n\n    if (state.dagMode) {\n      var getFFn = function getFFn(fix, invert) {\n        return function (node) {\n          return !fix ? undefined : (nodeDepths[node[state.nodeId]] - maxDepth / 2) * dagLevelDistance * (invert ? -1 : 1);\n        };\n      };\n\n      var fxFn = getFFn(['lr', 'rl'].indexOf(state.dagMode) !== -1, state.dagMode === 'rl');\n      var fyFn = getFFn(['td', 'bu'].indexOf(state.dagMode) !== -1, state.dagMode === 'bu');\n      state.graphData.nodes.filter(state.dagNodeFilter).forEach(function (node) {\n        node.fx = fxFn(node);\n        node.fy = fyFn(node);\n      });\n    } // Use radial force for radial dags\n\n\n    state.forceLayout.force('dagRadial', ['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? forceRadial(function (node) {\n      var nodeDepth = nodeDepths[node[state.nodeId]] || -1;\n      return (state.dagMode === 'radialin' ? maxDepth - nodeDepth : nodeDepth) * dagLevelDistance;\n    }).strength(function (node) {\n      return state.dagNodeFilter(node) ? 1 : 0;\n    }) : null);\n\n    for (var i = 0; i < state.warmupTicks && !(state.d3AlphaMin > 0 && state.forceLayout.alpha() < state.d3AlphaMin); i++) {\n      state.forceLayout.tick();\n    } // Initial ticks before starting to render\n\n\n    this.resetCountdown();\n    state.onFinishUpdate();\n  }\n});\n\nfunction linkKapsule (kapsulePropNames, kapsuleType) {\n  var propNames = kapsulePropNames instanceof Array ? kapsulePropNames : [kapsulePropNames];\n  var dummyK = new kapsuleType(); // To extract defaults\n\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          propNames.forEach(function (propName) {\n            return state[propName][prop](v);\n          });\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        var returnVals = [];\n        propNames.forEach(function (propName) {\n          var kapsuleInstance = state[propName];\n          var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n\n          if (returnVal !== kapsuleInstance) {\n            returnVals.push(returnVal);\n          }\n        });\n        return returnVals.length ? returnVals[0] : this; // chain based on the parent object, not the inner kapsule\n      };\n    }\n  };\n}\n\nvar HOVER_CANVAS_THROTTLE_DELAY = 800; // ms to throttle shadow canvas updates for perf improvement\n\nvar ZOOM2NODES_FACTOR = 4; // Expose config from forceGraph\n\nvar bindFG = linkKapsule('forceGraph', CanvasForceGraph);\nvar bindBoth = linkKapsule(['forceGraph', 'shadowGraph'], CanvasForceGraph);\nvar linkedProps = Object.assign.apply(Object, _toConsumableArray(['nodeColor', 'nodeAutoColorBy', 'nodeCanvasObject', 'nodeCanvasObjectMode', 'linkColor', 'linkAutoColorBy', 'linkLineDash', 'linkWidth', 'linkCanvasObject', 'linkCanvasObjectMode', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'dagMode', 'dagLevelDistance', 'dagNodeFilter', 'onDagError', 'd3AlphaMin', 'd3AlphaDecay', 'd3VelocityDecay', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})).concat(_toConsumableArray(['nodeRelSize', 'nodeId', 'nodeVal', 'nodeVisibility', 'linkSource', 'linkTarget', 'linkVisibility', 'linkCurvature'].map(function (p) {\n  return _defineProperty({}, p, bindBoth.linkProp(p));\n}))));\nvar linkedMethods = Object.assign.apply(Object, _toConsumableArray(['d3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n})));\n\nfunction adjustCanvasSize(state) {\n  if (state.canvas) {\n    var curWidth = state.canvas.width;\n    var curHeight = state.canvas.height;\n\n    if (curWidth === 300 && curHeight === 150) {\n      // Default canvas dimensions\n      curWidth = curHeight = 0;\n    }\n\n    var pxScale = window.devicePixelRatio; // 2 on retina displays\n\n    curWidth /= pxScale;\n    curHeight /= pxScale; // Resize canvases\n\n    [state.canvas, state.shadowCanvas].forEach(function (canvas) {\n      // Element size\n      canvas.style.width = \"\".concat(state.width, \"px\");\n      canvas.style.height = \"\".concat(state.height, \"px\"); // Memory size (scaled to avoid blurriness)\n\n      canvas.width = state.width * pxScale;\n      canvas.height = state.height * pxScale; // Normalize coordinate system to use css pixels (on init only)\n\n      if (!curWidth && !curHeight) {\n        canvas.getContext('2d').scale(pxScale, pxScale);\n      }\n    }); // Relative center panning based on 0,0\n\n    var k = zoomTransform(state.canvas).k;\n    state.zoom.translateBy(state.zoom.__baseElem, (state.width - curWidth) / 2 / k, (state.height - curHeight) / 2 / k);\n    state.needsRedraw = true;\n  }\n}\n\nfunction resetTransform(ctx) {\n  var pxRatio = window.devicePixelRatio;\n  ctx.setTransform(pxRatio, 0, 0, pxRatio, 0, 0);\n}\n\nfunction clearCanvas(ctx, width, height) {\n  ctx.save();\n  resetTransform(ctx); // reset transform\n\n  ctx.clearRect(0, 0, width, height);\n  ctx.restore(); //restore transforms\n} //\n\n\nvar forceGraph = Kapsule({\n  props: _objectSpread2({\n    width: {\n      \"default\": window.innerWidth,\n      onChange: function onChange(_, state) {\n        return adjustCanvasSize(state);\n      },\n      triggerUpdate: false\n    },\n    height: {\n      \"default\": window.innerHeight,\n      onChange: function onChange(_, state) {\n        return adjustCanvasSize(state);\n      },\n      triggerUpdate: false\n    },\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(d, state) {\n        [{\n          type: 'Node',\n          objs: d.nodes\n        }, {\n          type: 'Link',\n          objs: d.links\n        }].forEach(hexIndex);\n        state.forceGraph.graphData(d);\n        state.shadowGraph.graphData(d);\n\n        function hexIndex(_ref4) {\n          var type = _ref4.type,\n              objs = _ref4.objs;\n          objs.filter(function (d) {\n            if (!d.hasOwnProperty('__indexColor')) return true;\n            var cur = state.colorTracker.lookup(d.__indexColor);\n            return !cur || !cur.hasOwnProperty('d') || cur.d !== d;\n          }).forEach(function (d) {\n            // store object lookup color\n            d.__indexColor = state.colorTracker.register({\n              type: type,\n              d: d\n            });\n          });\n        }\n      },\n      triggerUpdate: false\n    },\n    backgroundColor: {\n      onChange: function onChange(color, state) {\n        state.canvas && color && (state.canvas.style.background = color);\n      },\n      triggerUpdate: false\n    },\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    nodePointerAreaPaint: {\n      onChange: function onChange(paintFn, state) {\n        state.shadowGraph.nodeCanvasObject(!paintFn ? null : function (node, ctx, globalScale) {\n          return paintFn(node, node.__indexColor, ctx, globalScale);\n        });\n        state.flushShadowCanvas && state.flushShadowCanvas();\n      },\n      triggerUpdate: false\n    },\n    linkPointerAreaPaint: {\n      onChange: function onChange(paintFn, state) {\n        state.shadowGraph.linkCanvasObject(!paintFn ? null : function (link, ctx, globalScale) {\n          return paintFn(link, link.__indexColor, ctx, globalScale);\n        });\n        state.flushShadowCanvas && state.flushShadowCanvas();\n      },\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    minZoom: {\n      \"default\": 0.01,\n      onChange: function onChange(minZoom, state) {\n        state.zoom.scaleExtent([minZoom, state.zoom.scaleExtent()[1]]);\n      },\n      triggerUpdate: false\n    },\n    maxZoom: {\n      \"default\": 1000,\n      onChange: function onChange(maxZoom, state) {\n        state.zoom.scaleExtent([state.zoom.scaleExtent()[0], maxZoom]);\n      },\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enableZoomInteraction: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enablePanInteraction: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enableZoomPanInteraction: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    // to be deprecated\n    enablePointerInteraction: {\n      \"default\": true,\n      onChange: function onChange(_, state) {\n        state.hoverObj = null;\n      },\n      triggerUpdate: false\n    },\n    autoPauseRedraw: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      triggerUpdate: false\n    },\n    onZoom: {\n      triggerUpdate: false\n    },\n    onZoomEnd: {\n      triggerUpdate: false\n    },\n    onRenderFramePre: {\n      triggerUpdate: false\n    },\n    onRenderFramePost: {\n      triggerUpdate: false\n    }\n  }, linkedProps),\n  aliases: {\n    // Prop names supported for backwards compatibility\n    stopAnimation: 'pauseAnimation'\n  },\n  methods: _objectSpread2({\n    graph2ScreenCoords: function graph2ScreenCoords(state, x, y) {\n      var t = zoomTransform(state.canvas);\n      return {\n        x: x * t.k + t.x,\n        y: y * t.k + t.y\n      };\n    },\n    screen2GraphCoords: function screen2GraphCoords(state, x, y) {\n      var t = zoomTransform(state.canvas);\n      return {\n        x: (x - t.x) / t.k,\n        y: (y - t.y) / t.k\n      };\n    },\n    centerAt: function centerAt(state, x, y, transitionDuration) {\n      if (!state.canvas) return null; // no canvas yet\n      // setter\n\n      if (x !== undefined || y !== undefined) {\n        var finalPos = Object.assign({}, x !== undefined ? {\n          x: x\n        } : {}, y !== undefined ? {\n          y: y\n        } : {});\n\n        if (!transitionDuration) {\n          // no animation\n          setCenter(finalPos);\n        } else {\n          new TWEEN.Tween(getCenter()).to(finalPos, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(setCenter).start();\n        }\n\n        return this;\n      } // getter\n\n\n      return getCenter(); //\n\n      function getCenter() {\n        var t = zoomTransform(state.canvas);\n        return {\n          x: (state.width / 2 - t.x) / t.k,\n          y: (state.height / 2 - t.y) / t.k\n        };\n      }\n\n      function setCenter(_ref5) {\n        var x = _ref5.x,\n            y = _ref5.y;\n        state.zoom.translateTo(state.zoom.__baseElem, x === undefined ? getCenter().x : x, y === undefined ? getCenter().y : y);\n        state.needsRedraw = true;\n      }\n    },\n    zoom: function zoom(state, k, transitionDuration) {\n      if (!state.canvas) return null; // no canvas yet\n      // setter\n\n      if (k !== undefined) {\n        if (!transitionDuration) {\n          // no animation\n          setZoom(k);\n        } else {\n          new TWEEN.Tween({\n            k: getZoom()\n          }).to({\n            k: k\n          }, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(function (_ref6) {\n            var k = _ref6.k;\n            return setZoom(k);\n          }).start();\n        }\n\n        return this;\n      } // getter\n\n\n      return getZoom(); //\n\n      function getZoom() {\n        return zoomTransform(state.canvas).k;\n      }\n\n      function setZoom(k) {\n        state.zoom.scaleTo(state.zoom.__baseElem, k);\n        state.needsRedraw = true;\n      }\n    },\n    zoomToFit: function zoomToFit(state) {\n      var transitionDuration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n\n      for (var _len = arguments.length, bboxArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        bboxArgs[_key - 3] = arguments[_key];\n      }\n\n      var bbox = this.getGraphBbox.apply(this, bboxArgs);\n\n      if (bbox) {\n        var center = {\n          x: (bbox.x[0] + bbox.x[1]) / 2,\n          y: (bbox.y[0] + bbox.y[1]) / 2\n        };\n        var zoomK = Math.max(1e-12, Math.min(1e12, (state.width - padding * 2) / (bbox.x[1] - bbox.x[0]), (state.height - padding * 2) / (bbox.y[1] - bbox.y[0])));\n        this.centerAt(center.x, center.y, transitionDuration);\n        this.zoom(zoomK, transitionDuration);\n      }\n\n      return this;\n    },\n    getGraphBbox: function getGraphBbox(state) {\n      var nodeFilter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n        return true;\n      };\n      var getVal = accessorFn(state.nodeVal);\n\n      var getR = function getR(node) {\n        return Math.sqrt(Math.max(0, getVal(node) || 1)) * state.nodeRelSize;\n      };\n\n      var nodesPos = state.graphData.nodes.filter(nodeFilter).map(function (node) {\n        return {\n          x: node.x,\n          y: node.y,\n          r: getR(node)\n        };\n      });\n      return !nodesPos.length ? null : {\n        x: [min(nodesPos, function (node) {\n          return node.x - node.r;\n        }), max(nodesPos, function (node) {\n          return node.x + node.r;\n        })],\n        y: [min(nodesPos, function (node) {\n          return node.y - node.r;\n        }), max(nodesPos, function (node) {\n          return node.y + node.r;\n        })]\n      };\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (!state.animationFrameRequestId) {\n        this._animationCycle();\n      }\n\n      return this;\n    },\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedMethods),\n  stateInit: function stateInit() {\n    return {\n      lastSetZoom: 1,\n      zoom: zoom(),\n      forceGraph: new CanvasForceGraph(),\n      shadowGraph: new CanvasForceGraph().cooldownTicks(0).nodeColor('__indexColor').linkColor('__indexColor').isShadow(true),\n      colorTracker: new ColorTracker() // indexed objects for rgb lookup\n\n    };\n  },\n  init: function init(domNode, state) {\n    var _this = this;\n\n    // Wipe DOM\n    domNode.innerHTML = ''; // Container anchor for canvas and tooltip\n\n    var container = document.createElement('div');\n    container.classList.add('force-graph-container');\n    container.style.position = 'relative';\n    domNode.appendChild(container);\n    state.canvas = document.createElement('canvas');\n    if (state.backgroundColor) state.canvas.style.background = state.backgroundColor;\n    container.appendChild(state.canvas);\n    state.shadowCanvas = document.createElement('canvas'); // Show shadow canvas\n    //state.shadowCanvas.style.position = 'absolute';\n    //state.shadowCanvas.style.top = '0';\n    //state.shadowCanvas.style.left = '0';\n    //container.appendChild(state.shadowCanvas);\n\n    var ctx = state.canvas.getContext('2d');\n    var shadowCtx = state.shadowCanvas.getContext('2d');\n    var pointerPos = {\n      x: -1e12,\n      y: -1e12\n    };\n\n    var getObjUnderPointer = function getObjUnderPointer() {\n      var obj = null;\n      var pxScale = window.devicePixelRatio;\n      var px = pointerPos.x > 0 && pointerPos.y > 0 ? shadowCtx.getImageData(pointerPos.x * pxScale, pointerPos.y * pxScale, 1, 1) : null; // Lookup object per pixel color\n\n      px && (obj = state.colorTracker.lookup(px.data));\n      return obj;\n    }; // Setup node drag interaction\n\n\n    select(state.canvas).call(drag().subject(function () {\n      if (!state.enableNodeDrag) {\n        return null;\n      }\n\n      var obj = getObjUnderPointer();\n      return obj && obj.type === 'Node' ? obj.d : null; // Only drag nodes\n    }).on('start', function (ev) {\n      var obj = ev.subject;\n      obj.__initialDragPos = {\n        x: obj.x,\n        y: obj.y,\n        fx: obj.fx,\n        fy: obj.fy\n      }; // keep engine running at low intensity throughout drag\n\n      if (!ev.active) {\n        obj.fx = obj.x;\n        obj.fy = obj.y; // Fix points\n      } // drag cursor\n\n\n      state.canvas.classList.add('grabbable');\n    }).on('drag', function (ev) {\n      var obj = ev.subject;\n      var initPos = obj.__initialDragPos;\n      var dragPos = ev;\n      var k = zoomTransform(state.canvas).k;\n      var translate = {\n        x: initPos.x + (dragPos.x - initPos.x) / k - obj.x,\n        y: initPos.y + (dragPos.y - initPos.y) / k - obj.y\n      }; // Move fx/fy (and x/y) of nodes based on the scaled drag distance since the drag start\n\n      ['x', 'y'].forEach(function (c) {\n        return obj[\"f\".concat(c)] = obj[c] = initPos[c] + (dragPos[c] - initPos[c]) / k;\n      }); // prevent freeze while dragging\n\n      state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n      .resetCountdown(); // prevent freeze while dragging\n\n      state.isPointerDragging = true;\n      obj.__dragged = true;\n      state.onNodeDrag(obj, translate);\n    }).on('end', function (ev) {\n      var obj = ev.subject;\n      var initPos = obj.__initialDragPos;\n      var translate = {\n        x: obj.x - initPos.x,\n        y: obj.y - initPos.y\n      };\n\n      if (initPos.fx === undefined) {\n        obj.fx = undefined;\n      }\n\n      if (initPos.fy === undefined) {\n        obj.fy = undefined;\n      }\n\n      delete obj.__initialDragPos;\n\n      if (state.forceGraph.d3AlphaTarget()) {\n        state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n        .resetCountdown(); // let the engine readjust after releasing fixed nodes\n      } // drag cursor\n\n\n      state.canvas.classList.remove('grabbable');\n      state.isPointerDragging = false;\n\n      if (obj.__dragged) {\n        delete obj.__dragged;\n        state.onNodeDragEnd(obj, translate);\n      }\n    })); // Setup zoom / pan interaction\n\n    state.zoom(state.zoom.__baseElem = select(state.canvas)); // Attach controlling elem for easy access\n\n    state.zoom.__baseElem.on('dblclick.zoom', null); // Disable double-click to zoom\n\n\n    state.zoom.filter(function (ev) {\n      return (// disable zoom interaction\n        !ev.button && state.enableZoomPanInteraction && (state.enableZoomInteraction || ev.type !== 'wheel') && (state.enablePanInteraction || ev.type === 'wheel')\n      );\n    }).on('zoom', function (ev) {\n      var t = ev.transform;\n      [ctx, shadowCtx].forEach(function (c) {\n        resetTransform(c);\n        c.translate(t.x, t.y);\n        c.scale(t.k, t.k);\n      });\n      state.onZoom && state.onZoom(_objectSpread2(_objectSpread2({}, t), _this.centerAt())); // report x,y coordinates relative to canvas center\n\n      state.needsRedraw = true;\n    }).on('end', function (ev) {\n      return state.onZoomEnd && state.onZoomEnd(_objectSpread2(_objectSpread2({}, ev.transform), _this.centerAt()));\n    });\n    adjustCanvasSize(state);\n    state.forceGraph.onNeedsRedraw(function () {\n      return state.needsRedraw = true;\n    }).onFinishUpdate(function () {\n      // re-zoom, if still in default position (not user modified)\n      if (zoomTransform(state.canvas).k === state.lastSetZoom && state.graphData.nodes.length) {\n        state.zoom.scaleTo(state.zoom.__baseElem, state.lastSetZoom = ZOOM2NODES_FACTOR / Math.cbrt(state.graphData.nodes.length));\n        state.needsRedraw = true;\n      }\n    }); // Setup tooltip\n\n    var toolTipElem = document.createElement('div');\n    toolTipElem.classList.add('graph-tooltip');\n    container.appendChild(toolTipElem); // Capture pointer coords on move or touchstart\n\n    ['pointermove', 'pointerdown'].forEach(function (evType) {\n      return container.addEventListener(evType, function (ev) {\n        if (evType === 'pointerdown') {\n          state.isPointerPressed = true; // track click state\n\n          state.pointerDownEvent = ev;\n        } // detect pointer drag on canvas pan\n\n\n        !state.isPointerDragging && ev.type === 'pointermove' && state.onBackgroundClick // only bother detecting drags this way if background clicks are enabled (so they don't trigger accidentally on canvas panning)\n        && (ev.pressure > 0 || state.isPointerPressed) // ev.pressure always 0 on Safari, so we use the isPointerPressed tracker\n        && (ev.pointerType !== 'touch' || ev.movementX === undefined || [ev.movementX, ev.movementY].some(function (m) {\n          return Math.abs(m) > 1;\n        })) // relax drag trigger sensitivity on touch events\n        && (state.isPointerDragging = true); // update the pointer pos\n\n        var offset = getOffset(container);\n        pointerPos.x = ev.pageX - offset.left;\n        pointerPos.y = ev.pageY - offset.top; // Move tooltip\n\n        toolTipElem.style.top = \"\".concat(pointerPos.y, \"px\");\n        toolTipElem.style.left = \"\".concat(pointerPos.x, \"px\"); //\n\n        function getOffset(el) {\n          var rect = el.getBoundingClientRect(),\n              scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\n              scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n          return {\n            top: rect.top + scrollTop,\n            left: rect.left + scrollLeft\n          };\n        }\n      }, {\n        passive: true\n      });\n    }); // Handle click/touch events on nodes/links\n\n    container.addEventListener('pointerup', function (ev) {\n      state.isPointerPressed = false;\n\n      if (state.isPointerDragging) {\n        state.isPointerDragging = false;\n        return; // don't trigger click events after pointer drag (pan / node drag functionality)\n      }\n\n      var cbEvents = [ev, state.pointerDownEvent];\n      requestAnimationFrame(function () {\n        // trigger click events asynchronously, to allow hoverObj to be set (on frame)\n        if (ev.button === 0) {\n          // mouse left-click or touch\n          if (state.hoverObj) {\n            var fn = state[\"on\".concat(state.hoverObj.type, \"Click\")];\n            fn && fn.apply(void 0, [state.hoverObj.d].concat(cbEvents));\n          } else {\n            state.onBackgroundClick && state.onBackgroundClick.apply(state, cbEvents);\n          }\n        }\n\n        if (ev.button === 2) {\n          // mouse right-click\n          if (state.hoverObj) {\n            var _fn = state[\"on\".concat(state.hoverObj.type, \"RightClick\")];\n            _fn && _fn.apply(void 0, [state.hoverObj.d].concat(cbEvents));\n          } else {\n            state.onBackgroundRightClick && state.onBackgroundRightClick.apply(state, cbEvents);\n          }\n        }\n      });\n    }, {\n      passive: true\n    });\n    container.addEventListener('contextmenu', function (ev) {\n      if (!state.onBackgroundRightClick && !state.onNodeRightClick && !state.onLinkRightClick) return true; // default contextmenu behavior\n\n      ev.preventDefault();\n      return false;\n    });\n    state.forceGraph(ctx);\n    state.shadowGraph(shadowCtx); //\n\n    var refreshShadowCanvas = throttle(function () {\n      // wipe canvas\n      clearCanvas(shadowCtx, state.width, state.height); // Adjust link hover area\n\n      state.shadowGraph.linkWidth(function (l) {\n        return accessorFn(state.linkWidth)(l) + state.linkHoverPrecision;\n      }); // redraw\n\n      var t = zoomTransform(state.canvas);\n      state.shadowGraph.globalScale(t.k).tickFrame();\n    }, HOVER_CANVAS_THROTTLE_DELAY);\n    state.flushShadowCanvas = refreshShadowCanvas.flush; // hook to immediately invoke shadow canvas paint\n    // Kick-off renderer\n\n    (this._animationCycle = function animate() {\n      // IIFE\n      var doRedraw = !state.autoPauseRedraw || !!state.needsRedraw || state.forceGraph.isEngineRunning() || state.graphData.links.some(function (d) {\n        return d.__photons && d.__photons.length;\n      });\n      state.needsRedraw = false;\n\n      if (state.enablePointerInteraction) {\n        // Update tooltip and trigger onHover events\n        var obj = !state.isPointerDragging ? getObjUnderPointer() : null; // don't hover during drag\n\n        if (obj !== state.hoverObj) {\n          var prevObj = state.hoverObj;\n          var prevObjType = prevObj ? prevObj.type : null;\n          var objType = obj ? obj.type : null;\n\n          if (prevObjType && prevObjType !== objType) {\n            // Hover out\n            var fn = state[\"on\".concat(prevObjType, \"Hover\")];\n            fn && fn(null, prevObj.d);\n          }\n\n          if (objType) {\n            // Hover in\n            var _fn2 = state[\"on\".concat(objType, \"Hover\")];\n            _fn2 && _fn2(obj.d, prevObjType === objType ? prevObj.d : null);\n          }\n\n          var tooltipContent = obj ? accessorFn(state[\"\".concat(obj.type.toLowerCase(), \"Label\")])(obj.d) || '' : '';\n          toolTipElem.style.visibility = tooltipContent ? 'visible' : 'hidden';\n          toolTipElem.innerHTML = tooltipContent; // set pointer if hovered object is clickable\n\n          state.canvas.classList[obj && state[\"on\".concat(objType, \"Click\")] || !obj && state.onBackgroundClick ? 'add' : 'remove']('clickable');\n          state.hoverObj = obj;\n        }\n\n        doRedraw && refreshShadowCanvas();\n      }\n\n      if (doRedraw) {\n        // Wipe canvas\n        clearCanvas(ctx, state.width, state.height); // Frame cycle\n\n        var globalScale = zoomTransform(state.canvas).k;\n        state.onRenderFramePre && state.onRenderFramePre(ctx, globalScale);\n        state.forceGraph.globalScale(globalScale).tickFrame();\n        state.onRenderFramePost && state.onRenderFramePost(ctx, globalScale);\n      }\n\n      TWEEN.update(); // update canvas animation tweens\n\n      state.animationFrameRequestId = requestAnimationFrame(animate);\n    })();\n  },\n  update: function updateFn(state) {}\n});\n\nexport { forceGraph as default };\n","<template>\n  <div class=\"flex justify-end h-screen relative\">\n    <DocumentList v-if=\"tag\" :tag=\"tag\" :cols=\"1\" class=\"h-full w-full md:w-1/3 z-index-1 px-4 mt-96\" />\n    <div ref=\"graph\" class=\"absolute inset-0\"></div>\n  </div>\n</template>\n\n<script>\nimport ForceGraph from 'force-graph'\n\nimport DocumentList from '/components/DocumentList.vue'\n\nexport default {\n  components: {\n    DocumentList,\n  },\n  inject: ['mq'],\n  data() {\n    return {\n      instance: null,\n      listener: null,\n      tag: null,\n    }\n  },\n  watch: {\n    graph() {\n      this.resize()\n    },\n  },\n  computed: {\n    colors() {\n      return {\n        edge: this.theme === 'light' ? '#aaa' : '#333',\n        label: this.theme === 'light' ? 'rgba(17, 17, 17, 0.8)' : 'rgba(200, 200, 200, 0.8)',\n        node: 'rgba(224, 108, 117, 0.9)',\n      }\n    },\n    connections() {\n      return this.docs.flatMap((doc) => {\n        return doc.tags.flatMap((tag, index) => {\n          return doc.tags.slice(index + 1).map((otherTag) => {\n            const [source, target] = [tag, otherTag].sort()\n            const id = source + '_' + target\n\n            return {\n              id,\n              source,\n              target,\n            }\n          })\n        })\n      })\n    },\n    docs() {\n      return this.$store.getters.kept\n    },\n    edges() {\n      return this.connections.reduce((edges, connection) => {\n        const found = edges.find(edge => edge.id === connection.id)\n\n        if (found) {\n          found.size += 1\n        } else {\n          edges.push({\n            ...connection,\n            color: this.colors.edge,\n            size: 1,\n          })\n        }\n\n        return edges\n      }, [])\n    },\n    graph() {\n      return {\n        nodes: this.nodes,\n        links: this.edges,\n      }\n    },\n    maxEdgeSize() {\n      return Math.max(...this.edges.map(edge => edge.size))\n    },\n    maxNodeSize() {\n      return Math.max(...this.nodes.map(node => node.size))\n    },\n    mobile() {\n      return ['xs', 'sm'].includes(this.mq.current)\n    },\n    nodes() {\n      return this.edges.flatMap(edge => [edge.source, edge.target]).reduce((nodes, tag) => {\n        const found = nodes.find(node => node.id === tag)\n\n        if (found) {\n          found.size += 1\n        } else {\n          nodes.push({\n            id: tag,\n            name: tag,\n            size: 1,\n          })\n        }\n\n        return nodes\n      }, [])\n    },\n    theme() {\n      return this.$store.state.settings.theme\n    },\n  },\n  methods: {\n    resize() {\n      if (this.instance) {\n        this.instance\n          .graphData(this.graph)\n          .height(this.$refs.graph.clientHeight)\n          .width(this.$refs.graph.clientWidth)\n      }\n    },\n  },\n  mounted() {\n    this.instance = ForceGraph()(this.$refs.graph)\n      .graphData(this.graph)\n      .height(this.$refs.graph.clientHeight)\n      .width(this.$refs.graph.clientWidth)\n      .linkWidth((link) => {\n        return (link.size / this.maxEdgeSize) * 5\n      })\n      .nodeCanvasObject((node, context, scale) => {\n        const fontSize = 16 / scale\n        const label = node.id\n        const radius = ((node.size / this.maxNodeSize) * 15) / scale\n\n        // draw the node\n        context.beginPath()\n        context.fillStyle = this.colors.node\n        context.arc(node.x, node.y, radius, 0, 2 * Math.PI, false)\n        context.fill()\n        context.closePath()\n\n        // draw the label\n        context.fillStyle = this.colors.label\n        context.font = `${fontSize}px Inter`\n        context.textAlign = 'center'\n        context.textBaseline = 'top'\n        context.fillText(label, node.x, node.y + radius + 1)\n      })\n      .onNodeHover(node => this.$refs.graph.style.cursor = node ? 'pointer' : null)\n      .onNodeClick((node) => {\n        const offset = this.mobile ? 40 : 0\n\n        this.tag = node.id\n        this.instance.centerAt(node.x, node.y + offset, 1000)\n        this.instance.zoom(6, 2000)\n      })\n\n    this.listener = () => {\n      this.resize()\n    }\n\n    window.addEventListener('resize', this.listener)\n  },\n  beforeUnmount() {\n    window.removeEventListener('resize', this.listener)\n  },\n}\n</script>\n\n<style>\n/*\nThis fix can be removed if the following PR is accepted.\nhttps://github.com/vasturiano/force-graph/pull/258\n*/\n.graph-tooltip {\n  left: 0;\n  top: 0;\n}\n</style>\n"],"names":["sourceEvent","nopropagation","noevent","x","y","dispatch","defaultFilter","defaultTouchable","drag","nodrag","c","container","event","touch","constant","zoom","t","add","addAll","z","x2","y2","removeAll","defaultX","defaultY","leaf_copy","treeProto","tree_add","tree_addAll","tree_cover","tree_data","tree_extent","tree_find","tree_remove","tree_removeAll","tree_root","tree_size","tree_visit","tree_visitAfter","tree_x","tree_y","colors","transform","extent","a","dragEnable","max","index","min","Group","m","t2","Sequence","Tween","_classCallCheck","_defineProperties","_createClass","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","Prop","onChange","stateInit","updateFn","initStatic","options","debounce","prop","state","Math","tinycolor","p","q","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","int2HexColor","rgb2Int","colorStr2Int","checksum","_default","z2","i","node","strength","abs","cos","sin","acos","sqrt","pi","b","d","v1","a2","point","ls","le","segments","tlen","alen","obj","_setPrototypeOf","o","_construct","Parent","args","Class","scaleOrdinal","nodes","notifyRedraw","Kapsule","accessorFn","indexBy","update","getFFn","zoomTransform","forceGraph","TWEEN","k","getR","ColorTracker","init","getObjUnderPointer","throttle","ForceGraph","_openBlock","_createElementBlock","_createBlock","_createElementVNode"],"mappings":"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"}