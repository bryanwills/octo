{"version":3,"file":"AuthTiers.d8fb4201.js","sources":["../../composables/useAuth.ts","../../composables/useTiers.ts","../../node_modules/@heroicons/vue/24/solid/esm/EnvelopeIcon.js","../../components/AuthMagicLinkModal.vue","../../components/AuthStripeModal.vue","../../node_modules/@heroicons/vue/24/outline/esm/ArrowUpCircleIcon.js","../../node_modules/@heroicons/vue/24/outline/esm/CheckCircleIcon.js","../../components/FormText.vue","../../components/AuthMagicLink.vue","../../assets/github.svg?component","../../assets/google.svg?component","../../assets/twitter.svg?component","../../components/AuthSocialLinks.vue","../../components/AuthTier.vue","../../components/AuthTiers.vue"],"sourcesContent":["import { useOnline } from '@vueuse/core'\nimport { type AuthProvider, type UserInfo as ProviderInfo, getAuth, getRedirectResult, GithubAuthProvider, GoogleAuthProvider, isSignInWithEmailLink, sendSignInLinkToEmail, signInWithEmailLink, signInWithRedirect, TwitterAuthProvider } from 'firebase/auth'\nimport { type Ref, computed, inject, reactive, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { type Tier } from '/composables/useTiers'\n\nexport interface AuthMagicLinkForm {\n  confirmed: boolean,\n  confirming: boolean,\n  email: string,\n  error: string,\n}\n\nexport interface AuthSocialForm {\n  confirmed: boolean,\n  confirming: boolean,\n  error: string,\n}\n\nexport type AuthProviderType = 'github' | 'google' | 'twitter'\n\nexport interface User {\n  id?: string,\n  providers: ProviderInfo[],\n  roles: UserRole[],\n}\n\nexport type UserRole = 'ambassador' | 'user' | 'subscriber'\n\nexport const providers: Record<AuthProviderType, () => AuthProvider> = {\n  github: () => new GithubAuthProvider(),\n  google: () => new GoogleAuthProvider(),\n  twitter: () => new TwitterAuthProvider(),\n}\n\nexport const useAuthFlow = () => {\n  const route = useRoute()\n  const isMagicLinkFlow = computed(() => route.query.flow === 'magic-link')\n  const isSocialFlow = computed(() => route.query.flow === 'social')\n\n  return {\n    isMagicLinkFlow,\n    isSocialFlow,\n  }\n}\n\nexport const useAuthForm = ({ clearOnChange = true }: { clearOnChange?: boolean } = {}): AuthMagicLinkForm => {\n  const form = reactive({\n    confirmed: false,\n    confirming: false,\n    email: '',\n    error: '',\n  })\n\n  if (clearOnChange) {\n    watch(() => form.email, () => {\n      form.error = ''\n      form.confirmed = false\n      form.confirming = false\n    })\n  }\n\n  return form\n}\n\nexport const useMagicLink = () => {\n  const isMagicLink = computed(() => isSignInWithEmailLink(getAuth(), location.href))\n  const isOnline = useOnline()\n  const emailAddress = inject<Ref<string>>('email')!\n  const isOriginalClient = computed(() => !!emailAddress)\n  const router = useRouter()\n  const store = useStore()\n\n  return {\n    emailAddress,\n    isMagicLink,\n    isOriginalClient,\n    sendMagicLinkEmail: async ({ form, tier }: { form: AuthMagicLinkForm, tier: Tier }) => {\n      if (!isOnline.value) {\n        form.error = 'A network connection cannot be established'\n        form.confirming = false\n\n        return false\n      }\n\n      if (!form.email) {\n        form.error = 'Your email is required for this sign-in method'\n        form.confirming = false\n\n        return false\n      }\n\n      const accountPath = router.resolve({ path: `/account`, query: { flow: 'magic-link', tier: tier.name } }).href\n      const actionCodeSettings = {\n        url: `${location.protocol}//${location.host}${accountPath}`,\n        handleCodeInApp: true,\n      }\n\n      return sendSignInLinkToEmail(getAuth(), form.email, actionCodeSettings).then(() => {\n        // If the user signs in on the same device, we do not need to prompt for their email address after clicking\n        // the magic link.\n        // https://firebase.google.com/docs/auth/web/email-link-auth#security_concerns\n        localStorage.setItem('email', form.email)\n\n        form.confirming = false\n        form.confirmed = true\n\n        return true\n      }).catch((error) => {\n        form.confirming = false\n\n        if (error.code === 'auth/invalid-email') {\n          form.error = 'This email address is invalid'\n\n          return false\n        }\n\n        form.error = 'An unknown error occurred'\n\n        return false\n      })\n    },\n    signInWithMagicLink: async (form: AuthMagicLinkForm) => {\n      if (!isOnline) {\n        form.error = 'A network connection cannot be established'\n        form.confirming = false\n\n        return false\n      }\n\n      if (!form.email) {\n        form.error = 'Your email is required to complete magic link sign-in'\n        form.confirming = false\n\n        return false\n      }\n\n      return signInWithEmailLink(getAuth(), form.email, location.href).then((result) => {\n        // @ts-ignore\n        if (result.additionalUserInfo && result.additionalUserInfo.isNewUser) {\n          // @ts-ignore\n          window.fathom.trackGoal(import.meta.env.VITE_FATHOM_GOAL_ACCOUNT_REGISTRATION, 0)\n        }\n\n        form.confirming = false\n        form.confirmed = true\n\n        localStorage.setItem('octo/welcome/v1', 'done')\n        store.commit('SET_SHOW_WELCOME', false)\n\n        return true\n      }).catch((error) => {\n        form.confirming = false\n\n        if (error.code === 'auth/invalid-email') {\n          form.error = 'This email is incorrect or invalid'\n\n          return false\n        }\n\n        if (error.code === 'auth/invalid-action-code') {\n          form.error = 'This magic link has expired or is invalid'\n\n          return false\n        }\n\n        form.error = 'An unknown error occurred'\n\n        return false\n      })\n    },\n  }\n}\n\nexport const useSocial = () => {\n  const route = useRoute()\n  const router = useRouter()\n\n  return {\n    redirectToSocial: async ({ provider: type, tier }: { provider: AuthProviderType, tier: Tier }) => {\n      const provider = providers[type]\n\n      router.push({\n        ...route,\n        query: {\n          ...route.query,\n          flow: 'social',\n          tier: tier.name,\n        },\n      })\n\n      return signInWithRedirect(getAuth(), provider())\n    },\n    signInWithSocial: async (form: AuthSocialForm) => {\n      return getRedirectResult(getAuth()).then((result) => {\n        if (!result) {\n          return false as const\n        }\n\n        return result\n      }).catch((error) => {\n        if (error.code === 'auth/account-exists-with-different-credential') {\n          form.error = 'This email address is already linked to another account'\n\n          return false\n        }\n\n        form.error = 'An unknown error occurred'\n\n        // Unknown error\n        console.warn({ error })\n\n        return false as const\n      })\n    },\n  }\n}\n\nexport const useSubscription = () => {\n  const user = useUser()\n  const isSubscribed = computed(() => {\n    return user.value.roles.includes('ambassador') || user.value.roles.includes('subscriber')\n  })\n\n  return {\n    isSubscribed,\n    user,\n  }\n}\n\nexport const useUser = () => {\n  return inject<Ref<User>>('user')!\n}\n","import { computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { type AuthMagicLinkForm, type AuthSocialForm, useAuthForm, useSubscription, useUser } from '/composables/useAuth'\nimport { addCheckout } from '/src/firebase/firestore'\n\nexport interface Tier {\n  active: boolean,\n  allowSignUp: boolean,\n  allowUpgrade: boolean,\n  description: string,\n  displayName: string,\n  forms: { magicLink: AuthMagicLinkForm, social: AuthSocialForm },\n  isPaying: boolean,\n  isTier: boolean,\n  name: string,\n  price: string,\n  priceFrequency: string,\n}\n\nexport const useTiers = () => {\n  const route = useRoute()\n  const personal = usePersonalTier()\n  const pro = useProTier()\n  const active = personal.value.active || route.query.tier === 'personal' ? personal\n    : pro.value.active || route.query.tier === 'pro' ? pro\n    : undefined\n\n  return {\n    active,\n    personal,\n    pro,\n  }\n}\n\nexport const usePersonalTier = () => {\n  const route = useRoute()\n  const { isSubscribed, user } = useSubscription()\n\n  return computed<Tier>(() => {\n    return {\n      active: !!user.value.id && !isSubscribed.value,\n      allowSignUp: !user.value.id,\n      allowUpgrade: false,\n      description: 'For individuals who want to maintain a personal knowledge base',\n      displayName: 'Personal',\n      forms: {\n        magicLink: useAuthForm(),\n        social: useAuthForm(),\n      },\n      isPaying: false,\n      isTier: route.query.tier === 'personal',\n      name: 'personal',\n      price: 'Free',\n      priceFrequency: 'forever',\n    }\n  })\n}\n\nexport const useProTier = () => {\n  const route = useRoute()\n  const { isSubscribed, user } = useSubscription()\n\n  return computed<Tier>(() => {\n    return {\n      active: !!user.value.id && isSubscribed.value,\n      allowSignUp: !user.value.id,\n      allowUpgrade: !!user.value.id && !isSubscribed.value,\n      description: 'For professionals who want to collaborate on documentation and more',\n      displayName: 'Pro',\n      forms: {\n        magicLink: useAuthForm(),\n        social: useAuthForm(),\n      },\n      isPaying: route.query.tier === 'pro',\n      isTier: route.query.tier === 'pro',\n      name: 'pro',\n      price: '4',\n      priceFrequency: 'monthly',\n    }\n  })\n}\n\nexport const useStripe = () => {\n  const user = useUser()\n\n  return {\n    redirectToStripe: async () => {\n      if (user.value.id) {\n        const checkoutRef = await addCheckout({ userId: user.value.id })\n        const data = checkoutRef.data()\n\n        if (data?.error) {\n          console.warn({ error: data.error })\n\n          return false\n        }\n\n        window.location.assign(data?.url)\n\n        return true\n      }\n\n      return false\n    },\n  }\n}\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", { d: \"M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z\" }),\n    _createElementVNode(\"path\", { d: \"M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z\" })\n  ]))\n}","<script lang=\"ts\">\nimport { EnvelopeIcon } from '@heroicons/vue/24/solid'\nimport { type PropType, defineComponent } from 'vue'\nimport Modal from '/components/Modal.vue'\nimport { type AuthMagicLinkForm } from '/composables'\n\nexport default defineComponent({\n  components: {\n    EnvelopeIcon,\n    Modal,\n  },\n  props: {\n    form: {\n      default: () => ({\n        email: '',\n        error: '',\n        confirmed: false,\n        confirming: false,\n      }),\n      type: Object as PropType<AuthMagicLinkForm>\n    },\n  },\n  emits: ['close', 'confirm'],\n  setup(props, { emit }) {\n    const close = () => {\n      emit('close')\n    }\n\n    const confirm = () => {\n      props.form.confirming = true\n\n      emit('confirm', props.form)\n    }\n\n    return {\n      close,\n      confirm,\n    }\n  },\n})\n</script>\n\n<template>\n  <Modal @close=\"close\">\n    <template #header>\n      <span>Complete <strong>magic link</strong> sign-in</span>\n    </template>\n    <div>\n      <p>For your security, please confirm your email address.</p>\n      <label class=\"flex items-center gap-3 cursor-text rounded px-3 py-2 shadow outline-none mt-4 border\">\n        <EnvelopeIcon class=\"h-5 w-5\" />\n        <input v-model=\"form.email\" class=\"bg-transparent flex-grow outline-none\" placeholder=\"Email address\" type=\"email\">\n      </label>\n      <p v-if=\"form.error\" class=\"mt-1 text-red-500\">{{ form.error }}</p>\n      <p v-else-if=\"form.confirming || form.confirmed\" class=\"mt-1\">\n        <span>Verifying your email... <strong v-if=\"form.confirmed\">email verified</strong></span>\n      </p>\n    </div>\n    <template #footer>\n      <div class=\"flex items-center justify-end gap-2\">\n        <button type=\"submit\" class=\"button-flat button-size-medium\" @click=\"confirm\">Confirm</button>\n      </div>\n    </template>\n  </Modal>\n</template>\n","<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport Modal from '/components/Modal.vue'\n\nexport default defineComponent({\n  components: {\n    Modal,\n  },\n  props: {\n    error: {\n      type: String,\n    },\n  },\n  emits: ['close'],\n  setup(_props, { emit }) {\n    const close = () => {\n      emit('close')\n    }\n\n    return {\n      close,\n    }\n  },\n})\n</script>\n\n<template>\n  <Modal @close=\"close\">\n    <template #header>\n      <span>Complete subscription at Stripe</span>\n    </template>\n    <div>\n      <p v-if=\"error\" class=\"mt-1 text-red-500\">{{ error }}</p>\n      <div v-else class=\"flex flex-col gap-4\">\n        <p>You will be redirected to Stripe in just a moment...</p>\n      </div>\n    </div>\n  </Modal>\n</template>\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n    })\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n    })\n  ]))\n}","<script lang=\"ts\">\nimport { computed, defineComponent } from 'vue'\n\nexport default defineComponent({\n  emits: ['update:modelValue'],\n  props: {\n    modelValue: {\n      default: '',\n      type: String,\n    },\n    placeholder: {\n      type: String,\n    },\n    type: {\n      default: 'text',\n      type: String,\n    },\n  },\n  setup(props, { emit }) {\n    const text = computed({\n      get() {\n        return props.modelValue\n      },\n      set(value: string) {\n        emit('update:modelValue', value)\n      },\n    })\n\n    return {\n      text,\n    }\n  },\n})\n</script>\n\n<template>\n  <label class=\"border border-current cursor-pointer flex gap-3 items-center px-3 py-2 rounded shadow focus-within:outline-none focus-within:ring\">\n    <slot name=\"icon\" />\n    <input v-model=\"text\" class=\"bg-transparent flex-grow outline-none text-current\" :placeholder=\"placeholder\" :type=\"type\">\n  </label>\n</template>\n","<script lang=\"ts\">\nimport { EnvelopeIcon } from '@heroicons/vue/24/solid'\nimport { type PropType, defineComponent } from 'vue'\nimport Button from './CoreButton.vue'\nimport FormText from '/components/FormText.vue'\nimport { type AuthMagicLinkForm } from '/composables'\n\nexport default defineComponent({\n  components: {\n    Button,\n    EnvelopeIcon,\n    FormText,\n  },\n  props: {\n    form: {\n      default: () => ({\n        confirmed: false,\n        confirming: false,\n        email: '',\n        error: '',\n      }),\n      type: Object as PropType<AuthMagicLinkForm>\n    },\n  },\n  emits: ['send'],\n  setup(props, { emit }) {\n    const send = () => {\n      props.form.confirming = true\n\n      emit('send', props.form)\n    }\n\n    return {\n      send,\n    }\n  },\n})\n</script>\n\n<template>\n  <section class=\"flex flex-col gap-2\">\n    <FormText v-model=\"form.email\" placeholder=\"Enter your email address\" type=\"email\">\n      <template #icon>\n        <EnvelopeIcon class=\"h-5 w-5\" />\n      </template>\n    </FormText>\n    <Button @click=\"send\">\n      <span>Send me a <strong>magic link</strong></span>\n    </Button>\n    <p v-if=\"form.error\" class=\"text-red-500\">{{ form.error }}</p>\n    <p v-else-if=\"form.confirming || form.confirmed\">\n      <span>Sending your magic link... <strong v-if=\"form.confirmed\">email sent</strong></span>\n    </p>\n  </section>\n</template>\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  fill: \"currentColor\",\n  viewBox: \"0 0 136 133\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"xml:space\": \"preserve\",\n  style: {\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"2\"}\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", { d: \"M67.867 0C30.387 0 0 30.388 0 67.875c0 29.988 19.446 55.425 46.417 64.404 3.396.621 4.633-1.475 4.633-3.275 0-1.608-.058-5.879-.092-11.541-18.879 4.1-22.862-9.1-22.862-9.1-3.088-7.842-7.538-9.93-7.538-9.93-6.162-4.208.467-4.125.467-4.125 6.813.48 10.396 6.996 10.396 6.996 6.054 10.371 15.887 7.375 19.754 5.638.617-4.384 2.367-7.375 4.308-9.071-15.07-1.713-30.916-7.538-30.916-33.546 0-7.408 2.646-13.467 6.987-18.212-.7-1.717-3.029-8.617.663-17.963 0 0 5.7-1.825 18.666 6.958 5.413-1.508 11.221-2.258 16.992-2.283 5.763.025 11.571.775 16.992 2.283 12.958-8.783 18.646-6.958 18.646-6.958 3.704 9.346 1.375 16.246.674 17.963 4.35 4.745 6.98 10.804 6.98 18.212 0 26.075-15.871 31.813-30.992 33.492 2.438 2.096 4.608 6.237 4.608 12.571 0 9.07-.083 16.391-.083 18.616 0 1.817 1.221 3.929 4.667 3.267 26.95-8.996 46.379-34.417 46.379-64.396C135.746 30.388 105.354 0 67.867 0\" }, null, -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_3))\n}\nexport default { render: render }","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  fill: \"currentColor\",\n  viewBox: \"0 0 256 262\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  preserveAspectRatio: \"xMidYMid\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", { d: \"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027\" }, null, -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"path\", { d: \"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1\" }, null, -1)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"path\", { d: \"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782\" }, null, -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"path\", { d: \"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251\" }, null, -1)\nconst _hoisted_6 = [\n  _hoisted_2,\n  _hoisted_3,\n  _hoisted_4,\n  _hoisted_5\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_6))\n}\nexport default { render: render }","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  fill: \"currentColor\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 248 204\",\n  \"xml:space\": \"preserve\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", { d: \"M221.95 51.29c.15 2.17.15 4.34.15 6.53 0 66.73-50.8 143.69-143.69 143.69v-.04c-27.44.04-54.31-7.82-77.41-22.64 3.99.48 8 .72 12.02.73 22.74.02 44.83-7.61 62.72-21.66-21.61-.41-40.56-14.5-47.18-35.07a50.338 50.338 0 0 0 22.8-.87C27.8 117.2 10.85 96.5 10.85 72.46v-.64a50.18 50.18 0 0 0 22.92 6.32C11.58 63.31 4.74 33.79 18.14 10.71a143.333 143.333 0 0 0 104.08 52.76 50.532 50.532 0 0 1 14.61-48.25c20.34-19.12 52.33-18.14 71.45 2.19 11.31-2.23 22.15-6.38 32.07-12.26a50.69 50.69 0 0 1-22.2 27.93c10.01-1.18 19.79-3.86 29-7.95a102.594 102.594 0 0 1-25.2 26.16z\" }, null, -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_3))\n}\nexport default { render: render }","<script lang=\"ts\">\nimport { type PropType, computed, defineComponent } from 'vue'\nimport Button from './CoreButton.vue'\nimport LocalGitHubIcon from '/assets/github.svg?component'\nimport LocalGoogleIcon from '/assets/google.svg?component'\nimport LocalTwitterIcon from '/assets/twitter.svg?component'\nimport { type AuthSocialForm } from '/composables'\n\n/**\n * @example\n *\n * <AuthSocialLinks\n *   :providers=\"['github', 'google']\"\n *   @action=\"onAction\"\n * />\n */\nexport default defineComponent({\n  components: {\n    Button,\n    LocalGitHubIcon,\n    LocalGoogleIcon,\n    LocalTwitterIcon,\n  },\n  emits: ['provider'],\n  props: {\n    form: {\n      default: () => ({\n        confirmed: false,\n        confirming: false,\n        error: '',\n      }),\n      type: Object as PropType<AuthSocialForm>\n    },\n    providers: {\n      default: () => ['github', 'google', 'twitter'],\n      type: Array,\n    },\n  },\n  setup(props, { emit }) {\n    const allowGitHub = computed(() => props.providers.includes('github'))\n    const allowGoogle = computed(() => props.providers.includes('google'))\n    const allowTwitter = computed(() => props.providers.includes('twitter'))\n    const clickProvider = (provider: string) => {\n      props.form.confirmed = false\n      props.form.confirming = true\n      props.form.error = ''\n\n      emit('provider', provider)\n    }\n\n    return {\n      allowGitHub,\n      allowGoogle,\n      allowTwitter,\n      clickProvider,\n    }\n  },\n})\n</script>\n\n<template>\n  <section class=\"flex flex-col gap-2\">\n    <Button v-if=\"allowGitHub\" @click=\"clickProvider('github')\">\n      <LocalGitHubIcon class=\"h-5 w-5\" />\n      <span>Continue with GitHub</span>\n    </Button>\n    <Button @click=\"clickProvider('google')\">\n      <LocalGoogleIcon class=\"h-5 w-5\" />\n      <span>Continue with Google</span>\n    </Button>\n    <Button @click=\"clickProvider('twitter')\">\n      <LocalTwitterIcon class=\"h-5 w-5\" />\n      <span>Continue with Twitter</span>\n    </Button>\n    <p v-if=\"form.error\" class=\"text-red-500\">{{ form.error }}</p>\n    <p v-else-if=\"form.confirming\">\n      <span>Redirecting to your provider...</span>\n    </p>\n  </section>\n</template>\n","<script lang=\"ts\">\nimport { ArrowUpCircleIcon } from '@heroicons/vue/24/outline'\nimport { type PropType, defineComponent } from 'vue'\nimport AuthMagicLink from '/components/AuthMagicLink.vue'\nimport AuthSocialLinks from '/components/AuthSocialLinks.vue'\nimport CoreButton from '/components/CoreButton.vue'\nimport CorePanel from '/components/CorePanel.vue'\nimport { type AuthMagicLinkForm, type Tier } from '/composables'\n\nexport default defineComponent({\n  components: {\n    ArrowUpCircleIcon,\n    AuthMagicLink,\n    AuthSocialLinks,\n    CoreButton,\n    CorePanel,\n  },\n  props: {\n    tier: {\n      default: () => ({\n        active: false,\n        allowUpgrade: false,\n        price: undefined,\n        priceFrequency: undefined,\n      }),\n      type: Object as PropType<Tier>,\n    },\n  },\n  emits: ['magicLink', 'socialLink', 'upgrade'],\n  setup(props, { emit }) {\n    const onMagicLink = (form: AuthMagicLinkForm) => {\n      emit('magicLink', {\n        form,\n        tier: props.tier,\n      })\n    }\n    const onSocialLink = (provider: string) => {\n      emit('socialLink', {\n        provider,\n        tier: props.tier,\n      })\n    }\n    const onUpgrade = () => {\n      emit('upgrade', {\n        tier: props.tier,\n      })\n    }\n\n    return {\n      onMagicLink,\n      onSocialLink,\n      onUpgrade,\n    }\n  },\n})\n</script>\n\n<template>\n  <CorePanel class=\"flex-shrink flex-basis-1/2\">\n    <slot name=\"alert\" />\n    <h3 class=\"text-3xl flex flex-col gap-2 lg:flex-row justify-between\">\n      <span class=\"font-bold flex items-center\">\n        <span><slot name=\"displayName\">{{ tier.displayName }}</slot></span>\n        <span v-if=\"tier.active\" class=\"bg-gray-200 dark:bg-gray-900 text-base font-normal py-0.5 px-2 rounded ml-2\">Active</span>\n      </span>\n      <span class=\"font-semibold\" v-if=\"tier.price && tier.priceFrequency\"><span><slot name=\"price\">{{ tier.price }}</slot></span> <span class=\"text-base font-normal\"><slot name=\"priceFrequency\">{{ tier.priceFrequency }}</slot></span></span>\n    </h3>\n    <p><slot name=\"description\">{{ tier.description }}</slot></p>\n    <section v-if=\"tier.allowUpgrade\" class=\"flex flex-col gap-2\">\n      <CoreButton @click=\"onUpgrade\" class=\"text-primary\">\n        <ArrowUpCircleIcon class=\"h-6\" />\n        <span>Upgrade Subscription</span>\n      </CoreButton>\n    </section>\n    <section v-else-if=\"tier.allowSignUp\" class=\"flex flex-col gap-2\">\n      <AuthMagicLink :form=\"tier.forms.magicLink\" @send=\"onMagicLink\" />\n      <div class=\"text-center my-2\">&mdash; or &mdash;</div>\n      <AuthSocialLinks :form=\"tier.forms.social\" @provider=\"onSocialLink\" />\n    </section>\n    <p class=\"font-semibold\">This is what you get</p>\n    <slot name=\"perks\" />\n  </CorePanel>\n</template>\n","<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport AuthMagicLinkModal from '/components/AuthMagicLinkModal.vue'\nimport AuthStripeModal from '/components/AuthStripeModal.vue'\nimport AuthTier from '/components/AuthTier.vue'\nimport CheckList from '/components/CheckList.vue'\nimport CheckListItem from '/components/CheckListItem.vue'\nimport { type AuthMagicLinkForm, type AuthProviderType, type Tier, useAuthFlow, useAuthForm, useMagicLink, useSocial, useStripe, useTiers } from '/composables'\n\nexport default defineComponent({\n  components: {\n    AuthMagicLinkModal,\n    AuthStripeModal,\n    AuthTier,\n    CheckList,\n    CheckListItem,\n  },\n  setup() {\n    const isMagicLinkModalClosed = ref(false)\n    const isStripeModalClosed = ref(false)\n    const isRedirecting = ref(false)\n    const stripeError = ref('')\n    const router = useRouter()\n    const { isMagicLinkFlow, isSocialFlow } = useAuthFlow()\n    const modalForm = useAuthForm()\n    const { emailAddress, isMagicLink, isOriginalClient, sendMagicLinkEmail, signInWithMagicLink } = useMagicLink()\n    const { active: activeTier, personal: personalTier, pro: proTier } = useTiers()\n    const { redirectToSocial, signInWithSocial } = useSocial()\n    const { redirectToStripe } = useStripe()\n\n    if (activeTier) {\n      const flowSocialForm = isSocialFlow.value ? activeTier.value.forms.social : undefined\n\n      if (flowSocialForm) {\n        signInWithSocial(flowSocialForm).then((result) => {\n          if (!result) {\n            flowSocialForm.error = 'You were not signed in. Please try again.'\n\n            return false\n          }\n\n          flowSocialForm.confirmed = true\n\n          if (activeTier.value.isPaying) {\n            isRedirecting.value = true\n\n            redirectToStripe().then((isValid) => {\n              if (!isValid) {\n                stripeError.value = 'An unexpected error occurred while communicating with Stripe.'\n              }\n            })\n          }\n        }).catch((error) => {\n          console.warn({ error })\n        })\n      }\n    }\n\n    if (isMagicLinkFlow.value) {\n      if (isOriginalClient.value && emailAddress.value) {\n        modalForm.email = emailAddress.value\n\n        signInWithMagicLink(modalForm).then((isSignedIn) => {\n          if (isSignedIn) {\n            isMagicLinkModalClosed.value = true\n\n            if (activeTier?.value.isPaying) {\n              isRedirecting.value = true\n\n              redirectToStripe().then((isValid) => {\n                if (!isValid) {\n                  stripeError.value = 'An unexpected error occurred while communicating with Stripe.'\n                }\n              })\n            } else {\n              router.push({ path: '/docs/new' })\n            }\n          }\n        })\n      }\n    }\n\n    const onMagicLinkModalClose = () => {\n      isMagicLinkModalClosed.value = true\n    }\n\n    const onStripeModalClose = () => {\n      isStripeModalClosed.value = true\n    }\n\n    const onMagicLink = ({ form, tier  }: { form: AuthMagicLinkForm, tier: Tier }) => {\n      sendMagicLinkEmail({ form, tier })\n    }\n\n    const onMagicLinkConfirm = async (form: AuthMagicLinkForm) => {\n      const isSignedIn = await signInWithMagicLink(form)\n\n      if (isSignedIn) {\n        isMagicLinkModalClosed.value = true\n\n        if (activeTier?.value.isPaying) {\n          isRedirecting.value = true\n\n          redirectToStripe().then((isValid) => {\n            if (!isValid) {\n              stripeError.value = 'An unexpected error occurred while communicating with Stripe.'\n            }\n          })\n        } else {\n          router.push({ path: '/docs/new' })\n        }\n      }\n    }\n\n    const onSocialLink = ({ provider, tier }: { provider: AuthProviderType, tier: Tier }) => {\n      redirectToSocial({ provider, tier })\n    }\n\n    const onUpgrade = () => {\n      isRedirecting.value = true\n\n      redirectToStripe().then((isValid) => {\n        if (!isValid) {\n          stripeError.value = 'An unexpected error occurred while communicating with Stripe.'\n        }\n      })\n    }\n\n    return {\n      isMagicLink,\n      isMagicLinkFlow,\n      isMagicLinkModalClosed,\n      isOriginalClient,\n      isRedirecting,\n      isStripeModalClosed,\n      modalForm,\n      onMagicLink,\n      onMagicLinkConfirm,\n      onMagicLinkModalClose,\n      onSocialLink,\n      onStripeModalClose,\n      onUpgrade,\n      personalTier,\n      proTier,\n      stripeError,\n    }\n  },\n})\n</script>\n\n<template>\n  <section class=\"flex flex-col justify-center lg:flex-row gap-4\">\n    <AuthTier :tier=\"personalTier\" @magic-link=\"onMagicLink\" @social-link=\"onSocialLink\" @upgrade=\"onUpgrade\">\n      <template #perks>\n        <CheckList>\n          <CheckListItem>Unlimited private docs</CheckListItem>\n          <CheckListItem>Unlimited syncing across devices</CheckListItem>\n          <CheckListItem>Automatic backups and retention</CheckListItem>\n          <CheckListItem>Client-side encryption</CheckListItem>\n        </CheckList>\n      </template>\n    </AuthTier>\n    <AuthTier :tier=\"proTier\" @magic-link=\"onMagicLink\" @social-link=\"onSocialLink\" @upgrade=\"onUpgrade\">\n      <template #price>\n        <span><small class=\"font-normal text-base align-text-top\">$</small>{{ proTier.price }}</span>\n      </template>\n      <template #perks>\n        <CheckList>\n          <CheckListItem>Everything in <strong>Personal</strong></CheckListItem>\n          <CheckListItem>Unlimited public docs</CheckListItem>\n          <CheckListItem>Unlimited file attachments</CheckListItem>\n          <CheckListItem>Realtime collaboration (coming soon)</CheckListItem>\n          <CheckListItem>1% of revenue <a href=\"https://stripe.com/climate\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-primary\">funds carbon removal</a></CheckListItem>\n        </CheckList>\n      </template>\n    </AuthTier>\n    <AuthMagicLinkModal v-if=\"isMagicLinkFlow && !isMagicLinkModalClosed\" :form=\"modalForm\" @close=\"onMagicLinkModalClose\" @confirm=\"onMagicLinkConfirm\" />\n    <AuthStripeModal v-else-if=\"isRedirecting && !isStripeModalClosed\" :error=\"stripeError\" @close=\"onStripeModalClose\" />\n  </section>\n</template>\n"],"names":["render","_openBlock","_createElementBlock","_createElementVNode","EnvelopeIcon","_hoisted_1","_createTextVNode","_hoisted_4","_hoisted_5","_resolveComponent","_createBlock","_withCtx","_hoisted_7","_hoisted_2","_hoisted_3","_createVNode","_withDirectives","_toDisplayString","_hoisted_6","_createCommentVNode","_sfc_render","_renderSlot","Button","LocalGitHubIcon","LocalGoogleIcon","LocalTwitterIcon","_hoisted_8","ArrowUpCircleIcon","CorePanel","CheckList","CheckListItem"],"mappings":"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"}