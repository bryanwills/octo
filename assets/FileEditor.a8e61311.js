import{z as m,aj as w,ak as n,Q as g,$ as b,al as h,a as v,e as k,B as r,am as x}from"./index.da0d63c3.js";import{E}from"./Editor.b4f2f132.js";import{u as _}from"./files.e0e388c9.js";const S=m({name:"FileEditor",props:{id:String},setup(c){const{id:i}=c,l=_(),a=w(),u=new x(800),d=n(()=>a.state.settings.theme==="october"?"dark":a.state.settings.theme),p=n(()=>a.state.settings.editor),o=g(new b),e=n(()=>l.files.find(t=>t.id===i));h(async()=>{if(e!=null&&e.value){await e.value.handle.createWritable();const t=await e.value.handle.getFile();t&&o.value.update({text:await t.text()})}});const f=async t=>{u.debounce(e.value.id,async()=>{const s=await e.value.handle.createWritable();s.write(t),s.close()})};return(t,s)=>(v(),k(E,{appearance:r(d),settings:r(p),doc:o.value,onInput:f},null,8,["appearance","settings","doc"]))}});export{S as default};
